/*
 zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */
var egret;(function(d){var e=function(){function d(){this._hashCode=d.hashCount++}Object.defineProperty(d.prototype,"hashCode",{get:function(){return this._hashCode},enumerable:!0,configurable:!0});d.hashCount=1;return d}();d.HashObject=e;e.prototype.__class__="egret.HashObject"})(egret||(egret={}));var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(b){"undefined"===typeof b&&(b=300);d.call(this);this.objectPool=[];this._length=0;1>b&&(b=1);this.autoDisposeTime=b;this.frameCount=0}__extends(c,d);c.prototype._checkFrame=function(){this.frameCount--;0>=this.frameCount&&this.dispose()};Object.defineProperty(c.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0});c.prototype.push=function(b){var a=this.objectPool;-1==a.indexOf(b)&&(a.push(b),this._length++,0==this.frameCount&&
(this.frameCount=this.autoDisposeTime,c._callBackList.push(this)))};c.prototype.pop=function(){if(0==this._length)return null;this._length--;return this.objectPool.pop()};c.prototype.dispose=function(){0<this._length&&(this.objectPool=[],this._length=0);this.frameCount=0;var b=c._callBackList,a=b.indexOf(this);-1!=a&&b.splice(a,1)};c._callBackList=[];return c}(d.HashObject);d.Recycler=e;e.prototype.__class__="egret.Recycler"})(egret||(egret={}));
(function(d){d.__START_TIME;d.getTimer=function(){return Date.now()-d.__START_TIME}})(egret||(egret={}));(function(d){d.__callLaterFunctionList=[];d.__callLaterThisList=[];d.__callLaterArgsList=[];d.callLater=function(e,f){for(var c=[],b=0;b<arguments.length-2;b++)c[b]=arguments[b+2];d.__callLaterFunctionList.push(e);d.__callLaterThisList.push(f);d.__callLaterArgsList.push(c)}})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b,a,g){"undefined"===typeof a&&(a=!1);"undefined"===typeof g&&(g=!1);e.call(this);this._eventPhase=2;this._isPropagationImmediateStopped=this._isPropagationStopped=this._isDefaultPrevented=!1;this.isNew=!0;this._type=b;this._bubbles=a;this._cancelable=g}__extends(c,e);Object.defineProperty(c.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"bubbles",{get:function(){return this._bubbles},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"cancelable",{get:function(){return this._cancelable},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0});c.prototype._setCurrentTarget=function(b){this._currentTarget=b};Object.defineProperty(c.prototype,"target",
{get:function(){return this._target},enumerable:!0,configurable:!0});c.prototype.isDefaultPrevented=function(){return this._isDefaultPrevented};c.prototype.preventDefault=function(){this._cancelable&&(this._isDefaultPrevented=!0)};c.prototype.stopPropagation=function(){this._bubbles&&(this._isPropagationStopped=!0)};c.prototype.stopImmediatePropagation=function(){this._bubbles&&(this._isPropagationImmediateStopped=!0)};c.prototype._reset=function(){this.isNew?this.isNew=!1:(this._isPropagationImmediateStopped=
this._isPropagationStopped=this._isDefaultPrevented=!1,this._currentTarget=this._target=null,this._eventPhase=2)};c._dispatchByTarget=function(b,a,g,c,e,f){"undefined"===typeof e&&(e=!1);"undefined"===typeof f&&(f=!1);var h=b.eventRecycler;h||(h=b.eventRecycler=new d.Recycler);var m=h.pop();m?m._type=g:m=new b(g);m._bubbles=e;m._cancelable=f;if(c)for(var q in c)m[q]=c[q],null!==m[q]&&(c[q]=null);b=a.dispatchEvent(m);h.push(m);return b};c._getPropertyData=function(b){var a=b._props;a||(a=b._props=
{});return a};c.dispatchEvent=function(b,a,g,d){"undefined"===typeof g&&(g=!1);var e=c._getPropertyData(c);d&&(e.data=d);c._dispatchByTarget(c,b,a,e,g)};c.ADDED_TO_STAGE="addedToStage";c.REMOVED_FROM_STAGE="removedFromStage";c.ADDED="added";c.REMOVED="removed";c.COMPLETE="complete";c.ENTER_FRAME="enterFrame";c.RENDER="render";c.FINISH_RENDER="finishRender";c.FINISH_UPDATE_TRANSFORM="finishUpdateTransform";c.LEAVE_STAGE="leaveStage";c.RESIZE="resize";c.CHANGE="change";return c}(d.HashObject);d.Event=
e;e.prototype.__class__="egret.Event"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b,a,g){"undefined"===typeof a&&(a=!1);"undefined"===typeof g&&(g=!1);e.call(this,b,a,g)}__extends(c,e);c.dispatchIOErrorEvent=function(b){d.Event._dispatchByTarget(c,b,c.IO_ERROR)};c.IO_ERROR="ioError";return c}(d.Event);d.IOErrorEvent=e;e.prototype.__class__="egret.IOErrorEvent"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b,a,g,c,d,l,h,m,q,s){"undefined"===typeof a&&(a=!0);"undefined"===typeof g&&(g=!0);"undefined"===typeof c&&(c=0);"undefined"===typeof d&&(d=0);"undefined"===typeof l&&(l=0);"undefined"===typeof h&&(h=!1);"undefined"===typeof m&&(m=!1);"undefined"===typeof s&&(s=!1);e.call(this,b,a,g);this._localY=this._localX=this._stageY=this._stageX=0;this.touchPointID=c;this._stageX=d;this._stageY=l;this.ctrlKey=h;this.altKey=m;this.touchDown=s}__extends(c,e);Object.defineProperty(c.prototype,
"stageX",{get:function(){return this._stageX},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"stageY",{get:function(){return this._stageY},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"localX",{get:function(){return this._localX},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"localY",{get:function(){return this._localY},enumerable:!0,configurable:!0});c.prototype._setCurrentTarget=function(b){e.prototype._setCurrentTarget.call(this,b);b instanceof
d.DisplayObject&&(b=b.globalToLocal(this._stageX,this._stageY,d.Point.identity),this._localX=b.x,this._localY=b.y)};c.dispatchTouchEvent=function(b,a,g,e,f,l,h,m,q){"undefined"===typeof g&&(g=0);"undefined"===typeof e&&(e=0);"undefined"===typeof f&&(f=0);"undefined"===typeof l&&(l=!1);"undefined"===typeof h&&(h=!1);"undefined"===typeof m&&(m=!1);"undefined"===typeof q&&(q=!1);var s=d.Event._getPropertyData(c);s.touchPointID=g;s._stageX=e;s._stageY=f;s.ctrlKey=l;s.altKey=h;s.shiftKey=m;s.touchDown=
q;d.Event._dispatchByTarget(c,b,a,s,!0,!0)};c.TOUCH_TAP="touchTap";c.TOUCH_MOVE="touchMove";c.TOUCH_BEGIN="touchBegin";c.TOUCH_END="touchEnd";c.TOUCH_RELEASE_OUTSIDE="touchReleaseOutside";c.TOUCH_ROLL_OUT="touchRollOut";c.TOUCH_ROLL_OVER="touchRollOver";c.TOUCH_OUT="touchOut";c.TOUCH_OVER="touchOver";return c}(d.Event);d.TouchEvent=e;e.prototype.__class__="egret.TouchEvent"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b,a,g){"undefined"===typeof a&&(a=!1);"undefined"===typeof g&&(g=!1);e.call(this,b,a,g)}__extends(c,e);c.dispatchTimerEvent=function(b,a){d.Event._dispatchByTarget(c,b,a)};c.TIMER="timer";c.TIMER_COMPLETE="timerComplete";return c}(d.Event);d.TimerEvent=e;e.prototype.__class__="egret.TimerEvent"})(egret||(egret={}));
(function(d){var e=function(){function d(){}d.CAPTURING_PHASE=1;d.AT_TARGET=2;d.BUBBLING_PHASE=3;return d}();d.EventPhase=e;e.prototype.__class__="egret.EventPhase"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b){"undefined"===typeof b&&(b=null);e.call(this);this._eventTarget=b?b:this}__extends(c,e);c.prototype.addEventListener=function(b,a,g,c,e){"undefined"===typeof c&&(c=!1);"undefined"===typeof e&&(e=0);"undefined"===typeof c&&(c=!1);"undefined"===typeof e&&(e=0);a||d.Logger.fatal("addEventListener\u4fa6\u542c\u51fd\u6570\u4e0d\u80fd\u4e3a\u7a7a");c?(this._captureEventsMap||(this._captureEventsMap={}),c=this._captureEventsMap):(this._eventsMap||(this._eventsMap=
{}),c=this._eventsMap);var f=c[b];f||(f=c[b]=[]);this._insertEventBin(f,a,g,e)};c.prototype._insertEventBin=function(b,a,g,c){for(var d=-1,e=b.length,f=0;f<e;f++){var m=b[f];if(m.listener===a&&m.thisObject===g)return!1;-1==d&&m.priority<c&&(d=f)}a={listener:a,thisObject:g,priority:c};-1!=d?b.splice(d,0,a):b.push(a);return!0};c.prototype.removeEventListener=function(b,a,g,c){"undefined"===typeof c&&(c=!1);if(c=c?this._captureEventsMap:this._eventsMap){var d=c[b];d&&(this._removeEventBin(d,a,g),0==
d.length&&delete c[b])}};c.prototype._removeEventBin=function(b,a,g){for(var c=b.length,d=0;d<c;d++){var e=b[d];if(e.listener===a&&e.thisObject===g)return b.splice(d,1),!0}return!1};c.prototype.hasEventListener=function(b){return this._eventsMap&&this._eventsMap[b]||this._captureEventsMap&&this._captureEventsMap[b]};c.prototype.willTrigger=function(b){return this.hasEventListener(b)};c.prototype.dispatchEvent=function(b){b._reset();b._target=this._eventTarget;b._setCurrentTarget(this._eventTarget);
return this._notifyListener(b)};c.prototype._notifyListener=function(b){var a=1==b._eventPhase?this._captureEventsMap:this._eventsMap;if(!a)return!0;a=a[b.type];if(!a)return!0;for(var a=a.concat(),g=a.length,c=0;c<g;c++){var d=a[c];d.listener.call(d.thisObject,b);if(b._isPropagationImmediateStopped)break}return!b.isDefaultPrevented()};c.prototype.dispatchEventWith=function(b,a,g){"undefined"===typeof a&&(a=!1);d.Event.dispatchEvent(this,b,a,g)};return c}(d.HashObject);d.EventDispatcher=e;e.prototype.__class__=
"egret.EventDispatcher"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this.reuseEvent=new d.Event("")}__extends(c,e);c.prototype.run=function(){d.Ticker.getInstance().run();d.Ticker.getInstance().register(this.renderLoop,this,Number.NEGATIVE_INFINITY);d.Ticker.getInstance().register(this.broadcastEnterFrame,this,Number.POSITIVE_INFINITY);this.touchContext.run()};c.prototype.renderLoop=function(b){b=this.rendererContext;b.clearScreen();if(0<d.__callLaterFunctionList.length){var a=d.__callLaterFunctionList;d.__callLaterFunctionList=
[];var g=d.__callLaterThisList;d.__callLaterThisList=[];var c=d.__callLaterArgsList;d.__callLaterArgsList=[]}this.dispatchEventWith(d.Event.RENDER);d.Stage._invalidateRenderFlag&&(this.broadcastRender(),d.Stage._invalidateRenderFlag=!1);a&&this.doCallLaterList(a,g,c);this.stage._updateTransform();this.dispatchEventWith(d.Event.FINISH_UPDATE_TRANSFORM);this.stage._draw(b);this.dispatchEventWith(d.Event.FINISH_RENDER)};c.prototype.broadcastEnterFrame=function(b){b=this.reuseEvent;b._type=d.Event.ENTER_FRAME;
this.dispatchEvent(b);for(var a=d.DisplayObject._enterFrameCallBackList.concat(),g=a.length,c=0;c<g;c++){var e=a[c];b._target=e.display;b._setCurrentTarget(e.display);e.listener.call(e.thisObject,b)}a=d.Recycler._callBackList;for(c=a.length-1;0<=c;c--)a[c]._checkFrame()};c.prototype.broadcastRender=function(){var b=this.reuseEvent;b._type=d.Event.RENDER;for(var a=d.DisplayObject._renderCallBackList.concat(),g=a.length,c=0;c<g;c++){var e=a[c];b._target=e.display;b._setCurrentTarget(e.display);e.listener.call(e.thisObject,
b)}};c.prototype.doCallLaterList=function(b,a,g){for(var c=b.length,d=0;d<c;d++){var e=b[d];null!=e&&e.apply(a[d],g[d])}};c.DEVICE_PC="web";c.DEVICE_MOBILE="native";return c}(d.EventDispatcher);d.MainContext=e;e.prototype.__class__="egret.MainContext"})(egret||(egret={}));var testDeviceType=function(){if(!this.hasOwnProperty("navigator"))return!0;var d=navigator.userAgent.toLowerCase();return-1!=d.indexOf("mobile")||-1!=d.indexOf("android")};egret.MainContext.instance=new egret.MainContext;
egret.MainContext.deviceType=testDeviceType()?egret.MainContext.DEVICE_MOBILE:egret.MainContext.DEVICE_PC;
(function(d){var e=function(){function e(){this._tick=this._preDrawCount=this._updateTransformPerformanceCost=this._renderPerformanceCost=this._logicPerformanceCost=this._lastTime=0;this._maxDeltaTime=500;this._totalDeltaTime=0}e.getInstance=function(){null==e.instance&&(e.instance=new e);return e.instance};e.prototype.run=function(){d.Ticker.getInstance().register(this.update,this);null==this._txt&&(this._txt=new d.TextField,this._txt.size=28,d.MainContext.instance.stage.addChild(this._txt));var c=
d.MainContext.instance;c.addEventListener(d.Event.ENTER_FRAME,this.onEnterFrame,this);c.addEventListener(d.Event.RENDER,this.onStartRender,this);c.addEventListener(d.Event.FINISH_RENDER,this.onFinishRender,this);c.addEventListener(d.Event.FINISH_UPDATE_TRANSFORM,this.onFinishUpdateTransform,this)};e.prototype.onEnterFrame=function(c){this._lastTime=d.getTimer()};e.prototype.onStartRender=function(c){c=d.getTimer();this._logicPerformanceCost=c-this._lastTime;this._lastTime=c};e.prototype.onFinishUpdateTransform=
function(c){c=d.getTimer();this._updateTransformPerformanceCost=c-this._lastTime;this._lastTime=c};e.prototype.onFinishRender=function(c){c=d.getTimer();this._renderPerformanceCost=c-this._lastTime;this._lastTime=c};e.prototype.update=function(c){this._tick++;this._totalDeltaTime+=c;if(this._totalDeltaTime>=this._maxDeltaTime){c=(this._preDrawCount-1).toString();var b=Math.ceil(this._logicPerformanceCost).toString()+","+Math.ceil(this._updateTransformPerformanceCost).toString()+","+Math.ceil(this._renderPerformanceCost).toString()+
","+Math.ceil(d.MainContext.instance.rendererContext.renderCost).toString();this._txt.text="draw:"+c+"\ncost:"+b+"\nFPS:"+Math.floor(1E3*this._tick/this._totalDeltaTime).toString();this._tick=this._totalDeltaTime=0}this._preDrawCount=0};e.prototype.onDrawImage=function(){this._preDrawCount++};return e}();d.Profiler=e;e.prototype.__class__="egret.Profiler"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.apply(this,arguments);this._timeScale=1;this._paused=!1;this.callBackList=[]}__extends(c,e);c.prototype.run=function(){d.__START_TIME=(new Date).getTime();d.MainContext.instance.deviceContext.executeMainLoop(this.update,this)};c.prototype.update=function(b){var a=this.callBackList.concat(),g=a.length;b*=this._timeScale;b*=this._timeScale;for(var c=0;c<g;c++){var d=a[c];d.listener.call(d.thisObject,b)}};c.prototype.register=function(b,a,g){"undefined"===
typeof g&&(g=0);this._insertEventBin(this.callBackList,b,a,g)};c.prototype.unregister=function(b,a){this._removeEventBin(this.callBackList,b,a)};c.prototype.setTimeout=function(b,a,g){for(var c=[],e=0;e<arguments.length-3;e++)c[e]=arguments[e+3];d.Logger.warning("Ticker#setTimeout\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528egret.setTimeout");d.setTimeout.apply(null,[b,a,g].concat(c))};c.prototype.setTimeScale=function(b){this._timeScale=b};c.prototype.getTimeScale=function(){return this._timeScale};
c.prototype.pause=function(){this._paused=!0};c.prototype.resume=function(){this._paused=!1};c.getInstance=function(){null==c.instance&&(c.instance=new c);return c.instance};return c}(d.EventDispatcher);d.Ticker=e;e.prototype.__class__="egret.Ticker"})(egret||(egret={}));
(function(d){var e=function(){function d(){}d.LEFT="left";d.RIGHT="right";d.CENTER="center";d.JUSTIFY="justify";d.CONTENT_JUSTIFY="contentJustify";return d}();d.HorizontalAlign=e;e.prototype.__class__="egret.HorizontalAlign"})(egret||(egret={}));(function(d){var e=function(){function d(){}d.TOP="top";d.BOTTOM="bottom";d.MIDDLE="middle";d.JUSTIFY="justify";d.CONTENT_JUSTIFY="contentJustify";return d}();d.VerticalAlign=e;e.prototype.__class__="egret.VerticalAlign"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b,a){"undefined"===typeof a&&(a=0);e.call(this);this._currentCount=0;this.delay=b;this.repeatCount=a}__extends(c,e);c.prototype.currentCount=function(){return this._currentCount};Object.defineProperty(c.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0});c.prototype.reset=function(){this.stop();this._currentCount=0};c.prototype.start=function(){this._running||(this.lastTime=d.getTimer(),0!=this._currentCount&&(this._currentCount=
0),d.Ticker.getInstance().register(this.onEnterFrame,this),this._running=!0)};c.prototype.stop=function(){this._running&&(d.Ticker.getInstance().unregister(this.onEnterFrame,this),this._running=!1)};c.prototype.onEnterFrame=function(b){b=d.getTimer();b-this.lastTime>this.delay&&(this.lastTime=b,this._currentCount++,d.TimerEvent.dispatchTimerEvent(this,d.TimerEvent.TIMER),0<this.repeatCount&&this._currentCount>=this.repeatCount&&(this.stop(),d.TimerEvent.dispatchTimerEvent(this,d.TimerEvent.TIMER_COMPLETE)))};
return c}(d.EventDispatcher);d.Timer=e;e.prototype.__class__="egret.Timer"})(egret||(egret={}));(function(d){d.getQualifiedClassName=function(d){d=d.prototype?d.prototype:d.__proto__;if(d.hasOwnProperty("__class__"))return d.__class__;var f=d.constructor.toString(),c=f.indexOf("("),f=f.substring(9,c);return d.__class__=f}})(egret||(egret={}));
(function(d){var e={};d.getDefinitionByName=function(d){if(!d)return null;var c=e[d];if(c)return c;for(var b=d.split("."),a=b.length,c=__global,g=0;g<a;g++)if(c=c[b[g]],!c)return null;return e[d]=c}})(egret||(egret={}));var __global=__global||this;
(function(d){function e(b){for(var a in f){var g=f[a];g.delay-=b;0>=g.delay&&(g.listener.apply(g.thisObject,g.params),delete f[a])}}var f={},c=0;d.setTimeout=function(b,a,g){for(var k=[],n=0;n<arguments.length-3;n++)k[n]=arguments[n+3];k={listener:b,thisObject:a,delay:g,params:k};0==c&&d.Ticker.getInstance().register(e,null);c++;f[c]=k;return c};d.clearTimeout=function(b){delete f[b]}})(egret||(egret={}));
(function(d){d.hasDefinition=function(e){return d.getDefinitionByName(e)?!0:!1}})(egret||(egret={}));(function(d){d.toColorString=function(d){if(isNaN(d)||0>d)d=0;16777215<d&&(d=16777215);for(d=d.toString(16).toUpperCase();6>d.length;)d="0"+d;return"#"+d}})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b,a,g,c,d,l){"undefined"===typeof b&&(b=1);"undefined"===typeof a&&(a=0);"undefined"===typeof g&&(g=0);"undefined"===typeof c&&(c=1);"undefined"===typeof d&&(d=0);"undefined"===typeof l&&(l=0);e.call(this);this.a=b;this.b=a;this.c=g;this.d=c;this.tx=d;this.ty=l}__extends(c,e);c.prototype.prepend=function(b,a,g,c,d,e){var f=this.tx;if(1!=b||0!=a||0!=g||1!=c){var m=this.a,q=this.c;this.a=m*b+this.b*g;this.b=m*a+this.b*c;this.c=q*b+this.d*g;this.d=q*a+this.d*
c}this.tx=f*b+this.ty*g+d;this.ty=f*a+this.ty*c+e;return this};c.prototype.append=function(b,a,g,c,d,e){var f=this.a,m=this.b,q=this.c,s=this.d;this.a=b*f+a*q;this.b=b*m+a*s;this.c=g*f+c*q;this.d=g*m+c*s;this.tx=d*f+e*q+this.tx;this.ty=d*m+e*s+this.ty;return this};c.prototype.prependMatrix=function(b){this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty);return this};c.prototype.appendMatrix=function(b){this.append(b.a,b.b,b.c,b.d,b.tx,b.ty);return this};c.prototype.prependTransform=function(b,a,g,d,e,f,h,m,q){if(e%
360){var s=e*c.DEG_TO_RAD;e=Math.cos(s);s=Math.sin(s)}else e=1,s=0;if(m||q)this.tx-=m,this.ty-=q;f||h?(f*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.prepend(e*g,s*g,-s*d,e*d,0,0),this.prepend(Math.cos(h),Math.sin(h),-Math.sin(f),Math.cos(f),b,a)):this.prepend(e*g,s*g,-s*d,e*d,b,a);return this};c.prototype.appendTransform=function(b,a,g,d,e,f,h,m,q){if(e%360){var s=e*c.DEG_TO_RAD;e=Math.cos(s);s=Math.sin(s)}else e=1,s=0;f||h?(f*=c.DEG_TO_RAD,h*=c.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(f),
Math.cos(f),b,a),this.append(e*g,s*g,-s*d,e*d,0,0)):this.append(e*g,s*g,-s*d,e*d,b,a);if(m||q)this.tx-=m*this.a+q*this.c,this.ty-=m*this.b+q*this.d;return this};c.prototype.rotate=function(b){var a=Math.cos(b);b=Math.sin(b);var g=this.a,c=this.c,d=this.tx;this.a=g*a-this.b*b;this.b=g*b+this.b*a;this.c=c*a-this.d*b;this.d=c*b+this.d*a;this.tx=d*a-this.ty*b;this.ty=d*b+this.ty*a;return this};c.prototype.skew=function(b,a){b*=c.DEG_TO_RAD;a*=c.DEG_TO_RAD;this.append(Math.cos(a),Math.sin(a),-Math.sin(b),
Math.cos(b),0,0);return this};c.prototype.scale=function(b,a){this.a*=b;this.d*=a;this.c*=b;this.b*=a;this.tx*=b;this.ty*=a;return this};c.prototype.translate=function(b,a){this.tx+=b;this.ty+=a;return this};c.prototype.identity=function(){this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;return this};c.prototype.invert=function(){var b=this.a,a=this.b,g=this.c,c=this.d,d=this.tx,e=b*c-a*g;this.a=c/e;this.b=-a/e;this.c=-g/e;this.d=b/e;this.tx=(g*this.ty-c*d)/e;this.ty=-(b*this.ty-a*d)/e;return this};
c.transformCoords=function(b,a,g){var c=d.Point.identity;c.x=b.a*a+b.c*g+b.tx;c.y=b.d*g+b.b*a+b.ty;return c};c.prototype.toArray=function(b){this.array||(this.array=new Float32Array(9));b?(this.array[0]=this.a,this.array[1]=this.b,this.array[2]=0,this.array[3]=this.c,this.array[4]=this.d,this.array[5]=0,this.array[6]=this.tx,this.array[7]=this.ty):(this.array[0]=this.a,this.array[1]=this.b,this.array[2]=this.tx,this.array[3]=this.c,this.array[4]=this.d,this.array[5]=this.ty,this.array[6]=0,this.array[7]=
0);this.array[8]=1;return this.array};c.identity=new c;c.DEG_TO_RAD=Math.PI/180;return c}(d.HashObject);d.Matrix=e;e.prototype.__class__="egret.Matrix"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(b,a){"undefined"===typeof b&&(b=0);"undefined"===typeof a&&(a=0);d.call(this);this.x=b;this.y=a}__extends(c,d);c.prototype.clone=function(){return new c(this.x,this.y)};c.prototype.equals=function(b){return this.x==b.x&&this.y==b.y};c.distance=function(b,a){return Math.sqrt((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y))};c.identity=new c(0,0);return c}(d.HashObject);d.Point=e;e.prototype.__class__="egret.Point"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(b,a,g,c){"undefined"===typeof b&&(b=0);"undefined"===typeof a&&(a=0);"undefined"===typeof g&&(g=0);"undefined"===typeof c&&(c=0);d.call(this);this.x=b;this.y=a;this.width=g;this.height=c}__extends(c,d);Object.defineProperty(c.prototype,"right",{get:function(){return this.x+this.width},set:function(b){this.width=b-this.x},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"bottom",{get:function(){return this.y+this.height},set:function(b){this.height=
b-this.y},enumerable:!0,configurable:!0});c.prototype.initialize=function(b,a,g,c){this.x=b;this.y=a;this.width=g;this.height=c;return this};c.prototype.contains=function(b,a){return this.x<=b&&this.x+this.width>=b&&this.y<=a&&this.y+this.height>=a};c.prototype.intersects=function(b){return this.contains(b.x,b.y)||this.contains(b.x,b.bottom)||this.contains(b.right,b.y)||this.contains(b.right,b.bottom)?!0:!1};c.prototype.clone=function(){return new c(this.x,this.y,this.width,this.height)};c.prototype.containsPoint=
function(b){return this.x<b.x&&this.x+this.width>b.x&&this.y<b.y&&this.y+this.height>b.y?!0:!1};c.identity=new c(0,0,0,0);return c}(d.HashObject);d.Rectangle=e;e.prototype.__class__="egret.Rectangle"})(egret||(egret={}));
(function(d){var e=function(){function e(){}e.fatal=function(c,b){"undefined"===typeof b&&(b=null);d.Logger.traceToConsole("Fatal",c,b);throw Error(d.Logger.getTraceCode("Fatal",c,b));};e.info=function(c,b){"undefined"===typeof b&&(b=null);d.Logger.traceToConsole("Info",c,b)};e.warning=function(c,b){"undefined"===typeof b&&(b=null);d.Logger.traceToConsole("Warning",c,b)};e.traceToConsole=function(c,b,a){console.log(d.Logger.getTraceCode(c,b,a))};e.getTraceCode=function(c,b,a){return"["+c+"]"+b+":"+
(null==a?"":a)};return e}();d.Logger=e;e.prototype.__class__="egret.Logger"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(a){function b(){a.call(this);this._designHeight=this._designWidth=0;this._scaleY=this._scaleX=1;var c=document.getElementById(b.canvas_name),d=c.height;this._designWidth=c.width;this._designHeight=d}__extends(b,a);b.getInstance=function(){null==b.instance&&(c.initialize(),b.instance=new b);return b.instance};b.prototype.setDesignSize=function(a,b,g){this._designWidth=a;this._designHeight=b;g&&(d.Logger.warning("\u8be5\u65b9\u6cd5\u76ee\u524d\u4e0d\u5e94\u4f20\u5165 resolutionPolicy \u53c2\u6570\uff0c\u8bf7\u5728 docs/1.0_Final_ReleaseNote\u4e2d\u67e5\u770b\u5982\u4f55\u5347\u7ea7"),
this._setResolutionPolicy(g))};b.prototype._setResolutionPolicy=function(a){this._resolutionPolicy=a;a.init(this);a._apply(this,this._designWidth,this._designHeight)};b.prototype.getScaleX=function(){return this._scaleX};b.prototype.getScaleY=function(){return this._scaleY};b.canvas_name="gameCanvas";b.canvas_div_name="gameDiv";return b}(d.HashObject);d.StageDelegate=e;e.prototype.__class__="egret.StageDelegate";var f=function(){function b(a,c){this.setContainerStrategy(a);this.setContentStrategy(c)}
b.prototype.init=function(a){this._containerStrategy.init(a);this._contentStrategy.init(a)};b.prototype._apply=function(a,b,c){this._containerStrategy._apply(a,b,c);this._contentStrategy._apply(a,b,c)};b.prototype.setContainerStrategy=function(a){a instanceof c&&(this._containerStrategy=a)};b.prototype.setContentStrategy=function(b){b instanceof a&&(this._contentStrategy=b)};return b}();d.ResolutionPolicy=f;f.prototype.__class__="egret.ResolutionPolicy";var c=function(){function a(){}a.initialize=
function(){a.EQUAL_TO_FRAME=new b};a.prototype.init=function(a){};a.prototype._apply=function(a,b,c){};a.prototype._setupContainer=function(){var a=document.body,b;a&&(b=a.style)&&(b.paddingTop=b.paddingTop||"0px",b.paddingRight=b.paddingRight||"0px",b.paddingBottom=b.paddingBottom||"0px",b.paddingLeft=b.paddingLeft||"0px",b.borderTop=b.borderTop||"0px",b.borderRight=b.borderRight||"0px",b.borderBottom=b.borderBottom||"0px",b.borderLeft=b.borderLeft||"0px",b.marginTop=b.marginTop||"0px",b.marginRight=
b.marginRight||"0px",b.marginBottom=b.marginBottom||"0px",b.marginLeft=b.marginLeft||"0px")};return a}();d.ContainerStrategy=c;c.prototype.__class__="egret.ContainerStrategy";var b=function(a){function b(){a.apply(this,arguments)}__extends(b,a);b.prototype._apply=function(a){this._setupContainer()};return b}(c);d.EqualToFrame=b;b.prototype.__class__="egret.EqualToFrame";var a=function(){function a(){}a.prototype.init=function(a){};a.prototype._apply=function(a,b,c){};return a}();d.ContentStrategy=
a;a.prototype.__class__="egret.ContentStrategy";f=function(a){function b(c){"undefined"===typeof c&&(c=0);a.call(this);this.minWidth=c}__extends(b,a);b.prototype._apply=function(a,b,c){b=document.getElementById(e.canvas_name);var g=document.getElementById(e.canvas_div_name),d=document.documentElement.clientWidth,f=document.documentElement.clientHeight,k=f/c,p=d/k,t=1;0!=this.minWidth&&(t=Math.min(1,p/this.minWidth));b.width=p/t;b.height=c;b.style.width=d+"px";b.style.height=f*t+"px";g.style.width=
d+"px";g.style.height=f*t+"px";a._scaleX=k*t;a._scaleY=k*t};return b}(a);d.FixedHeight=f;f.prototype.__class__="egret.FixedHeight";f=function(a){function b(c){"undefined"===typeof c&&(c=0);a.call(this);this.minHeight=c}__extends(b,a);b.prototype._apply=function(a,b,c){c=document.getElementById(e.canvas_name);var g=document.getElementById(e.canvas_div_name),d=document.documentElement.clientWidth,f=document.documentElement.clientHeight,k=d/b,p=f/k,t=1;0!=this.minHeight&&(t=Math.min(1,p/this.minHeight));
c.width=b;c.height=p/t;c.style.width=d*t+"px";c.style.height=f+"px";g.style.width=d*t+"px";g.style.height=f+"px";a._scaleX=k*t;a._scaleY=k*t};return b}(a);d.FixedWidth=f;f.prototype.__class__="egret.FixedWidth";f=function(a){function b(c,d){a.call(this);this.width=c;this.height=d}__extends(b,a);b.prototype._apply=function(a,b,c){c=document.getElementById(e.canvas_name);var g=document.getElementById(e.canvas_div_name),d=this.width,f=this.height,k=d/b;c.width=b;c.height=f/k;c.style.width=d+"px";c.style.height=
f+"px";g.style.width=d+"px";g.style.height=f+"px";a._scaleX=k;a._scaleY=k};return b}(a);d.FixedSize=f;f.prototype.__class__="egret.FixedSize";f=function(a){function b(){a.call(this)}__extends(b,a);b.prototype._apply=function(a,b,c){b=document.getElementById(e.canvas_name);b.style.width=b.width+"px";b.style.height=b.height+"px";a._scaleX=1;a._scaleY=1};return b}(a);d.NoScale=f;f.prototype.__class__="egret.NoScale"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._originalData={};this._drawAreaList=[]}__extends(c,e);c.getInstance=function(){null==c.instance&&(c.instance=new c);return c.instance};c.prototype.addDrawArea=function(b){this._drawAreaList.push(b)};c.prototype.clearDrawArea=function(){this._drawAreaList=[]};c.prototype.drawImage=function(b,a,c,e,f,l,h,m,q,s){h=h||0;m=m||0;var r=a._texture_to_render;if(null!=r&&0!=l&&0!=f&&0!=q&&0!=s)if(a._worldBounds){var p=this._originalData;p.sourceX=
c;p.sourceY=e;p.sourceWidth=f;p.sourceHeight=l;p.destX=h;p.destY=m;p.destWidth=q;p.destHeight=s;for(var t=this.getDrawAreaList(),D=0;D<t.length;D++){var A=t[D];if(!this.ignoreRender(a,A,p.destX,p.destY)){if(0!=this._drawAreaList.length)if(0!=a._worldTransform.b||0!=a._worldTransform.c){if(a._worldBounds.x+p.destX<A.x||a._worldBounds.y+p.destY<A.y||a._worldBounds.x+a._worldBounds.width+p.destX>A.x+A.width||a._worldBounds.y+a._worldBounds.height+p.destY>A.y+A.height){d.Logger.fatal("\u8bf7\u4e0d\u8981\u8ba9\u5e26\u6709\u65cb\u8f6c\u548c\u659c\u5207\u7684\u663e\u793a\u5bf9\u8c61\u8de8\u8fc7\u91cd\u7ed8\u533a\u57df");
break}}else{var y=a._worldTransform.a,C=a._worldTransform.d,w;a._worldBounds.x+p.destX<A.x&&(w=(A.x-a._worldBounds.x)/y-p.destX,c+=w/(q/f),f-=w/(q/f),q-=w,h+=w);a._worldBounds.y+p.destY<A.y&&(w=(A.y-a._worldBounds.y)/C-p.destY,e+=w/(s/l),l-=w/(s/l),s-=w,m+=w);a._worldBounds.x+a._worldBounds.width+p.destX>A.x+A.width&&(w=(a._worldBounds.x+a._worldBounds.width-A.x-A.width)/y+p.destX,f-=w/(q/f),q-=w);a._worldBounds.y+a._worldBounds.height+p.destY>A.y+A.height&&(w=(a._worldBounds.y+a._worldBounds.height-
A.y-A.height)/C+p.destY,l-=w/(s/l),s-=w)}b.drawImage(r,c,e,f,l,h,m,q,s)}}}else b.drawImage(r,c,e,f,l,h,m,q,s)};c.prototype.ignoreRender=function(b,a,c,d){var e=b._worldBounds;c*=b._worldTransform.a;d*=b._worldTransform.d;return e.x+e.width+c<=a.x||e.x+c>=a.x+a.width||e.y+e.height+d<=a.y||e.y+d>=a.y+a.height?!0:!1};c.prototype.getDrawAreaList=function(){var b;0==this._drawAreaList.length?(this._defaultDrawAreaList||(this._defaultDrawAreaList=[new d.Rectangle(0,0,d.MainContext.instance.stage.stageWidth,
d.MainContext.instance.stage.stageHeight)]),b=this._defaultDrawAreaList):b=this._drawAreaList;return b};return c}(d.HashObject);d.RenderFilter=e;e.prototype.__class__="egret.RenderFilter"})(egret||(egret={}));
(function(d){var e=function(){function e(){}e.mapClass=function(c,b,a){"undefined"===typeof a&&(a="");c=this.getKey(c)+"#"+a;this.mapClassDic[c]=b};e.getKey=function(c){return"string"==typeof c?c:d.getQualifiedClassName(c)};e.mapValue=function(c,b,a){"undefined"===typeof a&&(a="");c=this.getKey(c)+"#"+a;this.mapValueDic[c]=b};e.hasMapRule=function(c,b){"undefined"===typeof b&&(b="");var a=this.getKey(c)+"#"+b;return this.mapValueDic[a]||this.mapClassDic[a]?!0:!1};e.getInstance=function(c,b){"undefined"===
typeof b&&(b="");var a=this.getKey(c)+"#"+b;if(this.mapValueDic[a])return this.mapValueDic[a];var g=this.mapClassDic[a];if(g)return g=new g,this.mapValueDic[a]=g,delete this.mapClassDic[a],g;throw Error("\u8c03\u7528\u4e86\u672a\u914d\u7f6e\u7684\u6ce8\u5165\u89c4\u5219:"+a+"\u3002 \u8bf7\u5148\u5728\u9879\u76ee\u521d\u59cb\u5316\u91cc\u914d\u7f6e\u6307\u5b9a\u7684\u6ce8\u5165\u89c4\u5219\uff0c\u518d\u8c03\u7528\u5bf9\u5e94\u5355\u4f8b\u3002");};e.mapClassDic={};e.mapValueDic={};return e}();d.Injector=
e;e.prototype.__class__="egret.Injector"})(egret||(egret={}));(function(d){var e=function(){function d(){}d.NORMAL="normal";d.ADD="add";d.LAYER="layer";return d}();d.BlendMode=e;e.prototype.__class__="egret.BlendMode"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._sizeDirty=this._normalDirty=!0;this._parent=null;this._cacheAsBitmap=!1;this._y=this._x=0;this._scaleY=this._scaleX=1;this._anchorY=this._anchorX=this._anchorOffsetY=this._anchorOffsetX=0;this._visible=!0;this._rotation=0;this._alpha=1;this._skewY=this._skewX=0;this._hasHeightSet=this._hasWidthSet=!1;this.worldAlpha=1;this._rectH=this._rectW=0;this._worldTransform=new d.Matrix;this._cacheBounds=new d.Rectangle(0,0,0,0)}__extends(c,e);
c.prototype._setDirty=function(){this._normalDirty=!0};c.prototype.getDirty=function(){return this._normalDirty||this._sizeDirty};c.prototype._setParentSizeDirty=function(){!this.parent||this.parent._hasWidthSet||this.parent._hasHeightSet||this.parent._setSizeDirty()};c.prototype._setSizeDirty=function(){this._sizeDirty||(this._sizeDirty=!0,this._setDirty(),this._setParentSizeDirty())};c.prototype._clearDirty=function(){this._normalDirty=!1};c.prototype._clearSizeDirty=function(){this._sizeDirty=
!1};Object.defineProperty(c.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0});c.prototype._parentChanged=function(b){this._parent=b};Object.defineProperty(c.prototype,"x",{get:function(){return this._x},set:function(b){d.NumberUtils.isNumber(b)&&(this._x=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"y",{get:function(){return this._y},set:function(b){d.NumberUtils.isNumber(b)&&(this._y=b,this._setDirty(),
this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"scaleX",{get:function(){return this._scaleX},set:function(b){d.NumberUtils.isNumber(b)&&(this._scaleX=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"scaleY",{get:function(){return this._scaleY},set:function(b){d.NumberUtils.isNumber(b)&&(this._scaleY=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"anchorOffsetX",{get:function(){return this._anchorOffsetX},set:function(b){d.NumberUtils.isNumber(b)&&(this._anchorOffsetX=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"anchorOffsetY",{get:function(){return this._anchorOffsetY},set:function(b){d.NumberUtils.isNumber(b)&&(this._anchorOffsetY=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"anchorX",{get:function(){return this._anchorX},
set:function(b){d.NumberUtils.isNumber(b)&&(this._anchorX=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"anchorY",{get:function(){return this._anchorY},set:function(b){d.NumberUtils.isNumber(b)&&(this._anchorY=b,this._setDirty(),this._setParentSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"visible",{get:function(){return this._visible},set:function(b){this._visible=b;this._setDirty()},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"rotation",{get:function(){return this._rotation},set:function(b){d.NumberUtils.isNumber(b)&&(this._rotation=b,this._setSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"alpha",{get:function(){return this._alpha},set:function(b){d.NumberUtils.isNumber(b)&&(this._alpha=b,this._setDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"skewX",{get:function(){return this._skewX},set:function(b){d.NumberUtils.isNumber(b)&&
(this._skewX=b,this._setSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"skewY",{get:function(){return this._skewY},set:function(b){d.NumberUtils.isNumber(b)&&(this._skewY=b,this._setSizeDirty())},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"touchEnabled",{get:function(){return this._touchEnabled},set:function(b){this._touchEnabled=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"scrollRect",{get:function(){return this._scrollRect},
set:function(b){this._scrollRect=b;this._setSizeDirty()},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"measuredWidth",{get:function(){return this._measureBounds().width},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"measuredHeight",{get:function(){return this._measureBounds().height},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"explicitWidth",{get:function(){return this._explicitWidth},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"explicitHeight",{get:function(){return this._explicitHeight},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"width",{get:function(){return this._getSize(d.Rectangle.identity).width},set:function(b){this._setSizeDirty();this._setWidth(b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"height",{get:function(){return this._getSize(d.Rectangle.identity).height},set:function(b){this._setSizeDirty();this._setHeight(b)},enumerable:!0,configurable:!0});c.prototype._setWidth=
function(b){this._explicitWidth=b;this._hasWidthSet=d.NumberUtils.isNumber(b)};c.prototype._setHeight=function(b){this._explicitHeight=b;this._hasHeightSet=d.NumberUtils.isNumber(b)};c.prototype._draw=function(b){if(this.visible&&!this.drawCacheTexture(b)){b.setAlpha(this.worldAlpha,this.blendMode);b.setTransform(this._worldTransform);var a=this.mask||this._scrollRect;a&&b.pushMask(a);this._render(b);a&&b.popMask()}this.destroyCacheBounds()};c.prototype.drawCacheTexture=function(b){if(this._cacheAsBitmap){var a=
this._texture_to_render,c=a._offsetX,e=a._offsetY,f=a._textureWidth,a=a._textureHeight;this._updateTransform();b.setAlpha(this.worldAlpha,this.blendMode);b.setTransform(this._worldTransform);var l=d.MainContext.instance.rendererContext.texture_scale_factor;d.RenderFilter.getInstance().drawImage(b,this,0,0,f*l,a*l,c,e,f,a);return!0}return!1};c.prototype._updateTransform=function(){this._worldTransform.identity().appendMatrix(this._parent._worldTransform);var b=this._getOffsetPoint();this._worldTransform.appendTransform(this._x,
this._y,this._scaleX,this._scaleY,this._rotation,this._skewX,this._skewY,b.x,b.y);this._scrollRect&&this._worldTransform.append(1,0,0,1,-this._scrollRect.x,-this._scrollRect.y);this.worldAlpha=this._parent.worldAlpha*this._alpha};c.prototype._render=function(b){};c.prototype.getBounds=function(b){var a=this._measureBounds(),c=this._hasWidthSet?this._explicitWidth:a.width,e=this._hasHeightSet?this._explicitHeight:a.height,f=a.x,a=a.y,l,h;0!=this._anchorX||0!=this._anchorY?(l=c*this._anchorX,h=e*this._anchorY):
(l=this._anchorOffsetX,h=this._anchorOffsetY);this._cacheBounds.initialize(f-l,a-h,c,e);c=this._cacheBounds;b||(b=new d.Rectangle);return b.initialize(c.x,c.y,c.width,c.height)};c.prototype.destroyCacheBounds=function(){this._cacheBounds.x=0;this._cacheBounds.y=0;this._cacheBounds.width=0;this._cacheBounds.height=0};c.prototype._getConcatenatedMatrix=function(){for(var b=c.identityMatrixForGetConcatenated.identity(),a=this;null!=a;){if(0!=a._anchorX||0!=a._anchorY){var g=a._getSize(d.Rectangle.identity);
b.prependTransform(a._x,a._y,a._scaleX,a._scaleY,a._rotation,a._skewX,a._skewY,g.width*a._anchorX,g.height*a._anchorY)}else b.prependTransform(a._x,a._y,a._scaleX,a._scaleY,a._rotation,a._skewX,a._skewY,a._anchorOffsetX,a._anchorOffsetY);a=a._parent}return b};c.prototype.localToGlobal=function(b,a,c){"undefined"===typeof b&&(b=0);"undefined"===typeof a&&(a=0);var e=this._getConcatenatedMatrix();e.append(1,0,0,1,b,a);c||(c=new d.Point);c.x=e.tx;c.y=e.ty;return c};c.prototype.globalToLocal=function(b,
a,c){"undefined"===typeof b&&(b=0);"undefined"===typeof a&&(a=0);var e=this._getConcatenatedMatrix();e.invert();e.append(1,0,0,1,b,a);c||(c=new d.Point);c.x=e.tx;c.y=e.ty;return c};c.prototype.hitTest=function(b,a,c){"undefined"===typeof c&&(c=!1);if(!this.visible||!c&&!this._touchEnabled)return null;c=this._getSize(d.Rectangle.identity);return 0<=b&&b<c.width&&0<=a&&a<c.height?this.mask||this._scrollRect?this._scrollRect&&b<this._scrollRect.width&&a<this._scrollRect.height||this.mask&&this.mask.x<=
b&&b<this.mask.x+this.mask.width&&this.mask.y<=a&&a<this.mask.y+this.mask.height?this:null:this:null};c.prototype.hitTestPoint=function(b,a,c){b=this.globalToLocal(b,a);return c?(this._hitTestPointTexture||(this._hitTestPointTexture=new d.RenderTexture),c=this._hitTestPointTexture,c.drawToTexture(this),0!=c.getPixel32(b.x-this._hitTestPointTexture._offsetX,b.y-this._hitTestPointTexture._offsetY)[3]?!0:!1):!!this.hitTest(b.x,b.y,!0)};c.prototype._getMatrix=function(){var b=d.Matrix.identity.identity(),
a=this._getOffsetPoint();b.appendTransform(this._x,this._y,this._scaleX,this._scaleY,this._rotation,this._skewX,this._skewY,a.x,a.y);return b};c.prototype._getSize=function(b){return this._hasHeightSet&&this._hasWidthSet?b.initialize(NaN,NaN,this._explicitWidth,this._explicitHeight):this._measureSize(d.Rectangle.identity)};c.prototype._measureSize=function(b){this._sizeDirty?(b=this._measureBounds(),this._rectW=b.width,this._rectH=b.height,this._clearSizeDirty()):(b.width=this._rectW,b.height=this._rectH);
return b};c.prototype._measureBounds=function(){return d.Rectangle.identity.initialize(0,0,0,0)};c.prototype._getOffsetPoint=function(){var b=this._anchorOffsetX,a=this._anchorOffsetY;if(0!=this._anchorX||0!=this._anchorY)a=this._getSize(d.Rectangle.identity),b=this._anchorX*a.width,a=this._anchorY*a.height;var c=d.Point.identity;c.x=b;c.y=a;return c};c.prototype._onAddToStage=function(){this._stage=d.MainContext.instance.stage;d.DisplayObjectContainer.__EVENT__ADD_TO_STAGE_LIST.push(this)};c.prototype._onRemoveFromStage=
function(){this._stage=null;d.DisplayObjectContainer.__EVENT__REMOVE_FROM_STAGE_LIST.push(this)};Object.defineProperty(c.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0});c.prototype.addEventListener=function(b,a,g,k,n){"undefined"===typeof k&&(k=!1);"undefined"===typeof n&&(n=0);e.prototype.addEventListener.call(this,b,a,g,k,n);((k=b==d.Event.ENTER_FRAME)||b==d.Event.RENDER)&&this._insertEventBin(k?c._enterFrameCallBackList:c._renderCallBackList,a,g,n)};c.prototype.removeEventListener=
function(b,a,g,k){"undefined"===typeof k&&(k=!1);e.prototype.removeEventListener.call(this,b,a,g,k);((k=b==d.Event.ENTER_FRAME)||b==d.Event.RENDER)&&this._removeEventBin(k?c._enterFrameCallBackList:c._renderCallBackList,a,g)};c.prototype.dispatchEvent=function(b){if(!b._bubbles)return e.prototype.dispatchEvent.call(this,b);for(var a=[],c=this;c;)a.unshift(c),c=c.parent;for(var d=a.length,c=d-1,d=d-2;0<=d;d--)a.push(a[d]);b._reset();this._dispatchPropagationEvent(b,a,c);return!b.isDefaultPrevented()};
c.prototype._dispatchPropagationEvent=function(b,a,c){for(var d=a.length,e=0;e<d;e++){var f=a[e];b._setCurrentTarget(f);b._target=this;b._eventPhase=e<c?1:e==c?2:3;f._notifyListener(b);if(b._isPropagationStopped||b._isPropagationImmediateStopped)break}};c.prototype.willTrigger=function(b){for(var a=this;a;){if(a.hasEventListener(b))return!0;a=a._parent}return!1};Object.defineProperty(c.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(b){(this._cacheAsBitmap=b)?(this.renderTexture||
(this.renderTexture=new d.RenderTexture),this.renderTexture.drawToTexture(this),this._texture_to_render=this.renderTexture):this._texture_to_render=null},enumerable:!0,configurable:!0});c.getTransformBounds=function(b,a){var c,d,e=b.width,f=b.height,h=e*a.a,e=e*a.b,m=f*a.c,f=f*a.d,q=a.tx,s=a.ty,r=q,p=q,t=s,D=s;(c=h+q)<r?r=c:c>p&&(p=c);(c=h+m+q)<r?r=c:c>p&&(p=c);(c=m+q)<r?r=c:c>p&&(p=c);(d=e+s)<t?t=d:d>D&&(D=d);(d=e+f+s)<t?t=d:d>D&&(D=d);(d=f+s)<t?t=d:d>D&&(D=d);return b.initialize(r,t,p-r,D-t)};c.identityMatrixForGetConcatenated=
new d.Matrix;c._enterFrameCallBackList=[];c._renderCallBackList=[];return c}(d.EventDispatcher);d.DisplayObject=e;e.prototype.__class__="egret.DisplayObject"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._touchChildren=!0;this._children=[]}__extends(c,e);Object.defineProperty(c.prototype,"touchChildren",{get:function(){return this._touchChildren},set:function(b){this._touchChildren=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"numChildren",{get:function(){return this._children.length},enumerable:!0,configurable:!0});c.prototype.setChildIndex=function(b,a){this.doSetChildIndex(b,a)};c.prototype.doSetChildIndex=function(b,
a){var c=this._children.indexOf(b);0>c&&d.Logger.fatal("child\u4e0d\u5728\u5f53\u524d\u5bb9\u5668\u5185");this._children.splice(c,1);0>a||this._children.length<=a?this._children.push(b):this._children.splice(a,0,b)};c.prototype.addChild=function(b){var a=this.numChildren;b._parent==this&&a--;return this._doAddChild(b,a)};c.prototype.addChildAt=function(b,a){return this._doAddChild(b,a)};c.prototype._doAddChild=function(b,a,g){"undefined"===typeof g&&(g=!0);if(b==this)return b;if(0>a||a>this._children.length)return d.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4"),
b;var e=b.parent;if(e==this)return this.doSetChildIndex(b,a),b;e&&e.removeChild(b);this._children.splice(a,0,b);b._parentChanged(this);g&&b.dispatchEventWith(d.Event.ADDED,!0);if(this._stage)for(b._onAddToStage(),a=c.__EVENT__ADD_TO_STAGE_LIST;0<a.length;)a.shift().dispatchEventWith(d.Event.ADDED_TO_STAGE);b._setDirty();this._setSizeDirty();return b};c.prototype.removeChild=function(b){b=this._children.indexOf(b);if(0<=b)return this._doRemoveChild(b);d.Logger.fatal("child\u672a\u88abaddChild\u5230\u8be5parent");
return null};c.prototype.removeChildAt=function(b){if(0<=b&&b<this._children.length)return this._doRemoveChild(b);d.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4");return null};c.prototype._doRemoveChild=function(b,a){"undefined"===typeof a&&(a=!0);var g=this._children,e=g[b];a&&e.dispatchEventWith(d.Event.REMOVED,!0);if(this._stage){e._onRemoveFromStage();for(var f=c.__EVENT__REMOVE_FROM_STAGE_LIST;0<f.length;)f.shift().dispatchEventWith(d.Event.REMOVED_FROM_STAGE)}e._parentChanged(null);
g.splice(b,1);this._setSizeDirty();return e};c.prototype.getChildAt=function(b){if(0<=b&&b<this._children.length)return this._children[b];d.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4");return null};c.prototype.contains=function(b){for(;b;){if(b==this)return!0;b=b._parent}return!1};c.prototype.swapChildrenAt=function(b,a){0<=b&&b<this._children.length&&0<=a&&a<this._children.length?this._swapChildrenAt(b,a):d.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4")};
c.prototype.swapChildren=function(b,a){var c=this._children.indexOf(b),e=this._children.indexOf(a);-1==c||-1==e?d.Logger.fatal("child\u672a\u88abaddChild\u5230\u8be5parent"):this._swapChildrenAt(c,e)};c.prototype._swapChildrenAt=function(b,a){if(b!=a){var c=this._children,d=c[b];c[b]=c[a];c[a]=d}};c.prototype.getChildIndex=function(b){return this._children.indexOf(b)};c.prototype.removeChildren=function(){for(var b=this._children.length-1;0<=b;b--)this._doRemoveChild(b)};c.prototype._updateTransform=
function(){if(this.visible){e.prototype._updateTransform.call(this);for(var b=0,a=this._children.length;b<a;b++)this._children[b]._updateTransform()}};c.prototype._render=function(b){for(var a=0,c=this._children.length;a<c;a++)this._children[a]._draw(b)};c.prototype._measureBounds=function(){for(var b=0,a=0,c=0,e=0,f=this._children.length,l=0;l<f;l++){var h=this._children[l],m;if(h.visible&&(m=d.DisplayObject.getTransformBounds(h._getSize(d.Rectangle.identity),h._getMatrix()))){var h=m.x,q=m.y,s=
m.width+m.x,r=m.height+m.y;if(h<b||0==l)b=h;if(s>a||0==l)a=s;if(q<c||0==l)c=q;if(r>e||0==l)e=r}}return d.Rectangle.identity.initialize(b,c,a-b,e-c)};c.prototype.hitTest=function(b,a,c){"undefined"===typeof c&&(c=!1);var k;if(!this.visible)return null;if(this._scrollRect){if(b>this._scrollRect.width||a>this._scrollRect.height)return null}else if(this.mask&&(this.mask.x>b||b>this.mask.x+this.mask.width||this.mask.y>a||a>this.mask.y+this.mask.height))return null;for(var n=this._children,l=this._touchChildren,
h=n.length-1;0<=h;h--){var m=n[h],q=m,s=q._getOffsetPoint(),r=q._x,p=q._y;this._scrollRect&&(r-=this._scrollRect.x,p-=this._scrollRect.y);q=d.Matrix.identity.identity().prependTransform(r,p,q._scaleX,q._scaleY,q._rotation,0,0,s.x,s.y);q.invert();q=d.Matrix.transformCoords(q,b,a);if(m=m.hitTest(q.x,q.y,!0)){if(m._touchEnabled&&l)return m;if(this._touchEnabled)return this;null==k&&(k=m)}}return k?k:e.prototype.hitTest.call(this,b,a,c)};c.prototype._onAddToStage=function(){e.prototype._onAddToStage.call(this);
for(var b=this.numChildren,a=0;a<b;a++)this._children[a]._onAddToStage()};c.prototype._onRemoveFromStage=function(){e.prototype._onRemoveFromStage.call(this);for(var b=this.numChildren,a=0;a<b;a++)this._children[a]._onRemoveFromStage()};c.prototype.getChildByName=function(b){for(var a=this._children,c=this.numChildren,d,e=0;e<c;e++)if(d=a[e],d.name==b)return d;return null};c.__EVENT__ADD_TO_STAGE_LIST=[];c.__EVENT__REMOVE_FROM_STAGE_LIST=[];return c}(d.DisplayObject);d.DisplayObjectContainer=e;e.prototype.__class__=
"egret.DisplayObjectContainer"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b,a){"undefined"===typeof b&&(b=480);"undefined"===typeof a&&(a=800);e.call(this);this.touchEnabled=!0;this._stage=this;this._stageWidth=b;this._stageHeight=a}__extends(c,e);c.prototype.invalidate=function(){c._invalidateRenderFlag=!0};Object.defineProperty(c.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(b){if(this._scaleMode!=b){this._scaleMode=b;var a={};a[d.StageScaleMode.NO_SCALE]=new d.NoScale;a[d.StageScaleMode.SHOW_ALL]=
new d.FixedWidth;b=a[b];if(!b)throw Error("\u4f7f\u7528\u4e86\u5c1a\u672a\u5b9e\u73b0\u7684ScaleMode");a=new d.EqualToFrame;b=new d.ResolutionPolicy(a,b);d.StageDelegate.getInstance()._setResolutionPolicy(b);b=document.getElementById(d.StageDelegate.canvas_name);this._stageWidth=b.width;this._stageHeight=b.height;this.dispatchEventWith(d.Event.RESIZE)}},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"stageWidth",{get:function(){return this._stageWidth},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"stageHeight",{get:function(){return this._stageHeight},enumerable:!0,configurable:!0});c.prototype.hitTest=function(b,a){if(!this.touchEnabled)return null;var c;if(!this.visible)return this;for(var e=this._children,f=e.length-1;0<=f;f--){var l=c=e[f],h=l._getOffsetPoint(),l=d.Matrix.identity.identity().prependTransform(l.x,l.y,l.scaleX,l.scaleY,l.rotation,0,0,h.x,h.y);l.invert();l=d.Matrix.transformCoords(l,b,a);if((c=c.hitTest(l.x,l.y,!0))&&c.touchEnabled)return c}return this};
c.prototype.getBounds=function(b){b||(b=new d.Rectangle);return b.initialize(0,0,this._stageWidth,this._stageHeight)};c.prototype._updateTransform=function(){for(var b=0,a=this._children.length;b<a;b++)this._children[b]._updateTransform()};c._invalidateRenderFlag=!1;return c}(d.DisplayObjectContainer);d.Stage=e;e.prototype.__class__="egret.Stage"})(egret||(egret={}));
(function(d){var e=function(){function d(){}d.NO_SCALE="noScale";d.SHOW_ALL="showAll";return d}();d.StageScaleMode=e;e.prototype.__class__="egret.StageScaleMode"})(egret||(egret={}));(function(d){var e=function(){function d(){}d.REPEAT="repeat";d.SCALE="scale";return d}();d.BitmapFillMode=e;e.prototype.__class__="egret.BitmapFillMode"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b){e.call(this);this.debug=!1;this.debugColor=16711680;this.fillMode="scale";b&&(this.texture=b)}__extends(c,e);c.prototype._render=function(b){var a=this.texture;a?(this._texture_to_render=a,c._drawBitmap(b,this._hasWidthSet?this._explicitWidth:a._textureWidth,this._hasHeightSet?this._explicitHeight:a._textureHeight,this)):this._texture_to_render=null};c._drawBitmap=function(b,a,g,e){var f=e._texture_to_render;if(f){var l=f._textureWidth,h=f._textureHeight;
if("scale"==e.fillMode){var m=e.scale9Grid||f.scale9Grid;if(m&&l-m.width<a&&h-m.height<g)c.drawScale9GridImage(b,e,m,a,g);else{var m=f._offsetX,q=f._offsetY,s=f._bitmapWidth||l,r=f._bitmapHeight||h;a/=l;m=Math.round(m*a);a=Math.round(s*a);g/=h;q=Math.round(q*g);g=Math.round(r*g);d.RenderFilter.getInstance().drawImage(b,e,f._bitmapX,f._bitmapY,s,r,m,q,a,g)}}else c.drawRepeatImage(b,e,a,g)}};c.drawRepeatImage=function(b,a,c,e){var f=a._texture_to_render;if(f)for(var l=f._textureWidth,h=f._textureHeight,
m=f._bitmapX,q=f._bitmapY,s=f._bitmapWidth||l,r=f._bitmapHeight||h,p=f._offsetX,f=f._offsetY,t=d.RenderFilter.getInstance();p<c;p+=l)for(var D=f;D<e;D+=h){var A=Math.min(s,c-p),y=Math.min(r,e-D);t.drawImage(b,a,m,q,s,r,p,D,A,y)}};c.drawScale9GridImage=function(b,a,c,e,f){var l=a._texture_to_render;if(l&&c){var h=d.RenderFilter.getInstance(),m=l._textureWidth,q=l._textureHeight,s=l._bitmapX,r=l._bitmapY,p=l._bitmapWidth||m,t=l._bitmapHeight||q,D=l._offsetX,l=l._offsetY;c=d.Rectangle.identity.initialize(c.x-
Math.round(D),c.y-Math.round(D),c.width,c.height);D=Math.round(D);l=Math.round(l);e-=m-p;f-=q-t;c.y==c.bottom&&(c.bottom<t?c.bottom++:c.y--);c.x==c.right&&(c.right<p?c.right++:c.x--);var m=s+c.x,q=s+c.right,A=p-c.right,y=r+c.y,C=r+c.bottom,w=t-c.bottom,E=D+c.x,u=l+c.y,t=f-(t-c.bottom),p=e-(p-c.right);h.drawImage(b,a,s,r,c.x,c.y,D,l,c.x,c.y);h.drawImage(b,a,m,r,c.width,c.y,E,l,p-c.x,c.y);h.drawImage(b,a,q,r,A,c.y,D+p,l,e-p,c.y);h.drawImage(b,a,s,y,c.x,c.height,D,u,c.x,t-c.y);h.drawImage(b,a,m,y,c.width,
c.height,E,u,p-c.x,t-c.y);h.drawImage(b,a,q,y,A,c.height,D+p,u,e-p,t-c.y);h.drawImage(b,a,s,C,c.x,w,D,l+t,c.x,f-t);h.drawImage(b,a,m,C,c.width,w,E,l+t,p-c.x,f-t);h.drawImage(b,a,q,C,A,w,D+p,l+t,e-p,f-t)}};c.prototype._measureBounds=function(){var b=this.texture;return b?d.Rectangle.identity.initialize(b._offsetX,b._offsetY,b._textureWidth,b._textureHeight):e.prototype._measureBounds.call(this)};c.debug=!1;return c}(d.DisplayObject);d.Bitmap=e;e.prototype.__class__="egret.Bitmap"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._text="";this._textChanged=!1;this._bitmapPool=[]}__extends(c,e);Object.defineProperty(c.prototype,"text",{get:function(){return this._text},set:function(b){this._textChanged=!0;this._text=b},enumerable:!0,configurable:!0});c.prototype._updateTransform=function(){this.visible&&(this._textChanged&&this._renderText(),e.prototype._updateTransform.call(this))};c.prototype._renderText=function(b){var a=b=0;this._textChanged&&this.removeChildren();
for(var c=0,e=this.text.length;c<e;c++){var f=this.text.charAt(c),l=this.spriteSheet.getTexture(f);if(null==l)console.log("\u5f53\u524d\u6ca1\u6709\u4f4d\u56fe\u6587\u5b57\uff1a"+f);else{var f=l._offsetX,h=l._offsetY,m=l._textureWidth;if(this._textChanged){var q=this._bitmapPool[c];q||(q=new d.Bitmap,this._bitmapPool.push(q));q.texture=l;this.addChild(q);q.x=b}b+=m+f;h+l._textureHeight>a&&(a=h+l._textureHeight)}}this._textChanged=!1;return d.Rectangle.identity.initialize(0,0,b,a)};c.prototype._measureBounds=
function(){return this._renderText(!0)};return c}(d.DisplayObjectContainer);d.BitmapText=e;e.prototype.__class__="egret.BitmapText"})(egret||(egret={}));
(function(d){var e=function(){function d(){this.commandQueue=[]}d.prototype.beginFill=function(c,b){};d.prototype._setStyle=function(c){};d.prototype.drawRect=function(c,b,a,g){};d.prototype.drawCircle=function(c,b,a){};d.prototype.lineStyle=function(c,b,a,g,d,e,f,h){};d.prototype.lineTo=function(c,b){};d.prototype.curveTo=function(c,b,a,g){};d.prototype.moveTo=function(c,b){};d.prototype.clear=function(){};d.prototype.endFill=function(){};d.prototype._draw=function(c){};return d}();d.Graphics=e;
e.prototype.__class__="egret.Graphics";(function(){return function(d,c,b){this.method=d;this.thisObject=c;this.args=b}})().prototype.__class__="Command"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this)}__extends(c,e);Object.defineProperty(c.prototype,"graphics",{get:function(){this._graphics||(this._graphics=new d.Graphics);return this._graphics},enumerable:!0,configurable:!0});c.prototype._render=function(b){this._graphics&&this._graphics._draw(b)};return c}(d.DisplayObject);d.Shape=e;e.prototype.__class__="egret.Shape"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this)}__extends(c,e);Object.defineProperty(c.prototype,"graphics",{get:function(){this._graphics||(this._graphics=new d.Graphics);return this._graphics},enumerable:!0,configurable:!0});c.prototype._render=function(b){this._graphics&&this._graphics._draw(b);e.prototype._render.call(this,b)};return c}(d.DisplayObjectContainer);d.Sprite=e;e.prototype.__class__="egret.Sprite"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._fontFamily="Arial";this._size=30;this._textColorString="#FFFFFF";this._textColor=16777215;this._strokeColorString="#000000";this._stroke=this._strokeColor=0;this._textAlign="left";this._verticalAlign="top";this._numLines=this._lineSpacing=0;this.measuredWidths=[]}__extends(c,e);Object.defineProperty(c.prototype,"text",{get:function(){return this._text},set:function(b){this._text!=b&&(this._setTextDirty(),this._text=b)},enumerable:!0,configurable:!0});
c.prototype._setTextDirty=function(){this._setSizeDirty()};Object.defineProperty(c.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(b){this._fontFamily!=b&&(this._setTextDirty(),this._fontFamily=b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"size",{get:function(){return this._size},set:function(b){this._size!=b&&(this._setTextDirty(),this._size=b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"italic",{get:function(){return this._italic},
set:function(b){this._italic!=b&&(this._setTextDirty(),this._italic=b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"bold",{get:function(){return this._bold},set:function(b){this._bold!=b&&(this._setTextDirty(),this._bold=b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"textColor",{get:function(){return this._textColor},set:function(b){this._textColor!=b&&(this._setTextDirty(),this._textColor=b,this._textColorString=d.toColorString(b))},enumerable:!0,configurable:!0});
Object.defineProperty(c.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(b){this._strokeColor!=b&&(this._setTextDirty(),this._strokeColor=b,this._strokeColorString=d.toColorString(b))},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"stroke",{get:function(){return this._stroke},set:function(b){this._stroke!=b&&(this._setTextDirty(),this._stroke=b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"textAlign",{get:function(){return this._textAlign},
set:function(b){this._textAlign!=b&&(this._setTextDirty(),this._textAlign=b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(b){this._verticalAlign!=b&&(this._setTextDirty(),this._verticalAlign=b)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(b){this._lineSpacing!=b&&(this._setTextDirty(),this._lineSpacing=b)},enumerable:!0,
configurable:!0});Object.defineProperty(c.prototype,"numLines",{get:function(){return this._numLines},enumerable:!0,configurable:!0});c.prototype._render=function(b){this.drawText(b,!1);this._clearDirty()};c.prototype._measureBounds=function(){return this.drawText(d.MainContext.instance.rendererContext,!0)};c.prototype.drawText=function(b,a){var c=this.getTextLines(b);if(!c)return d.Rectangle.identity.initialize(0,0,0,0);var e=c.length,f=0.5*this._size,l=this._size+this._lineSpacing,h=e*l-this._lineSpacing;
this._textHeight=h;var m=this._explicitHeight;if(this._hasHeightSet&&h<m){var q=0;this._verticalAlign==d.VerticalAlign.MIDDLE?q=0.5:this._verticalAlign==d.VerticalAlign.BOTTOM&&(q=1);f+=q*(m-h)}else m=Number.POSITIVE_INFINITY;var q=f=Math.round(f),s=0;this._textAlign==d.HorizontalAlign.CENTER?s=0.5:this._textAlign==d.HorizontalAlign.RIGHT&&(s=1);var r=this.measuredWidths,p;p=this._hasWidthSet?this._explicitWidth:this._textWidth;for(var t=Number.POSITIVE_INFINITY,D=0;D<e;D++){var A=c[D],y=Math.round((p-
r[D])*s);y<t&&(t=y);!a&&f<m&&b.drawText(this,A,y,f,p);f+=l}return d.Rectangle.identity.initialize(t,q,p,h)};c.prototype.getTextLines=function(b){var a=this.text?this.text.toString():"";if(!a)return null;var c=this.measuredWidths;c.length=0;b.setupFont(this);var a=a.split(/(?:\r\n|\r|\n)/),d=a.length,e=0;if(this._hasWidthSet)for(var f=this._explicitWidth,h=0;h<d;h++){var m=a[h],q=b.measureText(m);if(q>f){for(var s="",r=0,p=m.length,t=0;t<p;t++){var D=m.charAt(t),q=b.measureText(D);r+q>f&&(0==r?(a.splice(h,
0,D),c[h]=q,e<q&&(e=q),q=0,D=""):(a.splice(h,0,s),c[h]=r,e<r&&(e=r),s="",r=0),h++,d++);r+=q;s+=D}a[h]=s;c[h]=r}else c[h]=q,e<q&&(e=q)}else for(h=0;h<d;h++)m=a[h],q=b.measureText(m),c[h]=q,e<q&&(e=q);this._textWidth=e;return a};return c}(d.DisplayObject);d.TextField=e;e.prototype.__class__="egret.TextField"})(egret||(egret={}));(function(d){var e=function(){function d(){}d.DYNAMIC="dynamic";d.INPUT="input";return d}();d.TextFieldType=e;e.prototype.__class__="egret.TextFieldType"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b){e.call(this);var a=b.bitmapData;this.bitmapData=a;this._textureMap={};this._sourceWidth=a.width;this._sourceHeight=a.height;this._bitmapX=b._bitmapX-b._offsetX;this._bitmapY=b._bitmapY-b._offsetY}__extends(c,e);c.prototype.getTexture=function(b){return this._textureMap[b]};c.prototype.createTexture=function(b,a,c,e,f,l,h,m,q){"undefined"===typeof l&&(l=0);"undefined"===typeof h&&(h=0);"undefined"===typeof m&&(m=l+e);"undefined"===typeof q&&(q=h+f);var s=
new d.Texture;s._bitmapData=this.bitmapData;s._bitmapX=this._bitmapX+a;s._bitmapY=this._bitmapY+c;s._bitmapWidth=e;s._bitmapHeight=f;s._offsetX=l;s._offsetY=h;s._textureWidth=m;s._textureHeight=q;s._sourceWidth=this._sourceWidth;s._sourceHeight=this._sourceHeight;return this._textureMap[b]=s};return c}(d.HashObject);d.SpriteSheet=e;e.prototype.__class__="egret.SpriteSheet"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.apply(this,arguments);this._placeholderText="";this._edFontSize=14;this._textColor=16711680;this._placeholderFontSize=14;this._placeholderColor=16776960;this._preY=this._preX=0}__extends(c,e);c.prototype._onAddToStage=function(){e.prototype._onAddToStage.call(this);var b=this.localToGlobal(),a=new d.StageText;a._open(b.x,b.y,this._explicitWidth,this._explicitHeight);this.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this);this.stageText=
a};c.prototype.setText=function(b){this.stageText._setText(b)};c.prototype.getText=function(){return this.stageText._getText()};c.prototype.setTextType=function(b){this.stageText._setTextType(b)};c.prototype.getTextType=function(){return this.stageText._getTextType()};c.prototype.onMouseDownHandler=function(b){};c.prototype._onRemoveFromStage=function(){this.stageText._remove()};c.prototype._measureBounds=function(){return d.Rectangle.identity};c.prototype.hitTest=function(b,a,c){return null};return c}(d.DisplayObject);
d.TextInput=e;e.prototype.__class__="egret.TextInput";e=function(){function d(){}d.prototype.editBoxEditingDidBegin=function(c){};d.prototype.editBoxEditingDidEnd=function(c){};d.prototype.editBoxTextChanged=function(c,b){};d.prototype.editBoxReturn=function(c){};return d}();d.TextInputDegelete=e;e.prototype.__class__="egret.TextInputDegelete"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(b,a){d.call(this,b);this.charList=this.parseConfig(a)}__extends(c,d);c.prototype.getTexture=function(b){var a=this._textureMap[b];if(!a){a=this.charList[b];if(!a)return null;a=this.createTexture(b,a.x,a.y,a.width,a.height,a.offsetX,a.offsetY);this._textureMap[b]=a}return a};c.prototype.parseConfig=function(b){b=b.split("\r\n").join("\n");b=b.split("\n");for(var a=this.getConfigByKey(b[3],"count"),c={},d=4;d<4+a;d++){var e=b[d],f=String.fromCharCode(this.getConfigByKey(e,
"id")),h={};c[f]=h;h.x=this.getConfigByKey(e,"x");h.y=this.getConfigByKey(e,"y");h.width=this.getConfigByKey(e,"width");h.height=this.getConfigByKey(e,"height");h.offsetX=this.getConfigByKey(e,"xoffset");h.offsetY=this.getConfigByKey(e,"yoffset")}return c};c.prototype.getConfigByKey=function(b,a){for(var c=b.split(" "),d=0,e=c.length;d<e;d++){var f=c[d];if(a==f.substring(0,a.length))return c=f.substring(a.length+1),parseInt(c)}return 0};return c}(d.SpriteSheet);d.BitmapTextSpriteSheet=e;e.prototype.__class__=
"egret.BitmapTextSpriteSheet"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(c){function b(a,b){c.call(this);this.frameRate=60;a instanceof f?(d.Logger.warning("MovieClip#constructor\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a new MovieClip(data,texture)"),this.delegate=a):this.delegate=new f(a,b);this.delegate.setMovieClip(this)}__extends(b,c);b.prototype.gotoAndPlay=function(a){this.delegate.gotoAndPlay(a)};b.prototype.gotoAndStop=function(a){this.delegate.gotoAndStop(a)};b.prototype.stop=
function(){this.delegate.stop()};b.prototype.dispose=function(){this.delegate.dispose()};b.prototype.release=function(){d.Logger.warning("MovieClip#release\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03");this.dispose()};b.prototype.getCurrentFrameIndex=function(){d.Logger.warning("MovieClip#getCurrentFrameIndex\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03");return this.delegate._currentFrameIndex};b.prototype.getTotalFrame=function(){d.Logger.warning("MovieClip#getTotalFrame\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03");return this.delegate._totalFrame};
b.prototype.setInterval=function(a){d.Logger.warning("MovieClip#setInterval\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03,\u8bf7\u4f7f\u7528MovieClip#frameRate\u4ee3\u66ff");this.frameRate=60/a};b.prototype.getIsPlaying=function(){d.Logger.warning("MovieClip#getIsPlaying\u65b9\u6cd5\u5373\u5c06\u5e9f\u5f03");return this.delegate.isPlaying};return b}(d.DisplayObjectContainer);d.MovieClip=e;e.prototype.__class__="egret.MovieClip";var f=function(){function c(b,a){this.data=b;this._currentFrameIndex=this._passTime=
this._totalFrame=0;this._isPlaying=!1;this._frameData=b;this._spriteSheet=new d.SpriteSheet(a)}c.prototype.setMovieClip=function(b){this.movieClip=b;this.bitmap=new d.Bitmap;this.movieClip.addChild(this.bitmap)};c.prototype.gotoAndPlay=function(b){this.checkHasFrame(b);this._isPlaying=!0;this._currentFrameIndex=0;this._currentFrameName=b;this._totalFrame=this._frameData.frames[b].totalFrame;this.playNextFrame();this._passTime=0;d.Ticker.getInstance().register(this.update,this)};c.prototype.gotoAndStop=
function(b){this.checkHasFrame(b);this.stop();this._currentFrameIndex=this._passTime=0;this._currentFrameName=b;this._totalFrame=this._frameData.frames[b].totalFrame;this.playNextFrame()};c.prototype.stop=function(){this._isPlaying=!1;d.Ticker.getInstance().unregister(this.update,this)};c.prototype.dispose=function(){};c.prototype.checkHasFrame=function(b){void 0==this._frameData.frames[b]&&d.Logger.fatal("MovieClip\u6ca1\u6709\u5bf9\u5e94\u7684frame\uff1a",b)};c.prototype.update=function(b){for(var a=
1E3/this.movieClip.frameRate,a=Math.floor((this._passTime%a+b)/a);1<=a;)1==a?this.playNextFrame():this.playNextFrame(!1),a--;this._passTime+=b};c.prototype.playNextFrame=function(b){"undefined"===typeof b&&(b=!0);var a=this._frameData.frames[this._currentFrameName].childrenFrame[this._currentFrameIndex];if(b){b=this.getTexture(a.res);var c=this.bitmap;c.x=a.x;c.y=a.y;c.texture=b}null!=a.action&&this.movieClip.dispatchEventWith(a.action);this._currentFrameIndex++;this._currentFrameIndex==this._totalFrame&&
(this._currentFrameIndex=0)};c.prototype.getTexture=function(b){var a=this._frameData.res[b],c=this._spriteSheet.getTexture(b);c||(c=this._spriteSheet.createTexture(b,a.x,a.y,a.w,a.h));return c};return c}();d.DefaultMovieClipDelegate=f;f.prototype.__class__="egret.DefaultMovieClipDelegate"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this)}__extends(c,e);c.prototype._getText=function(){return this.inputElement.value};c.prototype._setText=function(b){this.inputElement.value=b};c.prototype._setTextType=function(b){this.inputElement.type=b};c.prototype._getTextType=function(){return this.inputElement.type};c.prototype._open=function(b,a,c,e){"undefined"===typeof c&&(c=160);"undefined"===typeof e&&(e=21);var f=d.StageDelegate.getInstance().getScaleX(),l=d.StageDelegate.getInstance().getScaleY(),
h=document.createElement("input");h.type="text";h.style.fontSize="20px";h.style.color="#FFFFFF";h.style.borderStyle="none";h.style.background="none";h.style.width=c*f+"px";h.style.height=e*l+"px";h.style.outline="medium";var m=d.Browser.getInstance().$new("div");m.style.position="absolute";m.position.x=b*f;m.style.width=c*f+"px";m.style.height=e*l+"px";m.position.y=a*l;m.transforms();m.appendChild(h);b=d.Browser.getInstance().$("#StageDelegateDiv");b||(c=document.getElementById(d.StageDelegate.canvas_div_name),
e=c.clientHeight,c=c.clientWidth,b=d.Browser.getInstance().$new("div"),b.id="StageDelegateDiv",b.style.position="absolute",b.style.width=c+"px",b.style.maxHeight=e+"px",b.style.margin="0px",document.getElementById(d.StageDelegate.canvas_div_name).appendChild(b),b.position.y=-e,b.transforms());b.appendChild(m);this.div=m;this.inputElement=h};c.prototype._remove=function(){var b=this.div;b&&b.parentNode&&b.parentNode.removeChild(b)};return c}(d.HashObject);d.StageText=e;e.prototype.__class__="egret.StageText"})(egret||
(egret={}));(function(d){var e=function(){function d(){}d.GET="GET";d.POST="POST";return d}();d.URLRequestMethod=e;e.prototype.__class__="egret.URLRequestMethod"})(egret||(egret={}));(function(d){var e=function(){function d(){}d.BINARY="binary";d.TEXT="text";d.VARIABLES="variables";d.TEXTURE="texture";d.SOUND="sound";return d}();d.URLLoaderDataFormat=e;e.prototype.__class__="egret.URLLoaderDataFormat"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(b){"undefined"===typeof b&&(b=null);d.call(this);null!==b&&this.decode(b)}__extends(c,d);c.prototype.decode=function(b){this.variables||(this.variables={});b=b.split("+").join(" ");for(var a,c=/[?&]?([^=]+)=([^&]*)/g;a=c.exec(b);)this.variables[decodeURIComponent(a[1])]=decodeURIComponent(a[2])};c.prototype.toString=function(){if(!this.variables)return"";var b=this.variables,a="",c=!0,d;for(d in b)c?c=!1:a+="&",a+=d+"="+b[d];return a};return c}(d.HashObject);
d.URLVariables=e;e.prototype.__class__="egret.URLVariables"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};(function(d){var e=function(e){function c(b){"undefined"===typeof b&&(b=null);e.call(this);this.method=d.URLRequestMethod.GET;this.url=b}__extends(c,e);return c}(d.HashObject);d.URLRequest=e;e.prototype.__class__="egret.URLRequest"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b){"undefined"===typeof b&&(b=null);e.call(this);this.dataFormat=d.URLLoaderDataFormat.TEXT;b&&this.load(b)}__extends(c,e);c.prototype.load=function(b){this._request=b;this.data=null;d.MainContext.instance.netContext.proceed(this)};return c}(d.EventDispatcher);d.URLLoader=e;e.prototype.__class__="egret.URLLoader"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._textureHeight=this._textureWidth=this._offsetY=this._offsetX=this._bitmapHeight=this._bitmapWidth=this._bitmapY=this._bitmapX=0}__extends(c,e);Object.defineProperty(c.prototype,"textureWidth",{get:function(){return this._textureWidth},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"textureHeight",{get:function(){return this._textureHeight},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"bitmapData",
{get:function(){return this._bitmapData},enumerable:!0,configurable:!0});c.prototype._setBitmapData=function(b){var a=d.MainContext.instance.rendererContext.texture_scale_factor;this._bitmapData=b;this._sourceWidth=b.width;this._sourceHeight=b.height;this._textureWidth=this._sourceWidth*a;this._textureHeight=this._sourceHeight*a;this._bitmapWidth=this._textureWidth;this._bitmapHeight=this._textureHeight;this._offsetX=this._offsetY=this._bitmapX=this._bitmapY=0};c.prototype.getPixel32=function(b,a){return this._bitmapData.getContext("2d").getImageData(b,
a,1,1).data};return c}(d.HashObject);d.Texture=e;e.prototype.__class__="egret.Texture"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._bitmapData=document.createElement("canvas");this.renderContext=d.RendererContext.createRendererContext(this._bitmapData)}__extends(c,e);c.prototype.drawToTexture=function(b){var a=this._bitmapData,c=b.getBounds(d.Rectangle.identity);a.width=c.width;a.height=c.height;b._worldTransform.identity();b.worldAlpha=1;if(b instanceof d.DisplayObjectContainer){this._offsetX=c.x;this._offsetY=c.y;b._worldTransform.append(1,0,0,1,-c.x,-c.y);for(var a=
b._children,c=0,e=a.length;c<e;c++)a[c]._updateTransform()}a=d.RenderFilter.getInstance();c=a._drawAreaList.concat();a._drawAreaList.length=0;this.renderContext.clearScreen();this.webGLTexture=null;(e=b.mask||b._scrollRect)&&this.renderContext.pushMask(e);b._render(this.renderContext);e&&this.renderContext.popMask();a._drawAreaList=c;this._textureWidth=this._bitmapData.width;this._textureHeight=this._bitmapData.height;this._sourceWidth=this._textureWidth;this._sourceHeight=this._textureHeight};return c}(d.Texture);
d.RenderTexture=e;e.prototype.__class__="egret.RenderTexture"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this.renderCost=0;this.texture_scale_factor=1}__extends(c,e);c.prototype.clearScreen=function(){};c.prototype.clearRect=function(b,a,c,d){};c.prototype.drawImage=function(b,a,c,e,f,l,h,m,q){d.Profiler.getInstance().onDrawImage()};c.prototype.setTransform=function(b){};c.prototype.setAlpha=function(b,a){};c.prototype.setupFont=function(b){};c.prototype.measureText=function(b){return 0};c.prototype.drawText=function(b,a,c,e,f){d.Profiler.getInstance().onDrawImage()};
c.prototype.strokeRect=function(b,a,c,d,e){};c.prototype.pushMask=function(b){};c.prototype.popMask=function(){};c.createRendererContext=function(b){return null};return c}(d.HashObject);d.RendererContext=e;e.prototype.__class__="egret.RendererContext"})(egret||(egret={}));(function(d){var e=function(){function d(){}d.MOUSE="mouse";d.TOUCH="touch";d.mode="touch";return d}();d.InteractionMode=e;e.prototype.__class__="egret.InteractionMode"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._currentTouchTarget={};this.maxTouches=2;this.touchDownTarget={};this.lastTouchY=this.lastTouchX=-1}__extends(c,e);c.prototype.run=function(){};c.prototype.getTouchData=function(b,a,c){var d=this._currentTouchTarget[b];null==d&&(d={},this._currentTouchTarget[b]=d);d.stageX=a;d.stageY=c;d.identifier=b;return d};c.prototype.dispatchEvent=function(b,a){d.TouchEvent.dispatchTouchEvent(a.target,b,a.identifier,a.stageX,a.stageY,!1,!1,!1,!0==
this.touchDownTarget[a.identifier])};c.prototype.onTouchBegan=function(b,a,c){var e=d.MainContext.instance.stage.hitTest(b,a);e&&(b=this.getTouchData(c,b,a),this.touchDownTarget[c]=!0,b.target=e,b.beginTarget=e,this.dispatchEvent(d.TouchEvent.TOUCH_BEGIN,b))};c.prototype.onTouchMove=function(b,a,c){if(b!=this.lastTouchX||a!=this.lastTouchY){this.lastTouchX=b;this.lastTouchY=a;var e=d.MainContext.instance.stage.hitTest(b,a);e&&(b=this.getTouchData(c,b,a),b.target=e,this.dispatchEvent(d.TouchEvent.TOUCH_MOVE,
b))}};c.prototype.onTouchEnd=function(b,a,c){var e=d.MainContext.instance.stage.hitTest(b,a);e&&(b=this.getTouchData(c,b,a),delete this.touchDownTarget[c],c=b.beginTarget,b.target=e,this.dispatchEvent(d.TouchEvent.TOUCH_END,b),c==e?this.dispatchEvent(d.TouchEvent.TOUCH_TAP,b):b.beginTarget&&(b.target=b.beginTarget,this.dispatchEvent(d.TouchEvent.TOUCH_RELEASE_OUTSIDE,b)),delete this._currentTouchTarget[b.identifier])};return c}(d.HashObject);d.TouchContext=e;e.prototype.__class__="egret.TouchContext"})(egret||
(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};(function(d){var e=function(d){function c(){d.call(this)}__extends(c,d);c.prototype.proceed=function(b){};return c}(d.HashObject);d.NetContext=e;e.prototype.__class__="egret.NetContext"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};(function(d){var e=function(d){function c(){d.call(this);this.frameRate=60}__extends(c,d);c.prototype.executeMainLoop=function(b,a){};return c}(d.HashObject);d.DeviceContext=e;e.prototype.__class__="egret.DeviceContext"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this.translate=this.isHD?function(a){return"translate3d("+a.x+"px, "+(a.y-d.MainContext.instance.stage.stageHeight)+"px, 0) "}:function(a){return"translate("+a.x+"px, "+a.y+"px) "};this.rotate=this.isHD?function(a){return"rotateZ("+a+"deg) "}:function(a){return"rotate("+a+"deg) "};this.ua=navigator.userAgent.toLowerCase();var b=this.ua.match(/micromessenger|qqbrowser|mqqbrowser|ucbrowser|360browser|baidubrowser|maxthon|ie|opera|firefox/)||this.ua.match(/chrome|safari/);
b&&0<b.length&&(b=b[0],"micromessenger"==b&&(this.type="wechat"),this.type=b);this.type="unknow";switch(this.type){case "firefox":this.pfx="Moz";this.isHD=!0;break;case "chrome":case "safari":this.pfx="webkit";this.isHD=!0;break;case "opera":this.pfx="O";this.isHD=!1;break;case "ie":this.pfx="ms";this.isHD=!1;break;default:this.pfx="webkit",this.isHD=!0}this.trans=this.pfx+"Transform"}__extends(c,e);c.getInstance=function(){null==c.instance&&(c.instance=new c);return c.instance};Object.defineProperty(c.prototype,
"isMobile",{get:function(){d.Logger.warning("Browser.isMobile\u63a5\u53e3\u53c2\u6570\u5df2\u7ecf\u53d8\u66f4\uff0c\u8bf7\u5c3d\u5feb\u8c03\u6574\u7528\u6cd5\u4e3a egret.MainContext.deviceType == egret.MainContext.DEVICE_MOBILE ");return d.MainContext.deviceType==d.MainContext.DEVICE_MOBILE},enumerable:!0,configurable:!0});c.prototype.$new=function(b){return this.$(document.createElement(b))};c.prototype.$=function(b){var a=document;if(b=b instanceof HTMLElement?b:a.querySelector(b))b.find=b.find||
this.$,b.hasClass=b.hasClass||function(a){return this.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))},b.addClass=b.addClass||function(a){this.hasClass(a)||(this.className&&(this.className+=" "),this.className+=a);return this},b.removeClass=b.removeClass||function(a){this.hasClass(a)&&(this.className=this.className.replace(a,""));return this},b.remove=b.remove||function(){},b.appendTo=b.appendTo||function(a){a.appendChild(this);return this},b.prependTo=b.prependTo||function(a){a.childNodes[0]?
a.insertBefore(this,a.childNodes[0]):a.appendChild(this);return this},b.transforms=b.transforms||function(){this.style[c.getInstance().trans]=c.getInstance().translate(this.position)+c.getInstance().rotate(this.rotation)+c.getInstance().scale(this.scale)+c.getInstance().skew(this.skew);return this},b.position=b.position||{x:0,y:0},b.rotation=b.rotation||0,b.scale=b.scale||{x:1,y:1},b.skew=b.skew||{x:0,y:0},b.translates=function(a,b){this.position.x=a;this.position.y=b-d.MainContext.instance.stage.stageHeight;
this.transforms();return this},b.rotate=function(a){this.rotation=a;this.transforms();return this},b.resize=function(a,b){this.scale.x=a;this.scale.y=b;this.transforms();return this},b.setSkew=function(a,b){this.skew.x=a;this.skew.y=b;this.transforms();return this};return b};c.prototype.scale=function(b){return"scale("+b.x+", "+b.y+") "};c.prototype.skew=function(b){return"skewX("+-b.x+"deg) skewY("+b.y+"deg)"};return c}(d.HashObject);d.Browser=e;e.prototype.__class__="egret.Browser"})(egret||(egret=
{}));egret.Codec={name:"Jacob__Codec"};egret.Utils={};egret.Utils.unzip=function(){return egret.Codec.GZip.gunzip.apply(egret.Codec.GZip,arguments)};egret.Utils.unzipBase64=function(){var d=egret.Codec.Base64.decode.apply(egret.Codec.Base64,arguments);return egret.Codec.GZip.gunzip.apply(egret.Codec.GZip,[d])};egret.Utils.unzipBase64AsArray=function(d,e){e=e||1;var f=this.unzipBase64(d),c=[],b,a,g;b=0;for(g=f.length/e;b<g;b++)for(c[b]=0,a=e-1;0<=a;--a)c[b]+=f.charCodeAt(b*e+a)<<8*a;return c};
egret.Utils.unzipAsArray=function(d,e){e=e||1;var f=this.unzip(d),c=[],b,a,g;b=0;for(g=f.length/e;b<g;b++)for(c[b]=0,a=e-1;0<=a;--a)c[b]+=f.charCodeAt(b*e+a)<<8*a;return c};egret.Utils.StringToArray=function(d){d=d.split(",");var e=[],f;for(f=0;f<d.length;f++)e.push(parseInt(d[f]));return e};egret.Codec.Base64={name:"Jacob__Codec__Base64"};egret.Codec.Base64._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
egret.Codec.Base64.decode=function(d){var e=[],f,c,b,a,g,k=0;for(d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"");k<d.length;)f=this._keyStr.indexOf(d.charAt(k++)),c=this._keyStr.indexOf(d.charAt(k++)),a=this._keyStr.indexOf(d.charAt(k++)),g=this._keyStr.indexOf(d.charAt(k++)),f=f<<2|c>>4,c=(c&15)<<4|a>>2,b=(a&3)<<6|g,e.push(String.fromCharCode(f)),64!=a&&e.push(String.fromCharCode(c)),64!=g&&e.push(String.fromCharCode(b));return e=e.join("")};
egret.Codec.Base64.decodeAsArray=function(d,e){var f=this.decode(d),c=[],b,a,g;b=0;for(g=f.length/e;b<g;b++)for(c[b]=0,a=e-1;0<=a;--a)c[b]+=f.charCodeAt(b*e+a)<<8*a;return c};egret.Utils.uint8ArrayToUint32Array=function(d){if(0!=d.length%4)return null;for(var e=d.length/4,f=window.Uint32Array?new Uint32Array(e):[],c=0;c<e;c++){var b=4*c;f[c]=d[b]+256*d[b+1]+65536*d[b+2]+16777216*d[b+3]}return f};
egret.Codec.GZip=function(d){this.data=d;this.debug=!1;this.gpflags=void 0;this.files=0;this.unzipped=[];this.buf32k=Array(32768);this.bIdx=0;this.modeZIP=!1;this.bytepos=0;this.bb=1;this.bits=0;this.nameBuf=[];this.fileout=void 0;this.literalTree=Array(egret.Codec.GZip.LITERALS);this.distanceTree=Array(32);this.treepos=0;this.Places=null;this.len=0;this.fpos=Array(17);this.fpos[0]=0;this.fmax=this.flens=void 0};egret.Codec.GZip.gunzip=function(d){return(new egret.Codec.GZip(d)).gunzip()[0][0]};
egret.Codec.GZip.HufNode=function(){this.b1=this.b0=0;this.jump=null;this.jumppos=-1};egret.Codec.GZip.LITERALS=288;egret.Codec.GZip.NAMEMAX=256;
egret.Codec.GZip.bitReverse=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,
161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,3,131,67,195,35,163,99,227,19,147,83,211,51,179,115,243,11,139,75,203,43,171,107,235,27,155,91,219,59,187,123,251,7,135,71,199,39,167,103,231,23,151,87,215,55,183,119,247,15,143,79,207,47,175,111,239,31,159,95,223,63,191,127,255];
egret.Codec.GZip.cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0];egret.Codec.GZip.cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99];egret.Codec.GZip.cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];egret.Codec.GZip.cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];
egret.Codec.GZip.border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];egret.Codec.GZip.prototype.gunzip=function(){this.outputArr=[];this.nextFile();return this.unzipped};egret.Codec.GZip.prototype.readByte=function(){this.bits+=8;return this.bytepos<this.data.length?this.data.charCodeAt(this.bytepos++):-1};egret.Codec.GZip.prototype.byteAlign=function(){this.bb=1};
egret.Codec.GZip.prototype.readBit=function(){var d;this.bits++;d=this.bb&1;this.bb>>=1;0==this.bb&&(this.bb=this.readByte(),d=this.bb&1,this.bb=this.bb>>1|128);return d};egret.Codec.GZip.prototype.readBits=function(d){for(var e=0,f=d;f--;)e=e<<1|this.readBit();d&&(e=egret.Codec.GZip.bitReverse[e]>>8-d);return e};egret.Codec.GZip.prototype.flushBuffer=function(){this.bIdx=0};
egret.Codec.GZip.prototype.addBuffer=function(d){this.buf32k[this.bIdx++]=d;this.outputArr.push(String.fromCharCode(d));32768==this.bIdx&&(this.bIdx=0)};egret.Codec.GZip.prototype.IsPat=function(){for(;;){if(this.fpos[this.len]>=this.fmax)return-1;if(this.flens[this.fpos[this.len]]==this.len)return this.fpos[this.len]++;this.fpos[this.len]++}};
egret.Codec.GZip.prototype.Rec=function(){var d=this.Places[this.treepos],e;if(17==this.len)return-1;this.treepos++;this.len++;e=this.IsPat();if(0<=e)d.b0=e;else if(d.b0=32768,this.Rec())return-1;e=this.IsPat();if(0<=e)d.b1=e,d.jump=null;else if(d.b1=32768,d.jump=this.Places[this.treepos],d.jumppos=this.treepos,this.Rec())return-1;this.len--;return 0};
egret.Codec.GZip.prototype.CreateTree=function(d,e,f,c){this.Places=d;this.treepos=0;this.flens=f;this.fmax=e;for(d=0;17>d;d++)this.fpos[d]=0;this.len=0;return this.Rec()?-1:0};egret.Codec.GZip.prototype.DecodeValue=function(d){for(var e,f,c=0,b=d[c];;)if(e=this.readBit()){if(!(b.b1&32768))return b.b1;b=b.jump;e=d.length;for(f=0;f<e;f++)if(d[f]===b){c=f;break}}else{if(!(b.b0&32768))return b.b0;c++;b=d[c]}return-1};
egret.Codec.GZip.prototype.DeflateLoop=function(){var d,e,f,c,b;do if(d=this.readBit(),f=this.readBits(2),0==f)for(this.byteAlign(),f=this.readByte(),f|=this.readByte()<<8,e=this.readByte(),e|=this.readByte()<<8,(f^~e)&65535&&document.write("BlockLen checksum mismatch\n");f--;)e=this.readByte(),this.addBuffer(e);else if(1==f)for(;;)if(f=egret.Codec.GZip.bitReverse[this.readBits(7)]>>1,23<f?(f=f<<1|this.readBit(),199<f?(f-=128,f=f<<1|this.readBit()):(f-=48,143<f&&(f+=136))):f+=256,256>f)this.addBuffer(f);
else if(256==f)break;else{var a;f-=257;b=this.readBits(egret.Codec.GZip.cplext[f])+egret.Codec.GZip.cplens[f];f=egret.Codec.GZip.bitReverse[this.readBits(5)]>>3;8<egret.Codec.GZip.cpdext[f]?(a=this.readBits(8),a|=this.readBits(egret.Codec.GZip.cpdext[f]-8)<<8):a=this.readBits(egret.Codec.GZip.cpdext[f]);a+=egret.Codec.GZip.cpdist[f];for(f=0;f<b;f++)e=this.buf32k[this.bIdx-a&32767],this.addBuffer(e)}else if(2==f){var g=Array(320);e=257+this.readBits(5);a=1+this.readBits(5);c=4+this.readBits(4);for(f=
0;19>f;f++)g[f]=0;for(f=0;f<c;f++)g[egret.Codec.GZip.border[f]]=this.readBits(3);b=this.distanceTree.length;for(c=0;c<b;c++)this.distanceTree[c]=new egret.Codec.GZip.HufNode;if(this.CreateTree(this.distanceTree,19,g,0))return this.flushBuffer(),1;b=e+a;c=0;for(var k=-1;c<b;)if(k++,f=this.DecodeValue(this.distanceTree),16>f)g[c++]=f;else if(16==f){var n;f=3+this.readBits(2);if(c+f>b)return this.flushBuffer(),1;for(n=c?g[c-1]:0;f--;)g[c++]=n}else{f=17==f?3+this.readBits(3):11+this.readBits(7);if(c+
f>b)return this.flushBuffer(),1;for(;f--;)g[c++]=0}b=this.literalTree.length;for(c=0;c<b;c++)this.literalTree[c]=new egret.Codec.GZip.HufNode;if(this.CreateTree(this.literalTree,e,g,0))return this.flushBuffer(),1;b=this.literalTree.length;for(c=0;c<b;c++)this.distanceTree[c]=new egret.Codec.GZip.HufNode;f=[];for(c=e;c<g.length;c++)f[c-e]=g[c];if(this.CreateTree(this.distanceTree,a,f,0))return this.flushBuffer(),1;for(;;)if(f=this.DecodeValue(this.literalTree),256<=f){f-=256;if(0==f)break;f--;b=this.readBits(egret.Codec.GZip.cplext[f])+
egret.Codec.GZip.cplens[f];f=this.DecodeValue(this.distanceTree);8<egret.Codec.GZip.cpdext[f]?(a=this.readBits(8),a|=this.readBits(egret.Codec.GZip.cpdext[f]-8)<<8):a=this.readBits(egret.Codec.GZip.cpdext[f]);for(a+=egret.Codec.GZip.cpdist[f];b--;)e=this.buf32k[this.bIdx-a&32767],this.addBuffer(e)}else this.addBuffer(f)}while(!d);this.flushBuffer();this.byteAlign();return 0};
egret.Codec.GZip.prototype.unzipFile=function(d){var e;this.gunzip();for(e=0;e<this.unzipped.length;e++)if(this.unzipped[e][1]==d)return this.unzipped[e][0]};
egret.Codec.GZip.prototype.nextFile=function(){this.outputArr=[];this.modeZIP=!1;var d=[];d[0]=this.readByte();d[1]=this.readByte();120==d[0]&&218==d[1]&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),"geonext.gxt"],this.files++);31==d[0]&&139==d[1]&&(this.skipdir(),this.unzipped[this.files]=[this.outputArr.join(""),"file"],this.files++);if(80==d[0]&&75==d[1]&&(this.modeZIP=!0,d[2]=this.readByte(),d[3]=this.readByte(),3==d[2]&&4==d[3])){d[0]=this.readByte();d[1]=this.readByte();
this.gpflags=this.readByte();this.gpflags|=this.readByte()<<8;d=this.readByte();d|=this.readByte()<<8;this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();var e=this.readByte(),e=e|this.readByte()<<8,f=this.readByte(),f=f|this.readByte()<<8,c=0;for(this.nameBuf=[];e--;){var b=this.readByte();"/"==b|":"==b?c=0:c<egret.Codec.GZip.NAMEMAX-1&&(this.nameBuf[c++]=String.fromCharCode(b))}this.fileout||
(this.fileout=this.nameBuf);for(var c=0;c<f;)this.readByte(),c++;8==d&&(this.DeflateLoop(),this.unzipped[this.files]=[this.outputArr.join(""),this.nameBuf.join("")],this.files++);this.skipdir()}};
egret.Codec.GZip.prototype.skipdir=function(){var d=[],e;this.gpflags&8&&(d[0]=this.readByte(),d[1]=this.readByte(),d[2]=this.readByte(),d[3]=this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte(),this.readByte());this.modeZIP&&this.nextFile();d[0]=this.readByte();if(8!=d[0])return 0;this.gpflags=this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();this.readByte();if(this.gpflags&4)for(d[0]=
this.readByte(),d[2]=this.readByte(),this.len=d[0]+256*d[1],d=0;d<this.len;d++)this.readByte();if(this.gpflags&8)for(d=0,this.nameBuf=[];e=this.readByte();){if("7"==e||":"==e)d=0;d<egret.Codec.GZip.NAMEMAX-1&&(this.nameBuf[d++]=e)}if(this.gpflags&16)for(;this.readByte(););this.gpflags&2&&(this.readByte(),this.readByte());this.DeflateLoop();this.readByte();this.readByte();this.readByte();this.readByte();this.modeZIP&&this.nextFile()};
(function(){function d(a){throw a;}function e(a,b){var c=a.split("."),d=C;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var g;c.length&&(g=c.shift());)c.length||b===A?d=d[g]?d[g]:d[g]={}:d[g]=b}function f(a){if("string"===typeof a){a=a.split("");var b,c;b=0;for(c=a.length;b<c;b++)a[b]=(a[b].charCodeAt(0)&255)>>>0}b=1;c=0;for(var d=a.length,g,e=0;0<d;){g=1024<d?1024:d;d-=g;do b+=a[e++],c+=b;while(--g);b%=65521;c%=65521}return(c<<16|b)>>>0}function c(a,b){this.index="number"===typeof b?b:0;
this.i=0;this.buffer=a instanceof(w?Uint8Array:Array)?a:new (w?Uint8Array:Array)(32768);2*this.buffer.length<=this.index&&d(Error("invalid index"));this.buffer.length<=this.index&&this.f()}function b(a){this.buffer=new (w?Uint16Array:Array)(2*a);this.length=0}function a(a){var b=a.length,c=0,d=Number.POSITIVE_INFINITY,g,e,f,k,p,n,s,l,r;for(l=0;l<b;++l)a[l]>c&&(c=a[l]),a[l]<d&&(d=a[l]);g=1<<c;e=new (w?Uint32Array:Array)(g);f=1;k=0;for(p=2;f<=c;){for(l=0;l<b;++l)if(a[l]===f){n=0;s=k;for(r=0;r<f;++r)n=
n<<1|s&1,s>>=1;for(r=n;r<g;r+=p)e[r]=f<<16|l;++k}++f;k<<=1;p<<=1}return[e,c,d]}function g(a,b){this.h=G;this.w=0;this.input=a;this.b=0;b&&(b.lazy&&(this.w=b.lazy),"number"===typeof b.compressionType&&(this.h=b.compressionType),b.outputBuffer&&(this.a=w&&b.outputBuffer instanceof Array?new Uint8Array(b.outputBuffer):b.outputBuffer),"number"===typeof b.outputIndex&&(this.b=b.outputIndex));this.a||(this.a=new (w?Uint8Array:Array)(32768))}function k(a,b){this.length=a;this.G=b}function n(){var a=I;switch(y){case 3===
a:return[257,a-3,0];case 4===a:return[258,a-4,0];case 5===a:return[259,a-5,0];case 6===a:return[260,a-6,0];case 7===a:return[261,a-7,0];case 8===a:return[262,a-8,0];case 9===a:return[263,a-9,0];case 10===a:return[264,a-10,0];case 12>=a:return[265,a-11,1];case 14>=a:return[266,a-13,1];case 16>=a:return[267,a-15,1];case 18>=a:return[268,a-17,1];case 22>=a:return[269,a-19,2];case 26>=a:return[270,a-23,2];case 30>=a:return[271,a-27,2];case 34>=a:return[272,a-31,2];case 42>=a:return[273,a-35,3];case 50>=
a:return[274,a-43,3];case 58>=a:return[275,a-51,3];case 66>=a:return[276,a-59,3];case 82>=a:return[277,a-67,4];case 98>=a:return[278,a-83,4];case 114>=a:return[279,a-99,4];case 130>=a:return[280,a-115,4];case 162>=a:return[281,a-131,5];case 194>=a:return[282,a-163,5];case 226>=a:return[283,a-195,5];case 257>=a:return[284,a-227,5];case 258===a:return[285,a-258,0];default:d("invalid length: "+a)}}function l(a,b){function c(a,b){var g=a.G,e=[],f=0,k;k=H[a.length];e[f++]=k&65535;e[f++]=k>>16&255;e[f++]=
k>>24;var p;switch(y){case 1===g:p=[0,g-1,0];break;case 2===g:p=[1,g-2,0];break;case 3===g:p=[2,g-3,0];break;case 4===g:p=[3,g-4,0];break;case 6>=g:p=[4,g-5,1];break;case 8>=g:p=[5,g-7,1];break;case 12>=g:p=[6,g-9,2];break;case 16>=g:p=[7,g-13,2];break;case 24>=g:p=[8,g-17,3];break;case 32>=g:p=[9,g-25,3];break;case 48>=g:p=[10,g-33,4];break;case 64>=g:p=[11,g-49,4];break;case 96>=g:p=[12,g-65,5];break;case 128>=g:p=[13,g-97,5];break;case 192>=g:p=[14,g-129,6];break;case 256>=g:p=[15,g-193,6];break;
case 384>=g:p=[16,g-257,7];break;case 512>=g:p=[17,g-385,7];break;case 768>=g:p=[18,g-513,8];break;case 1024>=g:p=[19,g-769,8];break;case 1536>=g:p=[20,g-1025,9];break;case 2048>=g:p=[21,g-1537,9];break;case 3072>=g:p=[22,g-2049,10];break;case 4096>=g:p=[23,g-3073,10];break;case 6144>=g:p=[24,g-4097,11];break;case 8192>=g:p=[25,g-6145,11];break;case 12288>=g:p=[26,g-8193,12];break;case 16384>=g:p=[27,g-12289,12];break;case 24576>=g:p=[28,g-16385,13];break;case 32768>=g:p=[29,g-24577,13];break;default:d("invalid distance")}k=
p;e[f++]=k[0];e[f++]=k[1];e[f++]=k[2];g=0;for(f=e.length;g<f;++g)r[h++]=e[g];q[e[0]]++;m[e[3]]++;t=a.length+b-1;l=null}var g,e,f,p,n,s={},l,r=w?new Uint16Array(2*b.length):[],h=0,t=0,q=new (w?Uint32Array:Array)(286),m=new (w?Uint32Array:Array)(30),D=a.w,u;if(!w){for(f=0;285>=f;)q[f++]=0;for(f=0;29>=f;)m[f++]=0}q[256]=1;g=0;for(e=b.length;g<e;++g){f=n=0;for(p=3;f<p&&g+f!==e;++f)n=n<<8|b[g+f];s[n]===A&&(s[n]=[]);f=s[n];if(!(0<t--)){for(;0<f.length&&32768<g-f[0];)f.shift();if(g+3>=e){l&&c(l,-1);f=0;
for(p=e-g;f<p;++f)u=b[g+f],r[h++]=u,++q[u];break}if(0<f.length){n=p=A;var z=0,v=A,x=A,B=v=A,C=b.length,x=0,B=f.length;a:for(;x<B;x++){p=f[B-x-1];v=3;if(3<z){for(v=z;3<v;v--)if(b[p+v-1]!==b[g+v-1])continue a;v=z}for(;258>v&&g+v<C&&b[p+v]===b[g+v];)++v;v>z&&(n=p,z=v);if(258===v)break}p=new k(z,g-n);l?l.length<p.length?(u=b[g-1],r[h++]=u,++q[u],c(p,0)):c(l,-1):p.length<D?l=p:c(p,0)}else l?c(l,-1):(u=b[g],r[h++]=u,++q[u])}f.push(g)}r[h++]=256;q[256]++;a.L=q;a.K=m;return w?r.subarray(0,h):r}function h(a,
c){function d(a){var b=r[a][h[a]];b===s?(d(a+1),d(a+1)):--l[b];++h[a]}var g=a.length,e=new b(572),f=new (w?Uint8Array:Array)(g),k,p,n;if(!w)for(p=0;p<g;p++)f[p]=0;for(p=0;p<g;++p)0<a[p]&&e.push(p,a[p]);g=Array(e.length/2);k=new (w?Uint32Array:Array)(e.length/2);if(1===g.length)return f[e.pop().index]=1,f;p=0;for(n=e.length/2;p<n;++p)g[p]=e.pop(),k[p]=g[p].value;var s=k.length;p=new (w?Uint16Array:Array)(c);var e=new (w?Uint8Array:Array)(c),l=new (w?Uint8Array:Array)(s);n=Array(c);var r=Array(c),h=
Array(c),q=(1<<c)-s,t=1<<c-1,m,D,A;p[c-1]=s;for(m=0;m<c;++m)q<t?e[m]=0:(e[m]=1,q-=t),q<<=1,p[c-2-m]=(p[c-1-m]/2|0)+s;p[0]=e[0];n[0]=Array(p[0]);r[0]=Array(p[0]);for(m=1;m<c;++m)p[m]>2*p[m-1]+e[m]&&(p[m]=2*p[m-1]+e[m]),n[m]=Array(p[m]),r[m]=Array(p[m]);for(q=0;q<s;++q)l[q]=c;for(t=0;t<p[c-1];++t)n[c-1][t]=k[t],r[c-1][t]=t;for(q=0;q<c;++q)h[q]=0;1===e[c-1]&&(--l[0],++h[c-1]);for(m=c-2;0<=m;--m){D=q=0;A=h[m+1];for(t=0;t<p[m];t++)D=n[m+1][A]+n[m+1][A+1],D>k[q]?(n[m][t]=D,r[m][t]=s,A+=2):(n[m][t]=k[q],
r[m][t]=q,++q);h[m]=0;1===e[m]&&d(m)}k=l;p=0;for(n=g.length;p<n;++p)f[g[p].index]=k[p];return f}function m(a){var b=new (w?Uint16Array:Array)(a.length),c=[],g=[],e=0,f,k,p;f=0;for(k=a.length;f<k;f++)c[a[f]]=(c[a[f]]|0)+1;f=1;for(k=16;f<=k;f++)g[f]=e,e+=c[f]|0,e>1<<f&&d("overcommitted"),e<<=1;65536>e&&d("undercommitted");f=0;for(k=a.length;f<k;f++)for(e=g[a[f]],g[a[f]]+=1,c=b[f]=0,p=a[f];c<p;c++)b[f]=b[f]<<1|e&1,e>>>=1;return b}function q(a,b){this.input=a;this.a=new (w?Uint8Array:Array)(32768);this.h=
K.j;var c={},d;!b&&(b={})||"number"!==typeof b.compressionType||(this.h=b.compressionType);for(d in b)c[d]=b[d];c.outputBuffer=this.a;this.z=new g(this.input,c)}function s(a,b){this.k=[];this.l=32768;this.e=this.g=this.c=this.q=0;this.input=w?new Uint8Array(a):a;this.s=!1;this.m=L;this.B=!1;if(b||!(b={}))b.index&&(this.c=b.index),b.bufferSize&&(this.l=b.bufferSize),b.bufferType&&(this.m=b.bufferType),b.resize&&(this.B=b.resize);switch(this.m){case M:this.b=32768;this.a=new (w?Uint8Array:Array)(32768+
this.l+258);break;case L:this.b=0;this.a=new (w?Uint8Array:Array)(this.l);this.f=this.J;this.t=this.H;this.o=this.I;break;default:d(Error("invalid inflate mode"))}}function r(a,b){for(var c=a.g,g=a.e,e=a.input,f=a.c,k;g<b;)k=e[f++],k===A&&d(Error("input buffer is broken")),c|=k<<g,g+=8;a.g=c>>>b;a.e=g-b;a.c=f;return c&(1<<b)-1}function p(a,b){for(var c=a.g,g=a.e,e=a.input,f=a.c,k=b[0],p=b[1],n;g<p;)n=e[f++],n===A&&d(Error("input buffer is broken")),c|=n<<g,g+=8;e=k[c&(1<<p)-1];k=e>>>16;a.g=c>>k;a.e=
g-k;a.c=f;return e&65535}function t(b){function c(a,b,g){var d,e,f,k;for(k=0;k<a;)switch(d=p(this,b),d){case 16:for(f=3+r(this,2);f--;)g[k++]=e;break;case 17:for(f=3+r(this,3);f--;)g[k++]=0;e=0;break;case 18:for(f=11+r(this,7);f--;)g[k++]=0;e=0;break;default:e=g[k++]=d}return g}var g=r(b,5)+257,d=r(b,5)+1,e=r(b,4)+4,f=new (w?Uint8Array:Array)(R.length),k;for(k=0;k<e;++k)f[R[k]]=r(b,3);e=a(f);f=new (w?Uint8Array:Array)(g);k=new (w?Uint8Array:Array)(d);b.o(a(c.call(b,g,e,f)),a(c.call(b,d,e,k)))}function D(a,
b){var c,g;this.input=a;this.c=0;if(b||!(b={}))b.index&&(this.c=b.index),b.verify&&(this.M=b.verify);c=a[this.c++];g=a[this.c++];switch(c&15){case $:this.method=$;break;default:d(Error("unsupported compression method"))}0!==((c<<8)+g)%31&&d(Error("invalid fcheck flag:"+((c<<8)+g)%31));g&32&&d(Error("fdict flag is not supported"));this.A=new s(a,{index:this.c,bufferSize:b.bufferSize,bufferType:b.bufferType,resize:b.resize})}var A=void 0,y=!0,C=this,w="undefined"!==typeof Uint8Array&&"undefined"!==
typeof Uint16Array&&"undefined"!==typeof Uint32Array;c.prototype.f=function(){var a=this.buffer,b,c=a.length,g=new (w?Uint8Array:Array)(c<<1);if(w)g.set(a);else for(b=0;b<c;++b)g[b]=a[b];return this.buffer=g};c.prototype.d=function(a,b,c){var g=this.buffer,d=this.index,e=this.i,f=g[d];c&&1<b&&(a=8<b?(v[a&255]<<24|v[a>>>8&255]<<16|v[a>>>16&255]<<8|v[a>>>24&255])>>32-b:v[a]>>8-b);if(8>b+e)f=f<<b|a,e+=b;else for(c=0;c<b;++c)f=f<<1|a>>b-c-1&1,8===++e&&(e=0,g[d++]=v[f],f=0,d===g.length&&(g=this.f()));
g[d]=f;this.buffer=g;this.i=e;this.index=d};c.prototype.finish=function(){var a=this.buffer,b=this.index,c;0<this.i&&(a[b]<<=8-this.i,a[b]=v[a[b]],b++);w?c=a.subarray(0,b):(a.length=b,c=a);return c};var E=new (w?Uint8Array:Array)(256),u;for(u=0;256>u;++u){for(var z=u,x=z,B=7,z=z>>>1;z;z>>>=1)x<<=1,x|=z&1,--B;E[u]=(x<<B&255)>>>0}var v=E,E=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,
498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,
3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,
2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,
2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,
2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,
711928724,3020668471,3272380065,1510334235,755167117];w&&new Uint32Array(E);b.prototype.getParent=function(a){return 2*((a-2)/4|0)};b.prototype.push=function(a,b){var c,g,d=this.buffer,e;c=this.length;d[this.length++]=b;for(d[this.length++]=a;0<c;)if(g=this.getParent(c),d[c]>d[g])e=d[c],d[c]=d[g],d[g]=e,e=d[c+1],d[c+1]=d[g+1],d[g+1]=e,c=g;else break;return this.length};b.prototype.pop=function(){var a,b,c=this.buffer,g,d,e;b=c[0];a=c[1];this.length-=2;c[0]=c[this.length];c[1]=c[this.length+1];for(e=
0;;){d=2*e+2;if(d>=this.length)break;d+2<this.length&&c[d+2]>c[d]&&(d+=2);if(c[d]>c[e])g=c[e],c[e]=c[d],c[d]=g,g=c[e+1],c[e+1]=c[d+1],c[d+1]=g;else break;e=d}return{index:a,value:b,length:this.length}};var G=2,E={NONE:0,r:1,j:G,N:3},F=[];for(u=0;288>u;u++)switch(y){case 143>=u:F.push([u+48,8]);break;case 255>=u:F.push([u-144+400,9]);break;case 279>=u:F.push([u-256+0,7]);break;case 287>=u:F.push([u-280+192,8]);break;default:d("invalid literal: "+u)}g.prototype.n=function(){var a,b,g,e,f=this.input;
switch(this.h){case 0:g=0;for(e=f.length;g<e;){b=w?f.subarray(g,g+65535):f.slice(g,g+65535);g+=b.length;var k=g===e,p=A,n=p=A,n=p=A,s=this.a,r=this.b;if(w){for(s=new Uint8Array(this.a.buffer);s.length<=r+b.length+5;)s=new Uint8Array(s.length<<1);s.set(this.a)}p=k?1:0;s[r++]=p|0;p=b.length;n=~p+65536&65535;s[r++]=p&255;s[r++]=p>>>8&255;s[r++]=n&255;s[r++]=n>>>8&255;if(w)s.set(b,r),r+=b.length,s=s.subarray(0,r);else{p=0;for(n=b.length;p<n;++p)s[r++]=b[p];s.length=r}this.b=r;this.a=s}break;case 1:g=
new c(new Uint8Array(this.a.buffer),this.b);g.d(1,1,y);g.d(1,2,y);f=l(this,f);b=0;for(k=f.length;b<k;b++)if(e=f[b],c.prototype.d.apply(g,F[e]),256<e)g.d(f[++b],f[++b],y),g.d(f[++b],5),g.d(f[++b],f[++b],y);else if(256===e)break;this.a=g.finish();this.b=this.a.length;break;case G:e=new c(new Uint8Array(this.a),this.b);var q,t,D,u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z,v,p=Array(19),x,s=G;e.d(1,1,y);e.d(s,2,y);f=l(this,f);n=h(this.L,15);z=m(n);s=h(this.K,7);r=m(s);for(q=286;257<q&&0===n[q-
1];q--);for(t=30;1<t&&0===s[t-1];t--);var B=q,C=t;a=new (w?Uint32Array:Array)(B+C);var E=new (w?Uint32Array:Array)(316),I,H;v=new (w?Uint8Array:Array)(19);for(x=D=0;x<B;x++)a[D++]=n[x];for(x=0;x<C;x++)a[D++]=s[x];if(!w)for(x=0,C=v.length;x<C;++x)v[x]=0;x=I=0;for(C=a.length;x<C;x+=D){for(D=1;x+D<C&&a[x+D]===a[x];++D);B=D;if(0===a[x])if(3>B)for(;0<B--;)E[I++]=0,v[0]++;else for(;0<B;)H=138>B?B:138,H>B-3&&H<B&&(H=B-3),10>=H?(E[I++]=17,E[I++]=H-3,v[17]++):(E[I++]=18,E[I++]=H-11,v[18]++),B-=H;else if(E[I++]=
a[x],v[a[x]]++,B--,3>B)for(;0<B--;)E[I++]=a[x],v[a[x]]++;else for(;0<B;)H=6>B?B:6,H>B-3&&H<B&&(H=B-3),E[I++]=16,E[I++]=H-3,v[16]++,B-=H}a=w?E.subarray(0,I):E.slice(0,I);v=h(v,7);for(x=0;19>x;x++)p[x]=v[u[x]];for(D=19;4<D&&0===p[D-1];D--);u=m(v);e.d(q-257,5,y);e.d(t-1,5,y);e.d(D-4,4,y);for(x=0;x<D;x++)e.d(p[x],3,y);x=0;for(p=a.length;x<p;x++)if(b=a[x],e.d(u[b],v[b],y),16<=b){x++;switch(b){case 16:k=2;break;case 17:k=3;break;case 18:k=7;break;default:d("invalid code: "+b)}e.d(a[x],k,y)}k=[z,n];r=[r,
s];b=k[0];k=k[1];s=r[0];z=r[1];r=0;for(p=f.length;r<p;++r)if(g=f[r],e.d(b[g],k[g],y),256<g)e.d(f[++r],f[++r],y),n=f[++r],e.d(s[n],z[n],y),e.d(f[++r],f[++r],y);else if(256===g)break;this.a=e.finish();this.b=this.a.length;break;default:d("invalid compression type")}return this.a};u=[];var I;for(I=3;258>=I;I++)z=n(),u[I]=z[2]<<24|z[1]<<16|z[0];var H=w?new Uint32Array(u):u,K=E;q.prototype.n=function(){var a,b,c,g,e=0;g=this.a;a=$;switch(a){case $:b=Math.LOG2E*Math.log(32768)-8;break;default:d(Error("invalid compression method"))}b=
b<<4|a;g[e++]=b;switch(a){case $:switch(this.h){case K.NONE:c=0;break;case K.r:c=1;break;case K.j:c=2;break;default:d(Error("unsupported compression type"))}break;default:d(Error("invalid compression method"))}a=c<<6|0;g[e++]=a|31-(256*b+a)%31;a=f(this.input);this.z.b=e;g=this.z.n();e=g.length;w&&(g=new Uint8Array(g.buffer),g.length<=e+4&&(this.a=new Uint8Array(g.length+4),this.a.set(g),g=this.a),g=g.subarray(0,e+4));g[e++]=a>>24&255;g[e++]=a>>16&255;g[e++]=a>>8&255;g[e++]=a&255;return g};e("Zlib.Deflate",
q);e("Zlib.Deflate.compress",function(a,b){return(new q(a,b)).n()});e("Zlib.Deflate.CompressionType",K);e("Zlib.Deflate.CompressionType.NONE",K.NONE);e("Zlib.Deflate.CompressionType.FIXED",K.r);e("Zlib.Deflate.CompressionType.DYNAMIC",K.j);var M=0,L=1,E={D:M,C:L};s.prototype.p=function(){for(;!this.s;){var a=r(this,3);a&1&&(this.s=y);a>>>=1;switch(a){case 0:var a=this.input,b=this.c,c=this.a,g=this.b,e=A,f=A,k=A,p=c.length,e=A;this.e=this.g=0;e=a[b++];e===A&&d(Error("invalid uncompressed block header: LEN (first byte)"));
f=e;e=a[b++];e===A&&d(Error("invalid uncompressed block header: LEN (second byte)"));f|=e<<8;e=a[b++];e===A&&d(Error("invalid uncompressed block header: NLEN (first byte)"));k=e;e=a[b++];e===A&&d(Error("invalid uncompressed block header: NLEN (second byte)"));k|=e<<8;f===~k&&d(Error("invalid uncompressed block header: length verify"));b+f>a.length&&d(Error("input buffer is broken"));switch(this.m){case M:for(;g+f>c.length;){e=p-g;f-=e;if(w)c.set(a.subarray(b,b+e),g),g+=e,b+=e;else for(;e--;)c[g++]=
a[b++];this.b=g;c=this.f();g=this.b}break;case L:for(;g+f>c.length;)c=this.f({v:2});break;default:d(Error("invalid inflate mode"))}if(w)c.set(a.subarray(b,b+f),g),g+=f,b+=f;else for(;f--;)c[g++]=a[b++];this.c=b;this.b=g;this.a=c;break;case 1:this.o(Z,ca);break;case 2:t(this);break;default:d(Error("unknown BTYPE: "+a))}}return this.t()};u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];var R=w?new Uint16Array(u):u;u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,
258,258,258];var O=w?new Uint16Array(u):u;u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];var U=w?new Uint8Array(u):u;u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];var P=w?new Uint16Array(u):u;u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];var T=w?new Uint8Array(u):u;u=new (w?Uint8Array:Array)(288);z=0;for(x=u.length;z<x;++z)u[z]=143>=z?8:255>=z?9:279>=z?7:8;var Z=a(u);u=new (w?Uint8Array:
Array)(30);z=0;for(x=u.length;z<x;++z)u[z]=5;var ca=a(u);s.prototype.o=function(a,b){var c=this.a,g=this.b;this.u=a;for(var d=c.length-258,e,f,k;256!==(e=p(this,a));)if(256>e)g>=d&&(this.b=g,c=this.f(),g=this.b),c[g++]=e;else for(e-=257,k=O[e],0<U[e]&&(k+=r(this,U[e])),e=p(this,b),f=P[e],0<T[e]&&(f+=r(this,T[e])),g>=d&&(this.b=g,c=this.f(),g=this.b);k--;)c[g]=c[g++-f];for(;8<=this.e;)this.e-=8,this.c--;this.b=g};s.prototype.I=function(a,b){var c=this.a,g=this.b;this.u=a;for(var d=c.length,e,f,k;256!==
(e=p(this,a));)if(256>e)g>=d&&(c=this.f(),d=c.length),c[g++]=e;else for(e-=257,k=O[e],0<U[e]&&(k+=r(this,U[e])),e=p(this,b),f=P[e],0<T[e]&&(f+=r(this,T[e])),g+k>d&&(c=this.f(),d=c.length);k--;)c[g]=c[g++-f];for(;8<=this.e;)this.e-=8,this.c--;this.b=g};s.prototype.f=function(){var a=new (w?Uint8Array:Array)(this.b-32768),b=this.b-32768,c,g,d=this.a;if(w)a.set(d.subarray(32768,a.length));else for(c=0,g=a.length;c<g;++c)a[c]=d[c+32768];this.k.push(a);this.q+=a.length;if(w)d.set(d.subarray(b,b+32768));
else for(c=0;32768>c;++c)d[c]=d[b+c];this.b=32768;return d};s.prototype.J=function(a){var b,c=this.input.length/this.c+1|0,g,d,e,f=this.input,k=this.a;a&&("number"===typeof a.v&&(c=a.v),"number"===typeof a.F&&(c+=a.F));2>c?(g=(f.length-this.c)/this.u[2],e=g/2*258|0,d=e<k.length?k.length+e:k.length<<1):d=k.length*c;w?(b=new Uint8Array(d),b.set(k)):b=k;return this.a=b};s.prototype.t=function(){var a=0,b=this.a,c=this.k,g,d=new (w?Uint8Array:Array)(this.q+(this.b-32768)),e,f,k,p;if(0===c.length)return w?
this.a.subarray(32768,this.b):this.a.slice(32768,this.b);e=0;for(f=c.length;e<f;++e)for(g=c[e],k=0,p=g.length;k<p;++k)d[a++]=g[k];e=32768;for(f=this.b;e<f;++e)d[a++]=b[e];this.k=[];return this.buffer=d};s.prototype.H=function(){var a,b=this.b;w?this.B?(a=new Uint8Array(b),a.set(this.a.subarray(0,b))):a=this.a.subarray(0,b):(this.a.length>b&&(this.a.length=b),a=this.a);return this.buffer=a};D.prototype.p=function(){var a=this.input,b,c;b=this.A.p();this.c=this.A.c;this.M&&(c=(a[this.c++]<<24|a[this.c++]<<
16|a[this.c++]<<8|a[this.c++])>>>0,c!==f(b)&&d(Error("invalid adler-32 checksum")));return b};e("Zlib.Inflate",D);e("Zlib.Inflate.BufferType",E);E.ADAPTIVE=E.C;E.BLOCK=E.D;e("Zlib.Inflate.prototype.decompress",D.prototype.p);E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];w&&new Uint16Array(E);E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258];w&&new Uint16Array(E);E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0];w&&new Uint8Array(E);
E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];w&&new Uint16Array(E);E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];w&&new Uint8Array(E);E=new (w?Uint8Array:Array)(288);u=0;for(z=E.length;u<z;++u)E[u]=143>=u?8:255>=u?9:279>=u?7:8;a(E);E=new (w?Uint8Array:Array)(30);u=0;for(z=E.length;u<z;++u)E[u]=5;a(E);var $=8}).call(this);
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;
(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(d,e,f){var c=function(a){var b,c=[],g=a.length;for(b=0;b!==g;c.push(a[b++]));return c},b=function(a,c,g){f.call(this,a,c,g);this._cycle=0;this._yoyo=!0===this.vars.yoyo;this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._dirty=!0;this.render=b.prototype.render},a=f._internals,g=a.isSelector,k=a.isArray,n=b.prototype=f.to({},
0.1,{}),l=[];b.version="1.13.1";n.constructor=b;n.kill()._gc=!1;b.killTweensOf=b.killDelayedCallsTo=f.killTweensOf;b.getTweensOf=f.getTweensOf;b.lagSmoothing=f.lagSmoothing;b.ticker=f.ticker;b.render=f.render;n.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),f.prototype.invalidate.call(this)};n.updateTo=function(a,b){var c,g=this.ratio;b&&this._startTime<this._timeline._time&&(this._startTime=
this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(c in a)this.vars[c]=a[c];if(this._initted)if(b)this._initted=!1;else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&f._onPluginEvent("_onDisable",this),0.998<this._time/this._duration)c=this._time,this.render(0,!0,!1),this._initted=!1,this.render(c,!0,!1);else if(0<this._time){this._initted=!1;this._init();for(var g=1/(1-g),d=this._firstPT;d;)c=
d.s+d.c,d.c*=g,d.s=c-d.c,d=d._next}return this};n.render=function(b,c,g){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var d,e,f,k,n,h,m,q=this._dirty?this.totalDuration():this._totalDuration,z=this._time,x=this._totalTime,B=this._cycle,v=this._duration,G=this._rawPrevTime;if(b>=q?(this._totalTime=q,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):
1),this._reversed||(d=!0,e="onComplete"),0===v&&(this._initted||!this.vars.lazy||g)&&(this._startTime===this._timeline._duration&&(b=0),(0===b||0>G||1E-10===G)&&G!==b&&(g=!0,1E-10<G&&(e="onReverseComplete")),this._rawPrevTime=m=!c||b||G===b?b:1E-10)):1E-7>b?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==x||0===v&&0<G&&1E-10!==G)&&(e="onReverseComplete",d=this._reversed),0>b?(this._active=!1,0===v&&(this._initted||!this.vars.lazy||g)&&(0<=G&&
(g=!0),this._rawPrevTime=m=!c||b||G===b?b:1E-10)):this._initted||(g=!0)):(this._totalTime=this._time=b,0!==this._repeat&&(f=v+this._repeatDelay,this._cycle=this._totalTime/f>>0,0!==this._cycle&&this._cycle===this._totalTime/f&&this._cycle--,this._time=this._totalTime-this._cycle*f,this._yoyo&&0!==(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:0>this._time&&(this._time=0)),this._easeType?(k=this._time/v,n=this._easeType,h=this._easePower,(1===n||3===n&&0.5<=k)&&(k=1-k),3===n&&
(k*=2),1===h?k*=k:2===h?k*=k*k:3===h?k*=k*k*k:4===h&&(k*=k*k*k*k),this.ratio=1===n?1-k:2===n?k:0.5>this._time/v?k/2:1-k/2):this.ratio=this._ease.getRatio(this._time/v)),z===this._time&&!g&&B===this._cycle)return x!==this._totalTime&&this._onUpdate&&(c||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l)),void 0;if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!g&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=
z,this._totalTime=x,this._rawPrevTime=G,this._cycle=B,a.lazyTweens.push(this),this._lazy=b,void 0;this._time&&!d?this.ratio=this._ease.getRatio(this._time/v):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}!1!==this._lazy&&(this._lazy=!1);this._active||!this._paused&&this._time!==z&&0<=b&&(this._active=!0);0!==x||(2===this._initted&&0<b&&this._init(),this._startAt&&(0<=b?this._startAt.render(b,c,g):e||(e="_dummyGS")),!this.vars.onStart||0===this._totalTime&&0!==v||!c&&
this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||l));for(f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>b&&this._startAt&&this._startTime&&this._startAt.render(b,c,g),c||(this._totalTime!==x||d)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l));this._cycle!==B&&(c||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||l));
e&&(!this._gc||g)&&(0>b&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(b,c,g),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!c&&this.vars[e]&&this.vars[e].apply(this.vars[e+"Scope"]||this,this.vars[e+"Params"]||l),0===v&&1E-10===this._rawPrevTime&&1E-10!==m&&(this._rawPrevTime=0))};b.to=function(a,c,g){return new b(a,c,g)};b.from=function(a,c,g){return g.runBackwards=!0,g.immediateRender=0!=g.immediateRender,new b(a,c,g)};b.fromTo=function(a,
c,g,d){return d.startAt=g,d.immediateRender=0!=d.immediateRender&&0!=g.immediateRender,new b(a,c,d)};b.staggerTo=b.allTo=function(a,d,e,n,h,m,q){n=n||0;var C,w,E,u,z=e.delay||0,x=[],B=function(){e.onComplete&&e.onComplete.apply(e.onCompleteScope||this,arguments);h.apply(q||this,m||l)};k(a)||("string"==typeof a&&(a=f.selector(a)||a),g(a)&&(a=c(a)));C=a.length;for(E=0;C>E;E++){w={};for(u in e)w[u]=e[u];w.delay=z;E===C-1&&h&&(w.onComplete=B);x[E]=new b(a[E],d,w);z+=n}return x};b.staggerFrom=b.allFrom=
function(a,c,g,d,e,f,k){return g.runBackwards=!0,g.immediateRender=0!=g.immediateRender,b.staggerTo(a,c,g,d,e,f,k)};b.staggerFromTo=b.allFromTo=function(a,c,g,d,e,f,k,n){return d.startAt=g,d.immediateRender=0!=d.immediateRender&&0!=g.immediateRender,b.staggerTo(a,c,d,e,f,k,n)};b.delayedCall=function(a,c,g,d,e){return new b(c,0,{delay:a,onComplete:c,onCompleteParams:g,onCompleteScope:d,onReverseComplete:c,onReverseCompleteParams:g,onReverseCompleteScope:d,immediateRender:!1,useFrames:e,overwrite:0})};
b.set=function(a,c){return new b(a,0,c)};b.isTweening=function(a){return 0<f.getTweensOf(a,!0).length};var h=function(a,b){for(var c=[],g=0,d=a._first;d;)d instanceof f?c[g++]=d:(b&&(c[g++]=d),c=c.concat(h(d,b)),g=c.length),d=d._next;return c},m=b.getAllTweens=function(a){return h(d._rootTimeline,a).concat(h(d._rootFramesTimeline,a))};b.killAll=function(a,b,c,g){null==b&&(b=!0);null==c&&(c=!0);var d,f,k=m(0!=g),n=k.length,l=b&&c&&g;for(f=0;n>f;f++)g=k[f],(l||g instanceof e||(d=g.target===g.vars.onComplete)&&
c||b&&!d)&&(a?g.totalTime(g._reversed?0:g.totalDuration()):g._enabled(!1,!1))};b.killChildTweensOf=function(d,e){if(null!=d){var p,n,l,h=a.tweenLookup;if("string"==typeof d&&(d=f.selector(d)||d),g(d)&&(d=c(d)),k(d))for(n=d.length;-1<--n;)b.killChildTweensOf(d[n],e);else{p=[];for(l in h)for(n=h[l].target.parentNode;n;)n===d&&(p=p.concat(h[l].tweens)),n=n.parentNode;l=p.length;for(n=0;l>n;n++)e&&p[n].totalTime(p[n].totalDuration()),p[n]._enabled(!1,!1)}}};var q=function(a,b,c,g){b=!1!==b;c=!1!==c;g=
!1!==g;for(var d,f=m(g),k=b&&c&&g,n=f.length;-1<--n;)g=f[n],(k||g instanceof e||(d=g.target===g.vars.onComplete)&&c||b&&!d)&&g.paused(a)};return b.pauseAll=function(a,b,c){q(!0,a,b,c)},b.resumeAll=function(a,b,c){q(!1,a,b,c)},b.globalTimeScale=function(a){var b=d._rootTimeline,c=f.ticker.time;return arguments.length?(a=a||1E-10,b._startTime=c-(c-b._startTime)*b._timeScale/a,b=d._rootFramesTimeline,c=f.ticker.frame,b._startTime=c-(c-b._startTime)*b._timeScale/a,b._timeScale=d._rootTimeline._timeScale=
a,a):b._timeScale},n.progress=function(a){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},n.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},n.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-
a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},n.duration=function(a){return arguments.length?d.prototype.duration.call(this,a):this._duration},n.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*
this._repeat,this._dirty=!1),this._totalDuration)},n.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},n.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},n.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},b},!0);_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(d,e,f){var c=function(a){e.call(this,a);this._labels={};this.autoRemoveChildren=
!0===this.vars.autoRemoveChildren;this.smoothChildTiming=!0===this.vars.smoothChildTiming;this._sortChildren=!0;this._onUpdate=this.vars.onUpdate;var b,c=this.vars;for(b in c)a=c[b],g(a)&&-1!==a.join("").indexOf("{self}")&&(c[b]=this._swapSelfInParams(a));g(c.tweens)&&this.add(c.tweens,0,c.align,c.stagger)},b=f._internals,a=b.isSelector,g=b.isArray,k=b.lazyTweens,n=b.lazyRender,l=[],h=_gsScope._gsDefine.globals,m=function(a){var b,c={};for(b in a)c[b]=a[b];return c},q=function(a,b,c,g){a._timeline.pause(a._startTime);
b&&b.apply(g||a._timeline,c||l)},b=c.prototype=new e;return c.version="1.13.1",b.constructor=c,b.kill()._gc=!1,b.to=function(a,b,c,g){var d=c.repeat&&h.TweenMax||f;return b?this.add(new d(a,b,c),g):this.set(a,c,g)},b.from=function(a,b,c,g){return this.add((c.repeat&&h.TweenMax||f).from(a,b,c),g)},b.fromTo=function(a,b,c,g,d){var e=g.repeat&&h.TweenMax||f;return b?this.add(e.fromTo(a,b,c,g),d):this.set(a,g,d)},b.staggerTo=function(b,g,d,e,k,n,l,h){n=new c({onComplete:n,onCompleteParams:l,onCompleteScope:h,
smoothChildTiming:this.smoothChildTiming});"string"==typeof b&&(b=f.selector(b)||b);if(a(b)){h=[];var q=b.length;for(l=0;l!==q;h.push(b[l++]));b=h}e=e||0;for(l=0;b.length>l;l++)d.startAt&&(d.startAt=m(d.startAt)),n.to(b[l],g,m(d),l*e);return this.add(n,k)},b.staggerFrom=function(a,b,c,g,d,e,f,k){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,g,d,e,f,k)},b.staggerFromTo=function(a,b,c,g,d,e,f,k,n){return g.startAt=c,g.immediateRender=0!=g.immediateRender&&0!=c.immediateRender,
this.staggerTo(a,b,g,d,e,f,k,n)},b.call=function(a,b,c,g){return this.add(f.delayedCall(0,a,b,c),g)},b.set=function(a,b,c){return c=this._parseTimeOrLabel(c,0,!0),null==b.immediateRender&&(b.immediateRender=c===this._time&&!this._paused),this.add(new f(a,0,b),c)},c.exportRoot=function(a,b){a=a||{};null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var g,d,e=new c(a),k=e._timeline;null==b&&(b=!0);k._remove(e,!0);e._startTime=0;e._rawPrevTime=e._time=e._totalTime=k._time;for(g=k._first;g;)d=g._next,
b&&g instanceof f&&g.target===g.vars.onComplete||e.add(g,g._startTime-g._delay),g=d;return k.add(e,0),e},b.add=function(a,b,k,n){var l,h,m;if("number"!=typeof b&&(b=this._parseTimeOrLabel(b,0,!0,a)),!(a instanceof d)){if(a instanceof Array||a&&a.push&&g(a)){k=k||"normal";n=n||0;l=a.length;for(h=0;l>h;h++)g(m=a[h])&&(m=new c({tweens:m})),this.add(m,b),"string"!=typeof m&&"function"!=typeof m&&("sequence"===k?b=m._startTime+m.totalDuration()/m._timeScale:"start"===k&&(m._startTime-=m.delay())),b+=n;
return this._uncache(!0)}if("string"==typeof a)return this.addLabel(a,b);if("function"!=typeof a)throw"Cannot add "+a+" into the timeline; it is not a tween, timeline, function, or string.";a=f.delayedCall(0,a)}if(e.prototype.add.call(this,a,b),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(k=this,a=k.rawTime()>a._startTime;k._timeline;)a&&k._timeline.smoothChildTiming?k.totalTime(k._totalTime,!0):k._gc&&k._enabled(!0,!1),k=k._timeline;return this},b.remove=
function(a){if(a instanceof d)return this._remove(a,!1);if(a instanceof Array||a&&a.push&&g(a)){for(var b=a.length;-1<--b;)this.remove(a[b]);return this}return"string"==typeof a?this.removeLabel(a):this.kill(null,a)},b._remove=function(a,b){e.prototype._remove.call(this,a,b);var c=this._last;return c?this._time>c._startTime+c._totalDuration/c._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},b.append=
function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},b.insert=b.insertMultiple=function(a,b,c,g){return this.add(a,b||0,c,g)},b.appendMultiple=function(a,b,c,g){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,g)},b.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},b.addPause=function(a,b,c,g){return this.call(q,["{self}",b,c,g],this,a)},b.removeLabel=function(a){return delete this._labels[a],this},b.getLabelTime=function(a){return null!=this._labels[a]?
this._labels[a]:-1},b._parseTimeOrLabel=function(a,b,c,e){var f;if(e instanceof d&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&g(e)))for(f=e.length;-1<--f;)e[f]instanceof d&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof b)return this._parseTimeOrLabel(b,c&&"number"==typeof a&&null==this._labels[b]?a-this.duration():0,c);if(b=b||0,"string"!=typeof a||!isNaN(a)&&null==this._labels[a])null==a&&(a=this.duration());else{if(f=a.indexOf("="),-1===f)return null==
this._labels[a]?c?this._labels[a]=this.duration()+b:b:this._labels[a]+b;b=parseInt(a.charAt(f-1)+"1",10)*Number(a.substr(f+1));a=1<f?this._parseTimeOrLabel(a.substr(0,f-1),0,c):this.duration()}return Number(a)+b},b.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),!1!==b)},b.stop=function(){return this.paused(!0)},b.gotoAndPlay=function(a,b){return this.play(a,b)},b.gotoAndStop=function(a,b){return this.pause(a,b)},b.render=function(a,b,c){this._gc&&this._enabled(!0,
!1);var g,d,e,f,h=this._dirty?this.totalDuration():this._totalDuration,m=this._time,q=this._startTime,u=this._timeScale,z=this._paused;if(a>=h?(this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(d=!0,f="onComplete",0===this._duration&&(0===a||0>this._rawPrevTime||1E-10===this._rawPrevTime)&&this._rawPrevTime!==a&&this._first&&(g=!0,1E-10<this._rawPrevTime&&(f="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:1E-10,a=h+1E-4):1E-7>a?(this._totalTime=
this._time=0,(0!==m||0===this._duration&&1E-10!==this._rawPrevTime&&(0<this._rawPrevTime||0>a&&0<=this._rawPrevTime))&&(f="onReverseComplete",d=this._reversed),0>a?(this._active=!1,0<=this._rawPrevTime&&this._first&&(g=!0),this._rawPrevTime=a):(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:1E-10,a=0,this._initted||(g=!0))):this._totalTime=this._time=this._rawPrevTime=a,this._time!==m&&this._first||c||g){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==
m&&0<a&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._time&&(b||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||l)),this._time>=m)for(g=this._first;g&&(e=g._next,!this._paused||z);)(g._active||g._startTime<=this._time&&!g._paused&&!g._gc)&&(g._reversed?g.render((g._dirty?g.totalDuration():g._totalDuration)-(a-g._startTime)*g._timeScale,b,c):g.render((a-g._startTime)*g._timeScale,b,c)),g=e;else for(g=this._last;g&&(e=g._prev,!this._paused||z);)(g._active||m>=g._startTime&&
!g._paused&&!g._gc)&&(g._reversed?g.render((g._dirty?g.totalDuration():g._totalDuration)-(a-g._startTime)*g._timeScale,b,c):g.render((a-g._startTime)*g._timeScale,b,c)),g=e;this._onUpdate&&(b||(k.length&&n(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l)));f&&(this._gc||(q===this._startTime||u!==this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(d&&(k.length&&n(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[f]&&
this.vars[f].apply(this.vars[f+"Scope"]||this,this.vars[f+"Params"]||l)))}},b._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof c&&a._hasPausedChild())return!0;a=a._next}return!1},b.getChildren=function(a,b,c,g){g=g||-9999999999;for(var d=[],e=this._first,k=0;e;)g>e._startTime||(e instanceof f?!1!==b&&(d[k++]=e):(!1!==c&&(d[k++]=e),!1!==a&&(d=d.concat(e.getChildren(!0,b,c)),k=d.length))),e=e._next;return d},b.getTweensOf=function(a,b){var c,g,d=this._gc,e=[],k=0;d&&this._enabled(!0,
!0);c=f.getTweensOf(a);for(g=c.length;-1<--g;)(c[g].timeline===this||b&&this._contains(c[g]))&&(e[k++]=c[g]);return d&&this._enabled(!1,!0),e},b._contains=function(a){for(a=a.timeline;a;){if(a===this)return!0;a=a.timeline}return!1},b.shiftChildren=function(a,b,c){c=c||0;for(var g,d=this._first,e=this._labels;d;)d._startTime>=c&&(d._startTime+=a),d=d._next;if(b)for(g in e)e[g]>=c&&(e[g]+=a);return this._uncache(!0)},b._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):
this.getChildren(!0,!0,!1),g=c.length,d=!1;-1<--g;)c[g]._kill(a,b)&&(d=!0);return d},b.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;-1<--c;)b[c]._enabled(!1,!1);return!1!==a&&(this._labels={}),this._uncache(!0)},b.invalidate=function(){for(var a=this._first;a;)a.invalidate(),a=a._next;return this},b._enabled=function(a,b){if(a===this._gc)for(var c=this._first;c;)c._enabled(a,!0),c=c._next;return e.prototype._enabled.call(this,a,b)},b.duration=function(a){return arguments.length?
(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},b.totalDuration=function(a){if(!arguments.length){if(this._dirty){var b,c,g=0;c=this._last;for(var d=999999999999;c;)b=c._prev,c._dirty&&c.totalDuration(),c._startTime>d&&this._sortChildren&&!c._paused?this.add(c,c._startTime-c._delay):d=c._startTime,0>c._startTime&&!c._paused&&(g-=c._startTime,this._timeline.smoothChildTiming&&(this._startTime+=c._startTime/this._timeScale),this.shiftChildren(-c._startTime,
!1,-9999999999),d=0),c=c._startTime+c._totalDuration/c._timeScale,c>g&&(g=c),c=b;this._duration=this._totalDuration=g;this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},b.usesFrames=function(){for(var a=this._timeline;a._timeline;)a=a._timeline;return a===d._rootFramesTimeline},b.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},c},!0);_gsScope._gsDefine("TimelineMax",
["TimelineLite","TweenLite","easing.Ease"],function(d,e,f){var c=function(a){d.call(this,a);this._repeat=this.vars.repeat||0;this._repeatDelay=this.vars.repeatDelay||0;this._cycle=0;this._yoyo=!0===this.vars.yoyo;this._dirty=!0},b=[],a=e._internals,g=a.lazyTweens,k=a.lazyRender,n=new f(null,null,1,0);f=c.prototype=new d;return f.constructor=c,f.kill()._gc=!1,c.version="1.13.1",f.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||
0,this._uncache(!0),d.prototype.invalidate.call(this)},f.addCallback=function(a,b,c,g){return this.add(e.delayedCall(0,a,c,g),b)},f.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),g=c.length,d=this._parseTimeOrLabel(b);-1<--g;)c[g]._startTime===d&&c[g]._enabled(!1,!1);return this},f.tweenTo=function(a,c){c=c||{};var g,d,f,k={ease:n,overwrite:c.delay?2:1,useFrames:this.usesFrames(),immediateRender:!1};for(d in c)k[d]=c[d];return k.time=this._parseTimeOrLabel(a),
g=Math.abs(Number(k.time)-this._time)/this._timeScale||0.001,f=new e(this,g,k),k.onStart=function(){f.target.paused(!0);f.vars.time!==f.target.time()&&g===f.duration()&&f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale);c.onStart&&c.onStart.apply(c.onStartScope||f,c.onStartParams||b)},f},f.tweenFromTo=function(a,b,c){c=c||{};a=this._parseTimeOrLabel(a);c.startAt={onComplete:this.seek,onCompleteParams:[a],onCompleteScope:this};c.immediateRender=!1!==c.immediateRender;b=this.tweenTo(b,
c);return b.duration(Math.abs(b.vars.time-a)/this._timeScale||0.001)},f.render=function(a,c,d){this._gc&&this._enabled(!0,!1);var e,f,n,p,t,D=this._dirty?this.totalDuration():this._totalDuration,A=this._duration,y=this._time,C=this._totalTime,w=this._startTime,E=this._timeScale,u=this._rawPrevTime,z=this._paused,x=this._cycle;if(a>=D?(this._locked||(this._totalTime=D,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,p="onComplete",0===this._duration&&(0===a||0>u||1E-10===u)&&
u!==a&&this._first&&(e=!0,1E-10<u&&(p="onReverseComplete"))),this._rawPrevTime=this._duration||!c||a||this._rawPrevTime===a?a:1E-10,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=A,a=A+1E-4)):1E-7>a?(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==y||0===A&&1E-10!==u&&(0<u||0>a&&0<=u)&&!this._locked)&&(p="onReverseComplete",f=this._reversed),0>a?(this._active=!1,0<=u&&this._first&&(e=!0),this._rawPrevTime=a):(this._rawPrevTime=A||!c||a||this._rawPrevTime===a?a:1E-10,a=
0,this._initted||(e=!0))):(0===A&&0>u&&(e=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(t=A+this._repeatDelay,this._cycle=this._totalTime/t>>0,0!==this._cycle&&this._cycle===this._totalTime/t&&this._cycle--,this._time=this._totalTime-this._cycle*t,this._yoyo&&0!==(1&this._cycle)&&(this._time=A-this._time),this._time>A?(this._time=A,a=A+1E-4):0>this._time?this._time=a=0:a=this._time))),this._cycle!==x&&!this._locked){t=this._yoyo&&0!==(1&x);var B=t===(this._yoyo&&
0!==(1&this._cycle)),v=this._totalTime,G=this._cycle,F=this._rawPrevTime,I=this._time;if(this._totalTime=x*A,x>this._cycle?t=!t:this._totalTime+=A,this._time=y,this._rawPrevTime=0===A?u-1E-4:u,this._cycle=x,this._locked=!0,y=t?0:A,this.render(y,c,0===A),c||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||b),B&&(y=t?A+1E-4:-1E-4,this.render(y,!0,!1)),this._locked=!1,this._paused&&!z)return;this._time=I;this._totalTime=v;this._cycle=G;this._rawPrevTime=
F}if(!(this._time!==y&&this._first||d||e))return C!==this._totalTime&&this._onUpdate&&(c||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||b)),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==C&&0<a&&(this._active=!0),0===C&&this.vars.onStart&&0!==this._totalTime&&(c||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||b)),this._time>=y)for(e=this._first;e&&(n=e._next,!this._paused||z);)(e._active||e._startTime<=
this._time&&!e._paused&&!e._gc)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,c,d):e.render((a-e._startTime)*e._timeScale,c,d)),e=n;else for(e=this._last;e&&(n=e._prev,!this._paused||z);)(e._active||y>=e._startTime&&!e._paused&&!e._gc)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,c,d):e.render((a-e._startTime)*e._timeScale,c,d)),e=n;this._onUpdate&&(c||(g.length&&k(),this._onUpdate.apply(this.vars.onUpdateScope||
this,this.vars.onUpdateParams||b)));p&&(this._locked||this._gc||(w===this._startTime||E!==this._timeScale)&&(0===this._time||D>=this.totalDuration())&&(f&&(g.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!c&&this.vars[p]&&this.vars[p].apply(this.vars[p+"Scope"]||this,this.vars[p+"Params"]||b)))},f.getActive=function(a,b,c){null==a&&(a=!0);null==b&&(b=!0);null==c&&(c=!1);var g=[];c=this.getChildren(a,b,c);var d=0,e=c.length;for(a=0;e>a;a++)b=c[a],b.isActive()&&
(g[d++]=b);return g},f.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),g=c.length;for(b=0;g>b;b++)if(c[b].time>a)return c[b].name;return null},f.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;-1<--c;)if(a>b[c].time)return b[c].name;return null},f.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},f.progress=function(a){return arguments.length?
this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},f.totalProgress=function(a){return arguments.length?this.totalTime(this.totalDuration()*a,!1):this._totalTime/this.totalDuration()},f.totalDuration=function(a){return arguments.length?-1===this._repeat?this:this.duration((a-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(d.prototype.totalDuration.call(this),this._totalDuration=-1===
this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},f.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},f.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):
this._repeat},f.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},f.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},f.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1E-8)},c},!0);(function(){var d=180/Math.PI,e=[],f=[],c=[],b={},a=function(a,b,c,g){this.a=a;this.b=b;this.c=c;this.d=g;this.da=g-a;this.ca=c-a;this.ba=b-a},g=function(a,b,c,g){var d={a:a},e={},f={},k={c:g},
n=(a+b)/2,l=(b+c)/2;c=(c+g)/2;b=(n+l)/2;var l=(l+c)/2,C=(l-b)/8;return d.b=n+(a-n)/4,e.b=b+C,d.c=e.a=(d.b+e.b)/2,e.c=f.a=(b+l)/2,f.b=l-C,k.b=c+(g-c)/4,f.c=k.a=(f.b+k.b)/2,[d,e,f,k]},k=function(d,k,n,l,r,p){var t,D,A,y,C={},w=[],E=p||d[0];r="string"==typeof r?","+r+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,";null==k&&(k=1);for(D in d[0])w.push(D);if(1<d.length){A=d[d.length-
1];y=!0;for(t=w.length;-1<--t;)if(D=w[t],0.05<Math.abs(E[D]-A[D])){y=!1;break}y&&(d=d.concat(),p&&d.unshift(p),d.push(d[1]),p=d[d.length-3])}e.length=f.length=c.length=0;for(t=w.length;-1<--t;){D=w[t];b[D]=-1!==r.indexOf(","+D+",");A=C;var E=D,u;u=d;var z=D,x=b[D],B=p,v=void 0,G=void 0,F=void 0,I=void 0,H=void 0,F=void 0,K=[];if(B)for(u=[B].concat(u),G=u.length;-1<--G;)"string"==typeof(F=u[G][z])&&"="===F.charAt(1)&&(u[G][z]=B[z]+Number(F.charAt(0)+F.substr(2)));if(v=u.length-2,0>v)u=(K[0]=new a(u[0][z],
0,0,u[-1>v?0:1][z]),K);else{for(G=0;v>G;G++)F=u[G][z],I=u[G+1][z],K[G]=new a(F,0,0,I),x&&(H=u[G+2][z],e[G]=(e[G]||0)+(I-F)*(I-F),f[G]=(f[G]||0)+(H-I)*(H-I));u=(K[G]=new a(u[G][z],0,0,u[G+1][z]),K)}A[E]=u}for(t=e.length;-1<--t;)e[t]=Math.sqrt(e[t]),f[t]=Math.sqrt(f[t]);if(!l){for(t=w.length;-1<--t;)if(b[D])for(d=C[w[t]],A=d.length-1,r=0;A>r;r++)p=d[r+1].da/f[r]+d[r].da/e[r],c[r]=(c[r]||0)+p*p;for(t=c.length;-1<--t;)c[t]=Math.sqrt(c[t])}t=w.length;for(r=n?4:1;-1<--t;){D=w[t];p=d=C[D];A=k;E=n;u=l;D=
b[D];for(var M=B=x=z=void 0,L=I=F=M=K=H=G=v=void 0,R=void 0,O=p.length-1,U=0,P=p[0].a,z=0;O>z;z++)v=p[U],x=v.a,B=v.d,M=p[U+1].d,D?(I=e[z],L=f[z],R=0.25*(L+I)*A/(u?0.5:c[z]||0.5),G=B-(B-x)*(u?0.5*A:0!==I?R/I:0),H=B+(M-B)*(u?0.5*A:0!==L?R/L:0),K=B-(G+((H-G)*(3*I/(I+L)+0.5)/4||0))):(G=B-0.5*(B-x)*A,H=B+0.5*(M-B)*A,K=B-(G+H)/2),G+=K,H+=K,v.c=M=G,v.b=0!==z?P:P=v.a+0.6*(v.c-v.a),v.da=B-x,v.ca=M-x,v.ba=P-x,E?(F=g(x,P,M,B),p.splice(U,1,F[0],F[1],F[2],F[3]),U+=4):U++,P=H;v=p[U];v.b=P;v.c=P+0.4*(v.d-P);v.da=
v.d-v.a;v.ca=v.c-v.a;v.ba=P-v.a;E&&(F=g(v.a,P,v.c,v.d),p.splice(U,1,F[0],F[1],F[2],F[3]));y&&(d.splice(0,r),d.splice(d.length-r,r))}return C},n=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.3",API:2,global:!0,init:function(b,c,g){this._target=b;c instanceof Array&&(c={values:c});this._func={};this._round={};this._props=[];this._timeRes=null==c.timeResolution?6:parseInt(c.timeResolution,10);var d,e,f,n,l,A=c.values||[],y={};f=A[0];this._autoRotate=(e=c.autoRotate||g.vars.orientToBezier)?
e instanceof Array?e:[["x","y","rotation",!0===e?0:Number(e)||0]]:null;for(d in f)this._props.push(d);for(f=this._props.length;-1<--f;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof b[d],y[d]=e?b[d.indexOf("set")||"function"!=typeof b["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(b[d]),l||y[d]!==A[0][d]&&(l=y);if("cubic"!==c.type&&"quadratic"!==c.type&&"soft"!==c.type)y=k(A,isNaN(c.curviness)?1:c.curviness,!1,"thruBasic"===c.type,c.correlate,l);else{f=A;var A=
(A=c.type)||"soft",C,w,E,u,z,x,B;c={};l="cubic"===A?3:2;var v="soft"===A,G=[];if(v&&y&&(f=[y].concat(f)),null==f||l+1>f.length)throw"invalid Bezier data";for(C in f[0])G.push(C);for(u=G.length;-1<--u;){C=G[u];c[C]=e=[];B=0;x=f.length;for(z=0;x>z;z++)A=null==y?f[z][C]:"string"==typeof(w=f[z][C])&&"="===w.charAt(1)?y[C]+Number(w.charAt(0)+w.substr(2)):Number(w),v&&1<z&&x-1>z&&(e[B++]=(A+e[B-2])/2),e[B++]=A;x=B-l+1;for(z=B=0;x>z;z+=l)A=e[z],C=e[z+1],w=e[z+2],E=2===l?0:e[z+3],e[B++]=w=3===l?new a(A,C,
w,E):new a(A,(2*C+A)/3,(2*C+w)/3,w);e.length=B}y=c}if(this._beziers=y,this._segCount=this._beziers[d].length,this._timeRes){e=this._beziers;d=this._timeRes;d=d>>0||6;y=[];C=[];f=w=0;c=d-1;l=[];A=[];for(n in e){u=e[n];z=y;x=d;var F=void 0,I=void 0,H=v=B=I=void 0,K=F=void 0,M=void 0,M=H=void 0,G=1/x;for(E=u.length;-1<--E;)for(H=u[E],I=H.a,B=H.d-I,v=H.c-I,H=H.b-I,I=0,K=1;x>=K;K++)F=G*K,M=1-F,F=I-(I=(F*F*B+3*M*(F*v+M*H))*F),M=E*x+K-1,z[M]=(z[M]||0)+F*F}e=y.length;for(n=0;e>n;n++)w+=Math.sqrt(y[n]),u=
n%d,A[u]=w,u===c&&(f+=w,u=n/d>>0,l[u]=A,C[u]=f,w=0,A=[]);this._length=f;this._lengths=C;this._segments=l;this._l1=this._li=this._s1=this._si=0;this._l2=this._lengths[0];this._curSeg=this._segments[0];this._s2=this._curSeg[0];this._prec=1/this._curSeg.length}if(e=this._autoRotate)for(this._initialRotations=[],e[0]instanceof Array||(this._autoRotate=e=[e]),f=e.length;-1<--f;){for(n=0;3>n;n++)d=e[f][n],this._func[d]="function"==typeof b[d]?b[d.indexOf("set")||"function"!=typeof b["get"+d.substr(3)]?
d:"get"+d.substr(3)]:!1;d=e[f][2];this._initialRotations[f]=this._func[d]?this._func[d].call(this._target):this._target[d]}return this._startRatio=g.vars.runBackwards?1:0,!0},set:function(a){var b,c,g,e,f,k;f=this._segCount;var n=this._func,l=this._target,y=a!==this._startRatio;if(this._timeRes){if(b=this._lengths,e=this._curSeg,a*=this._length,g=this._li,a>this._l2&&f-1>g){for(f-=1;f>g&&a>=(this._l2=b[++g]););this._l1=b[g-1];this._li=g;this._curSeg=e=this._segments[g];this._s2=e[this._s1=this._si=
0]}else if(this._l1>a&&0<g){for(;0<g&&(this._l1=b[--g])>=a;);0===g&&this._l1>a?this._l1=0:g++;this._l2=b[g];this._li=g;this._curSeg=e=this._segments[g];this._s1=e[(this._si=e.length-1)-1]||0;this._s2=e[this._si]}if(b=g,a-=this._l1,g=this._si,a>this._s2&&e.length-1>g){for(f=e.length-1;f>g&&a>=(this._s2=e[++g]););this._s1=e[g-1];this._si=g}else if(this._s1>a&&0<g){for(;0<g&&(this._s1=e[--g])>=a;);0===g&&this._s1>a?this._s1=0:g++;this._s2=e[g];this._si=g}f=(g+(a-this._s1)/(this._s2-this._s1))*this._prec}else b=
0>a?0:1<=a?f-1:f*a>>0,f*=a-1/f*b;c=1-f;for(g=this._props.length;-1<--g;)a=this._props[g],e=this._beziers[a][b],k=(f*f*e.da+3*c*(f*e.ca+c*e.ba))*f+e.a,this._round[a]&&(k=Math.round(k)),n[a]?l[a](k):l[a]=k;if(this._autoRotate){var C,w,E,u,z,x,B=this._autoRotate;for(g=B.length;-1<--g;)a=B[g][2],z=B[g][3]||0,x=!0===B[g][4]?1:d,e=this._beziers[B[g][0]],c=this._beziers[B[g][1]],e&&c&&(e=e[b],c=c[b],C=e.a+(e.b-e.a)*f,E=e.b+(e.c-e.b)*f,C+=(E-C)*f,E+=(e.c+(e.d-e.c)*f-E)*f,w=c.a+(c.b-c.a)*f,u=c.b+(c.c-c.b)*
f,w+=(u-w)*f,u+=(c.c+(c.d-c.c)*f-u)*f,k=y?Math.atan2(u-w,E-C)*x+z:this._initialRotations[g],n[a]?l[a](k):l[a]=k)}}}),l=n.prototype;n.bezierThrough=k;n.cubicToQuadratic=g;n._autoCSS=!0;n.quadraticToCubic=function(b,c,g){return new a(b,(2*c+b)/3,(2*c+g)/3,g)};n._cssRegister=function(){var a=_gsScope._gsDefine.globals.CSSPlugin;if(a){var a=a._internals,b=a._parseToProxy,c=a._setPluginRatio,g=a.CSSPropTween;a._registerComplexSpecialProp("bezier",{parser:function(a,d,e,f,k,l){d instanceof Array&&(d={values:d});
l=new n;var h,w,E=d.values,u=E.length-1,z=[],x={};if(0>u)return k;for(e=0;u>=e;e++)w=b(a,E[e],f,k,l,u!==e),z[e]=w.end;for(h in d)x[h]=d[h];return x.values=z,k=new g(a,"bezier",0,0,w.pt,2),k.data=w,k.plugin=l,k.setRatio=c,0===x.autoRotate&&(x.autoRotate=!0),!x.autoRotate||x.autoRotate instanceof Array||(e=!0===x.autoRotate?0:Number(x.autoRotate),x.autoRotate=null!=w.end.left?[["left","top","rotation",e,!1]]:null!=w.end.x?[["x","y","rotation",e,!1]]:!1),x.autoRotate&&(f._transform||f._enableTransforms(!1),
w.autoRotate=f._target._gsTransform),l._onInitTween(w.proxy,x,f._tween),k}})}};l._roundProps=function(a,b){for(var c=this._overwriteProps,g=c.length;-1<--g;)(a[c[g]]||a.bezier||a.bezierThrough)&&(this._round[c[g]]=b)};l._kill=function(a){var b,c,g=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=g.length;-1<--c;)g[c]===b&&g.splice(c,1);return this._super._kill.call(this,a)}})();_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],
function(d,e){var f,c,b,a,g=function(){d.call(this,"css");this._overwriteProps.length=0;this.setRatio=g.prototype.setRatio},k={},n=g.prototype=new d("css");n.constructor=g;g.version="1.13.1";g.API=2;g.defaultTransformPerspective=0;g.defaultSkewType="compensated";n="px";g.suffixMap={top:n,right:n,bottom:n,left:n,width:n,height:n,fontSize:n,padding:n,margin:n,perspective:n,lineHeight:""};var l,h,m,q,s,r,p=/(?:\d|\-\d|\.\d|\-\.\d)+/g,t=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,D=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
A=/[^\d\-\.]/g,y=/(?:\d|\-|\+|=|#|\.)*/g,C=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,E=/alpha\(opacity *=.+?\)/i,u=/^(rgb|hsl)/,z=/([A-Z])/g,x=/-([a-z])/gi,B=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,v=function(a,b){return b.toUpperCase()},G=/(?:Left|Right|Width)/i,F=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,I=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,H=/,(?=[^\)]*(?:\(|$))/gi,K=Math.PI/180,M=180/Math.PI,L={},R=document,O=R.createElement("div"),U=R.createElement("img"),P=g._internals={_specialProps:k},
T=navigator.userAgent,Z=function(){var a,b=T.indexOf("Android"),c=R.createElement("div");return m=-1!==T.indexOf("Safari")&&-1===T.indexOf("Chrome")&&(-1===b||3<Number(T.substr(b+8,1))),s=m&&6>Number(T.substr(T.indexOf("Version/")+8,1)),q=-1!==T.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(T)&&(r=parseFloat(RegExp.$1)),c.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",a=c.getElementsByTagName("a")[0],a?/^0.55/.test(a.style.opacity):!1}(),ca=function(a){return C.test("string"==typeof a?
a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},$="",ga="",W=function(a,b){b=b||O;var c,g,d=b.style;if(void 0!==d[a])return a;a=a.charAt(0).toUpperCase()+a.substr(1);c=["O","Moz","ms","Ms","Webkit"];for(g=5;-1<--g&&void 0===d[c[g]+a];);return 0<=g?(ga=3===g?"ms":c[g],$="-"+ga.toLowerCase()+"-",ga+a):null},J=R.defaultView?R.defaultView.getComputedStyle:function(){},N=g.getStyle=function(a,b,c,g,d){var e;return Z||"opacity"!==b?(!g&&a.style[b]?e=a.style[b]:
(c=c||J(a))?e=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(z,"-$1").toLowerCase()):a.currentStyle&&(e=a.currentStyle[b]),null==d||e&&"none"!==e&&"auto"!==e&&"auto auto"!==e?e:d):ca(a)},Q=P.convertToPixels=function(a,b,c,d,f){if("px"===d||!d)return c;if("auto"===d||!c)return 0;var k,n,p,l=G.test(b),h=a;k=O.style;var m=0>c;if(m&&(c=-c),"%"===d&&-1!==b.indexOf("border"))k=c/100*(l?a.clientWidth:a.clientHeight);else{if(k.cssText="border:0 solid red;position:"+N(a,"position")+";line-height:0;",
"%"!==d&&h.appendChild)k[l?"borderLeftWidth":"borderTopWidth"]=c+d;else{if(h=a.parentNode||R.body,n=h._gsCache,p=e.ticker.frame,n&&l&&n.time===p)return n.width*c/100;k[l?"width":"height"]=c+d}h.appendChild(O);k=parseFloat(O[l?"offsetWidth":"offsetHeight"]);h.removeChild(O);l&&"%"===d&&!1!==g.cacheWidths&&(n=h._gsCache=h._gsCache||{},n.time=p,n.width=k/c*100);0!==k||f||(k=Q(a,b,c,d,!0))}return m?-k:k},ea=P.calculateOffset=function(a,b,c){if("absolute"!==N(a,"position",c))return 0;var g="left"===b?
"Left":"Top";c=N(a,"margin"+g,c);return a["offset"+g]-(Q(a,b,parseFloat(c),c.replace(y,""))||0)},X=function(a,b){var c,g,d={};if(b=b||J(a,null))if(c=b.length)for(;-1<--c;)d[b[c].replace(x,v)]=b.getPropertyValue(b[c]);else for(c in b)d[c]=b[c];else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===d[c]&&(d[c.replace(x,v)]=b[c]);return Z||(d.opacity=ca(a)),g=ja(a,b,!1),d.rotation=g.rotation,d.skewX=g.skewX,d.scaleX=g.scaleX,d.scaleY=g.scaleY,d.x=g.x,d.y=g.y,da&&(d.z=g.z,d.rotationX=
g.rotationX,d.rotationY=g.rotationY,d.scaleZ=g.scaleZ),d.filters&&delete d.filters,d},ma=function(a,b,c,g,d){var e,f,k,n={},p=a.style;for(f in c)"cssText"!==f&&"length"!==f&&isNaN(f)&&(b[f]!==(e=c[f])||d&&d[f])&&-1===f.indexOf("Origin")&&("number"==typeof e||"string"==typeof e)&&(n[f]="auto"!==e||"left"!==f&&"top"!==f?""!==e&&"auto"!==e&&"none"!==e||"string"!=typeof b[f]||""===b[f].replace(A,"")?e:0:ea(a,f),void 0!==p[f]&&(k=new ra(p,f,p[f],k)));if(g)for(f in g)"className"!==f&&(n[f]=g[f]);return{difs:n,
firstMPT:k}},Ba={width:["Left","Right"],height:["Top","Bottom"]},Ca=["marginLeft","marginRight","marginTop","marginBottom"],na=function(a,b){null!=a&&""!==a&&"auto"!==a&&"auto auto"!==a||(a="0 0");var c=a.split(" "),g=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],d=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==d?d="0":"center"===d&&(d="50%"),("center"===g||isNaN(parseFloat(g))&&-1===(g+"").indexOf("="))&&(g="50%"),b&&(b.oxp=-1!==g.indexOf("%"),b.oyp=
-1!==d.indexOf("%"),b.oxr="="===g.charAt(1),b.oyr="="===d.charAt(1),b.ox=parseFloat(g.replace(A,"")),b.oy=parseFloat(d.replace(A,""))),g+" "+d+(2<c.length?" "+c[2]:"")},va=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},aa=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*Number(a.substr(2))+b:parseFloat(a)},ia=function(a,b,c,g){var d,e,f;return null==a?f=b:"number"==
typeof a?f=a:(d=a.split("_"),e=Number(d[0].replace(A,""))*(-1===a.indexOf("rad")?1:M)-("="===a.charAt(1)?0:b),d.length&&(g&&(g[c]=b+e),-1!==a.indexOf("short")&&(e%=360,e!==e%180&&(e=0>e?e+360:e-360)),-1!==a.indexOf("_cw")&&0>e?e=(e+3599999999640)%360-360*(0|e/360):-1!==a.indexOf("ccw")&&0<e&&(e=(e-3599999999640)%360-360*(0|e/360))),f=b+e),1E-6>f&&-1E-6<f&&(f=0),f},ha={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],
white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},oa=function(a,b,c){return a=0>a?a+1:1<a?a-1:a,0|255*(1>6*a?b+6*(c-b)*a:0.5>a?c:2>3*a?b+6*(c-b)*(2/3-a):b)+0.5},pa=function(a){var b,c,g,d,e,f;return a&&""!==a?"number"==typeof a?[a>>16,255&a>>8,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),ha[a]?ha[a]:"#"===
a.charAt(0)?(4===a.length&&(b=a.charAt(1),c=a.charAt(2),g=a.charAt(3),a="#"+b+b+c+c+g+g),a=parseInt(a.substr(1),16),[a>>16,255&a>>8,255&a]):"hsl"===a.substr(0,3)?(a=a.match(p),d=Number(a[0])%360/360,e=Number(a[1])/100,f=Number(a[2])/100,c=0.5>=f?f*(e+1):f+e-f*e,b=2*f-c,3<a.length&&(a[3]=Number(a[3])),a[0]=oa(d+1/3,b,c),a[1]=oa(d,b,c),a[2]=oa(d-1/3,b,c),a):(a=a.match(p)||ha.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),3<a.length&&(a[3]=Number(a[3])),a)):ha.black},fa="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";
for(n in ha)fa+="|"+n+"\\b";var fa=RegExp(fa+")","gi"),ya=function(a,b,c,g){if(null==a)return function(a){return a};var d,e=b?(a.match(fa)||[""])[0]:"",f=a.split(e).join("").match(D)||[],k=a.substr(0,a.indexOf(f[0])),n=")"===a.charAt(a.length-1)?")":"",l=-1!==a.indexOf(" ")?" ":",",h=f.length,m=0<h?f[0].replace(p,""):"";return h?d=b?function(a){var b,p,q;if("number"==typeof a)a+=m;else if(g&&H.test(a)){a=a.replace(H,"|").split("|");for(q=0;a.length>q;q++)a[q]=d(a[q]);return a.join(",")}if(b=(a.match(fa)||
[e])[0],p=a.split(b).join("").match(D)||[],q=p.length,h>q--)for(;h>++q;)p[q]=c?p[0|(q-1)/2]:f[q];return k+p.join(l)+l+b+n+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,e;if("number"==typeof a)a+=m;else if(g&&H.test(a)){a=a.replace(H,"|").split("|");for(e=0;a.length>e;e++)a[e]=d(a[e]);return a.join(",")}if(b=a.match(D)||[],e=b.length,h>e--)for(;h>++e;)b[e]=c?b[0|(e-1)/2]:f[e];return k+b.join(l)+n}:function(a){return a}},qa=function(a){return a=a.split(","),function(b,c,g,d,e,f,k){g=(c+"").split(" ");
k={};for(c=0;4>c;c++)k[a[c]]=g[c]=g[c]||g[(c-1)/2>>0];return d.parse(b,k,e,f)}},ra=(P._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,g=this.data,d=g.proxy,e=g.firstMPT;e;)b=d[e.v],e.r?b=Math.round(b):1E-6>b&&-1E-6<b&&(b=0),e.t[e.p]=b,e=e._next;if(g.autoRotate&&(g.autoRotate.rotation=d.rotation),1===a)for(e=g.firstMPT;e;){if(c=e.t,c.type){if(1===c.type){b=c.xs0+c.s+c.xs1;for(a=1;c.l>a;a++)b+=c["xn"+a]+c["xs"+(a+1)];c.e=b}}else c.e=c.s+c.xs0;e=e._next}},function(a,b,c,g,d){this.t=a;
this.p=b;this.v=c;this.r=d;g&&(g._prev=this,this._next=g)}),V=(P._parseToProxy=function(a,b,c,g,d,e){var f,k,n,p=g,l={},h={};k=c._transform;var m=L;c._transform=null;L=b;g=a=c.parse(a,b,g,d);L=m;for(e&&(c._transform=k,p&&(p._prev=null,p._prev&&(p._prev._next=null)));g&&g!==p;){if(1>=g.type&&(f=g.p,h[f]=g.s+g.c,l[f]=g.s,e||(n=new ra(g,"s",f,n,g.r),g.c=0),1===g.type))for(c=g.l;0<--c;)k="xn"+c,f=g.p+"_"+k,h[f]=g.data[k],l[f]=g[k],e||(n=new ra(g,k,f,n,g.rxp[k]));g=g._next}return{proxy:l,end:h,firstMPT:n,
pt:a}},P.CSSPropTween=function(b,c,g,d,e,k,n,p,l,h,m){this.t=b;this.p=c;this.s=g;this.c=d;this.n=n||c;b instanceof V||a.push(this.n);this.r=p;this.type=k||0;l&&(this.pr=l,f=!0);this.b=void 0===h?g:h;this.e=void 0===m?g+d:m;e&&(this._next=e,e._prev=this)}),ka=g.parseComplex=function(a,b,c,g,d,e,f,k,n,h){c=c||e||"";f=new V(a,b,0,0,f,h?2:1,null,!1,k,c,g);g+="";var m,q,r,s,J;a=c.split(", ").join(",").split(" ");b=g.split(", ").join(",").split(" ");k=a.length;var z=!1!==l;(-1!==g.indexOf(",")||-1!==c.indexOf(","))&&
(a=a.join(" ").replace(H,", ").split(" "),b=b.join(" ").replace(H,", ").split(" "),k=a.length);k!==b.length&&(a=(e||"").split(" "),k=a.length);f.plugin=n;f.setRatio=h;for(c=0;k>c;c++)if(m=a[c],n=b[c],r=parseFloat(m),r||0===r)f.appendXtra("",r,va(n,r),n.replace(t,""),z&&-1!==n.indexOf("px"),!0);else if(d&&("#"===m.charAt(0)||ha[m]||u.test(m)))h=","===n.charAt(n.length-1)?"),":")",m=pa(m),n=pa(n),(e=6<m.length+n.length)&&!Z&&0===n[3]?(f["xs"+f.l]+=f.l?" transparent":"transparent",f.e=f.e.split(b[c]).join("transparent")):
(Z||(e=!1),f.appendXtra(e?"rgba(":"rgb(",m[0],n[0]-m[0],",",!0,!0).appendXtra("",m[1],n[1]-m[1],",",!0).appendXtra("",m[2],n[2]-m[2],e?",":h,!0),e&&(m=4>m.length?1:m[3],f.appendXtra("",m,(4>n.length?1:n[3])-m,h,!1)));else if(e=m.match(p)){if(q=n.match(t),!q||q.length!==e.length)return f;for(n=h=0;e.length>n;n++)J=e[n],s=m.indexOf(J,h),f.appendXtra(m.substr(h,s-h),Number(J),va(q[n],J),"",z&&"px"===m.substr(s+J.length,2),0===n),h=s+J.length;f["xs"+f.l]+=m.substr(h)}else f["xs"+f.l]+=f.l?" "+m:m;if(-1!==
g.indexOf("=")&&f.data){h=f.xs0+f.data.s;for(c=1;f.l>c;c++)h+=f["xs"+c]+f.data["xn"+c];f.e=h+f["xs"+c]}return f.l||(f.type=-1,f.xs0=f.e),f.xfirst||f},Y=9,n=V.prototype;for(n.l=n.pr=0;0<--Y;)n["xn"+Y]=0,n["xs"+Y]="";n.xs0="";n._next=n._prev=n.xfirst=n.data=n.plugin=n.setRatio=n.rxp=null;n.appendXtra=function(a,b,c,g,d,e){var f=this.l;return this["xs"+f]+=e&&f?" "+a:a||"",c||0===f||this.plugin?(this.l++,this.type=this.setRatio?2:1,this["xs"+this.l]=g||"",0<f?(this.data["xn"+f]=b+c,this.rxp["xn"+f]=
d,this["xn"+f]=b,this.plugin||(this.xfirst=new V(this,"xn"+f,b,c,this.xfirst||this,0,this.n,d,this.pr),this.xfirst.xs0=0),this):(this.data={s:b+c},this.rxp={},this.s=b,this.c=c,this.r=d,this)):(this["xs"+f]+=b+(g||""),this)};var wa=function(a,b){b=b||{};this.p=b.prefix?W(a)||a:a;k[a]=k[this.p]=this;this.format=b.formatter||ya(b.defaultValue,b.color,b.collapsible,b.multi);b.parser&&(this.parse=b.parser);this.clrs=b.color;this.multi=b.multi;this.keyword=b.keyword;this.dflt=b.defaultValue;this.pr=b.priority||
0},S=P._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var g=a.split(","),d=b.defaultValue;c=c||[d];for(a=0;g.length>a;a++)b.prefix=0===a&&b.prefix,b.defaultValue=c[a]||d,new wa(g[a],b)},Da=function(a){if(!k[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";S(a,{parser:function(a,c,g,d,e,f,n){var p=(_gsScope.GreenSockGlobals||_gsScope).com.greensock.plugins[b];p?a=(p._cssRegister(),k[g].parse(a,c,g,d,e,f,n)):(window.console&&console.log("Error: "+b+" js file not loaded."),
a=e);return a}})}},n=wa.prototype;n.parseComplex=function(a,b,c,g,d,e){var f,k,n,p,l,h,m=this.keyword;if(this.multi&&(H.test(c)||H.test(b)?(k=b.replace(H,"|").split("|"),n=c.replace(H,"|").split("|")):m&&(k=[b],n=[c])),n){p=n.length>k.length?n.length:k.length;for(f=0;p>f;f++)b=k[f]=k[f]||this.dflt,c=n[f]=n[f]||this.dflt,m&&(l=b.indexOf(m),h=c.indexOf(m),l!==h&&(c=-1===h?n:k,c[f]+=" "+m));b=k.join(", ");c=n.join(", ")}return ka(a,this.p,b,c,this.clrs,this.dflt,g,this.pr,d,e)};n.parse=function(a,c,
g,d,e,f){return this.parseComplex(a.style,this.format(N(a,this.p,b,!1,this.dflt)),this.format(c),e,f)};g.registerSpecialProp=function(a,b,c){S(a,{parser:function(a,g,d,e,f,k){f=new V(a,d,0,0,f,2,d,!1,c);return f.plugin=k,f.setRatio=b(a,g,e._tween,d),f},priority:c})};var xa="scaleX scaleY scaleZ x y z skewX skewY rotation rotationX rotationY perspective xPercent yPercent".split(" "),ba=W("transform"),Ea=$+"transform",sa=W("transformOrigin"),da=null!==W("perspective"),za=P.Transform=function(){this.skewY=
0},ja=P.getTransform=function(a,b,c,d){if(a._gsTransform&&c&&!d)return a._gsTransform;var e,f,k,n,p,l,h,m,q,r,s,t=c?a._gsTransform||new za:new za,J=0>t.scaleX;p=179.99*K;var u=da?parseFloat(N(a,sa,b,!1,"0 0 0").split(" ")[2])||t.zOrigin||0:0;if(ba?e=N(a,Ea,b,!0):a.currentStyle&&(e=a.currentStyle.filter.match(F),e=e&&4===e.length?[e[0].substr(4),Number(e[2].substr(4)),Number(e[1].substr(4)),e[3].substr(4),t.x||0,t.y||0].join():""),e&&"none"!==e&&"matrix(1, 0, 0, 1, 0, 0)"!==e){f=(e||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||
[];for(e=f.length;-1<--e;)k=Number(f[e]),f[e]=(n=k-(k|=0))?(0|1E5*n+(0>n?-0.5:0.5))/1E5+k:k;if(16===f.length){J=f[8];b=f[9];n=f[10];k=f[12];var z=f[13],A=f[14];if(t.zOrigin&&(A=-t.zOrigin,k=J*A-f[12],z=b*A-f[13],A=n*A+t.zOrigin-f[14]),!c||d||null==t.rotationX){var D;d=f[0];var v=f[1],x=f[2],y=f[3],w=f[4],Q=f[5],B=f[6],ea=f[7];f=f[11];var C=Math.atan2(B,n),E=-p>C||C>p;t.rotationX=C*M;C&&(q=Math.cos(-C),r=Math.sin(-C),l=w*q+J*r,h=Q*q+b*r,m=B*q+n*r,J=w*-r+J*q,b=Q*-r+b*q,n=B*-r+n*q,f=ea*-r+f*q,w=l,Q=
h,B=m);C=Math.atan2(J,d);t.rotationY=C*M;C&&(s=-p>C||C>p,q=Math.cos(-C),r=Math.sin(-C),l=d*q-J*r,h=v*q-b*r,m=x*q-n*r,b=v*r+b*q,n=x*r+n*q,f=y*r+f*q,d=l,v=h,x=m);C=Math.atan2(v,Q);t.rotation=C*M;C&&(D=-p>C||C>p,q=Math.cos(-C),r=Math.sin(-C),d=d*q+w*r,h=v*q+Q*r,Q=v*-r+Q*q,B=x*-r+B*q,v=h);D&&E?t.rotation=t.rotationX=0:D&&s?t.rotation=t.rotationY=0:s&&E&&(t.rotationY=t.rotationX=0);t.scaleX=(0|1E5*Math.sqrt(d*d+v*v)+0.5)/1E5;t.scaleY=(0|1E5*Math.sqrt(Q*Q+b*b)+0.5)/1E5;t.scaleZ=(0|1E5*Math.sqrt(B*B+n*n)+
0.5)/1E5;t.skewX=0;t.perspective=f?1/(0>f?-f:f):0;t.x=k;t.y=z;t.z=A}}else da&&!d&&f.length&&t.x===f[4]&&t.y===f[5]&&(t.rotationX||t.rotationY)||void 0!==t.x&&"none"===N(a,"display",b)||(l=(p=6<=f.length)?f[0]:1,m=f[1]||0,h=f[2]||0,q=p?f[3]:1,t.x=f[4]||0,t.y=f[5]||0,f=Math.sqrt(l*l+m*m),p=Math.sqrt(q*q+h*h),l=l||m?Math.atan2(m,l)*M:t.rotation||0,h=h||q?Math.atan2(h,q)*M+l:t.skewX||0,m=f-Math.abs(t.scaleX||0),q=p-Math.abs(t.scaleY||0),90<Math.abs(h)&&270>Math.abs(h)&&(J?(f*=-1,h+=0>=l?180:-180,l+=0>=
l?180:-180):(p*=-1,h+=0>=h?180:-180)),r=(l-t.rotation)%180,s=(h-t.skewX)%180,(void 0===t.skewX||2E-5<m||-2E-5>m||2E-5<q||-2E-5>q||-179.99<r&&179.99>r&&0|1E5*r||-179.99<s&&179.99>s&&0|1E5*s)&&(t.scaleX=f,t.scaleY=p,t.rotation=l,t.skewX=h),da&&(t.rotationX=t.rotationY=t.z=0,t.perspective=parseFloat(g.defaultTransformPerspective)||0,t.scaleZ=1));t.zOrigin=u;for(e in t)2E-5>t[e]&&-2E-5<t[e]&&(t[e]=0)}else t={x:0,y:0,z:0,scaleX:1,scaleY:1,scaleZ:1,skewX:0,perspective:0,rotation:0,rotationX:0,rotationY:0,
zOrigin:0};return c&&(a._gsTransform=t),t.xPercent=t.yPercent=0,t},Fa=function(a){var b,c,g=this.data,d=-g.rotation*K,e=d+g.skewX*K,f=(0|Math.cos(d)*g.scaleX*1E5)/1E5,k=(0|Math.sin(d)*g.scaleX*1E5)/1E5,n=(0|Math.sin(e)*-g.scaleY*1E5)/1E5,p=(0|Math.cos(e)*g.scaleY*1E5)/1E5,e=this.t.style;if(d=this.t.currentStyle){c=k;k=-n;n=-c;b=d.filter;e.filter="";var l,h;c=this.t.offsetWidth;var m=this.t.offsetHeight,q="absolute"!==d.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+f+", M12="+k+", M21="+
n+", M22="+p,s=g.x+c*g.xPercent/100,J=g.y+m*g.yPercent/100;if(null!=g.ox&&(l=(g.oxp?0.01*c*g.ox:g.ox)-c/2,h=(g.oyp?0.01*m*g.oy:g.oy)-m/2,s+=l-(l*f+h*k),J+=h-(l*n+h*p)),q?(l=c/2,h=m/2,t+=", Dx="+(l-(l*f+h*k)+s)+", Dy="+(h-(l*n+h*p)+J)+")"):t+=", sizingMethod='auto expand')",e.filter=-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?b.replace(I,t):t+" "+b,(0===a||1===a)&&1===f&&0===k&&0===n&&1===p&&(q&&-1===t.indexOf("Dx=0, Dy=0")||C.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&
e.removeAttribute("filter")),!q)for(a=8>r?1:-1,l=g.ieOffsetX||0,h=g.ieOffsetY||0,g.ieOffsetX=Math.round((c-((0>f?-f:f)*c+(0>k?-k:k)*m))/2+s),g.ieOffsetY=Math.round((m-((0>p?-p:p)*m+(0>n?-n:n)*c))/2+J),Y=0;4>Y;Y++)f=Ca[Y],k=d[f],c=-1!==k.indexOf("px")?parseFloat(k):Q(this.t,f,parseFloat(k),k.replace(y,""))||0,k=c!==g[f]?2>Y?-g.ieOffsetX:-g.ieOffsetY:2>Y?l-g.ieOffsetX:h-g.ieOffsetY,e[f]=(g[f]=Math.round(c-k*(0===Y||2===Y?1:a)))+"px"}},ta=P.set3DTransformRatio=function(a){var b,c,g,d,e,f,k,n,p,l,h,m,
r,t,s,J,z,u,A,v,D,x=this.data,w=this.t.style,y=x.rotation*K,Q=x.scaleX,N=x.scaleY,B=x.scaleZ,ea=x.x,C=x.y,E=x.z,X=x.perspective;if(!(1!==a&&0!==a||"auto"!==x.force3D||x.rotationY||x.rotationX||1!==B||X||E))return Aa.call(this,a),void 0;q&&(1E-4>Q&&-1E-4<Q&&(Q=B=2E-5),1E-4>N&&-1E-4<N&&(N=B=2E-5),!X||x.z||x.rotationX||x.rotationY||(X=0));if(y||x.skewX)J=Math.cos(y),z=Math.sin(y),a=J,d=z,x.skewX&&(y-=x.skewX*K,J=Math.cos(y),z=Math.sin(y),"simple"===x.skewType&&(u=Math.tan(x.skewX*K),u=Math.sqrt(1+u*
u),J*=u,z*=u)),b=-z,e=J;else{if(!(x.rotationY||x.rotationX||1!==B||X))return w[ba]=(x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) translate3d(":"translate3d(")+ea+"px,"+C+"px,"+E+"px)"+(1!==Q||1!==N?" scale("+Q+","+N+")":""),void 0;a=e=1;b=d=0}l=1;c=g=f=k=n=p=h=m=r=0;t=X?-1/X:0;s=x.zOrigin;(y=x.rotationY*K)&&(J=Math.cos(y),z=Math.sin(y),n=l*-z,m=t*-z,c=a*z,f=d*z,l*=J,t*=J,a*=J,d*=J);(y=x.rotationX*K)&&(J=Math.cos(y),z=Math.sin(y),u=b*J+c*z,A=e*J+f*z,v=p*J+l*z,D=r*J+t*z,c=b*-z+
c*J,f=e*-z+f*J,l=p*-z+l*J,t=r*-z+t*J,b=u,e=A,p=v,r=D);1!==B&&(c*=B,f*=B,l*=B,t*=B);1!==N&&(b*=N,e*=N,p*=N,r*=N);1!==Q&&(a*=Q,d*=Q,n*=Q,m*=Q);s&&(h-=s,g=c*h,k=f*h,h=l*h+s);g=(u=(g+=ea)-(g|=0))?(0|1E5*u+(0>u?-0.5:0.5))/1E5+g:g;k=(u=(k+=C)-(k|=0))?(0|1E5*u+(0>u?-0.5:0.5))/1E5+k:k;h=(u=(h+=E)-(h|=0))?(0|1E5*u+(0>u?-0.5:0.5))/1E5+h:h;w[ba]=(x.xPercent||x.yPercent?"translate("+x.xPercent+"%,"+x.yPercent+"%) matrix3d(":"matrix3d(")+[(0|1E5*a)/1E5,(0|1E5*d)/1E5,(0|1E5*n)/1E5,(0|1E5*m)/1E5,(0|1E5*b)/1E5,(0|
1E5*e)/1E5,(0|1E5*p)/1E5,(0|1E5*r)/1E5,(0|1E5*c)/1E5,(0|1E5*f)/1E5,(0|1E5*l)/1E5,(0|1E5*t)/1E5,g,k,h,X?1+-h/X:1].join()+")"},Aa=P.set2DTransformRatio=function(a){var b,c,g,d,e=this.data,f=this.t.style,k=e.x,n=e.y;return e.rotationX||e.rotationY||e.z||!0===e.force3D||"auto"===e.force3D&&1!==a&&0!==a?(this.setRatio=ta,ta.call(this,a),void 0):(e.rotation||e.skewX?(b=e.rotation*K,c=b-e.skewX*K,g=1E5*e.scaleX,d=1E5*e.scaleY,f[ba]=(e.xPercent||e.yPercent?"translate("+e.xPercent+"%,"+e.yPercent+"%) matrix(":
"matrix(")+(0|Math.cos(b)*g)/1E5+","+(0|Math.sin(b)*g)/1E5+","+(0|Math.sin(c)*-d)/1E5+","+(0|Math.cos(c)*d)/1E5+","+k+","+n+")"):f[ba]=(e.xPercent||e.yPercent?"translate("+e.xPercent+"%,"+e.yPercent+"%) matrix(":"matrix(")+e.scaleX+",0,0,"+e.scaleY+","+k+","+n+")",void 0)};S("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",
{parser:function(a,c,d,e,f,k,n){if(e._transform)return f;var p,l,h,m,q,r;c=e._transform=ja(a,b,!0,n.parseTransform);var t=a.style,s=xa.length,J={};if("string"==typeof n.transform&&ba)h=O.style,h[ba]=n.transform,h.display="block",h.position="absolute",R.body.appendChild(O),p=ja(O,null,!1),R.body.removeChild(O);else if("object"==typeof n){if(p={scaleX:aa(null!=n.scaleX?n.scaleX:n.scale,c.scaleX),scaleY:aa(null!=n.scaleY?n.scaleY:n.scale,c.scaleY),scaleZ:aa(n.scaleZ,c.scaleZ),x:aa(n.x,c.x),y:aa(n.y,
c.y),z:aa(n.z,c.z),xPercent:aa(n.xPercent,c.xPercent),yPercent:aa(n.yPercent,c.yPercent),perspective:aa(n.transformPerspective,c.perspective)},r=n.directionalRotation,null!=r)if("object"==typeof r)for(h in r)n[h]=r[h];else n.rotation=r;"string"==typeof n.x&&-1!==n.x.indexOf("%")&&(p.x=0,p.xPercent=aa(n.x,c.xPercent));"string"==typeof n.y&&-1!==n.y.indexOf("%")&&(p.y=0,p.yPercent=aa(n.y,c.yPercent));p.rotation=ia("rotation"in n?n.rotation:"shortRotation"in n?n.shortRotation+"_short":"rotationZ"in n?
n.rotationZ:c.rotation,c.rotation,"rotation",J);da&&(p.rotationX=ia("rotationX"in n?n.rotationX:"shortRotationX"in n?n.shortRotationX+"_short":c.rotationX||0,c.rotationX,"rotationX",J),p.rotationY=ia("rotationY"in n?n.rotationY:"shortRotationY"in n?n.shortRotationY+"_short":c.rotationY||0,c.rotationY,"rotationY",J));p.skewX=null==n.skewX?c.skewX:ia(n.skewX,c.skewX);p.skewY=null==n.skewY?c.skewY:ia(n.skewY,c.skewY);(l=p.skewY-c.skewY)&&(p.skewX+=l,p.rotation+=l)}da&&null!=n.force3D&&(c.force3D=n.force3D,
q=!0);c.skewType=n.skewType||c.skewType||g.defaultSkewType;for((l=c.force3D||c.z||c.rotationX||c.rotationY||p.z||p.rotationX||p.rotationY||p.perspective)||null==n.scale||(p.scaleZ=1);-1<--s;)d=xa[s],m=p[d]-c[d],(1E-6<m||-1E-6>m||null!=L[d])&&(q=!0,f=new V(c,d,c[d],m,f),d in J&&(f.e=J[d]),f.xs0=0,f.plugin=k,e._overwriteProps.push(f.n));return m=n.transformOrigin,(m||da&&l&&c.zOrigin)&&(ba?(q=!0,d=sa,m=(m||N(a,d,b,!1,"50% 50%"))+"",f=new V(t,d,0,0,f,-1,"transformOrigin"),f.b=t[d],f.plugin=k,da?(h=c.zOrigin,
m=m.split(" "),c.zOrigin=(2<m.length&&(0===h||"0px"!==m[2])?parseFloat(m[2]):h)||0,f.xs0=f.e=m[0]+" "+(m[1]||"50%")+" 0px",f=new V(c,"zOrigin",0,0,f,-1,f.n),f.b=h,f.xs0=f.e=c.zOrigin):f.xs0=f.e=m):na(m+"",c)),q&&(e._transformType=l||3===this._transformType?3:2),f},prefix:!0});S("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"});S("borderRadius",{defaultValue:"0px",parser:function(a,g,d,e,f){g=this.format(g);var k,n,p,l,h,m,q,r,t,s,J,z,u,x,A=["borderTopLeftRadius",
"borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],v=a.style;e=parseFloat(a.offsetWidth);r=parseFloat(a.offsetHeight);g=g.split(" ");for(k=0;A.length>k;k++)this.p.indexOf("border")&&(A[k]=W(A[k])),l=p=N(a,A[k],b,!1,"0px"),-1!==l.indexOf(" ")&&(p=l.split(" "),l=p[0],p=p[1]),h=n=g[k],m=parseFloat(l),s=l.substr((m+"").length),(J="="===h.charAt(1))?(q=parseInt(h.charAt(0)+"1",10),h=h.substr(2),q*=parseFloat(h),t=h.substr((q+"").length-(0>q?1:0))||""):(q=parseFloat(h),t=h.substr((q+
"").length)),""===t&&(t=c[d]||s),t!==s&&(z=Q(a,"borderLeft",m,s),u=Q(a,"borderTop",m,s),"%"===t?(l=z/e*100+"%",p=u/r*100+"%"):"em"===t?(x=Q(a,"borderLeft",1,"em"),l=z/x+"em",p=u/x+"em"):(l=z+"px",p=u+"px"),J&&(h=parseFloat(l)+q+t,n=parseFloat(p)+q+t)),f=ka(v,A[k],l+" "+p,h+" "+n,!1,"0px",f);return f},prefix:!0,formatter:ya("0px 0px 0px 0px",!1,!0)});S("backgroundPosition",{defaultValue:"0 0",parser:function(a,c,g,d,e,f){var k,n,p;g=b||J(a,null);g=this.format((g?r?g.getPropertyValue("background-position-x")+
" "+g.getPropertyValue("background-position-y"):g.getPropertyValue("background-position"):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0");var l=this.format(c);if(-1!==g.indexOf("%")!=(-1!==l.indexOf("%"))&&(k=N(a,"backgroundImage").replace(B,""),k&&"none"!==k)){c=g.split(" ");d=l.split(" ");U.setAttribute("src",k);for(k=2;-1<--k;)g=c[k],n=-1!==g.indexOf("%"),n!==(-1!==d[k].indexOf("%"))&&(p=0===k?a.offsetWidth-U.width:a.offsetHeight-U.height,c[k]=n?parseFloat(g)/
100*p+"px":100*(parseFloat(g)/p)+"%");g=c.join(" ")}return this.parseComplex(a.style,g,l,e,f)},formatter:na});S("backgroundSize",{defaultValue:"0 0",formatter:na});S("perspective",{defaultValue:"0px",prefix:!0});S("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0});S("transformStyle",{prefix:!0});S("backfaceVisibility",{prefix:!0});S("userSelect",{prefix:!0});S("margin",{parser:qa("marginTop,marginRight,marginBottom,marginLeft")});S("padding",{parser:qa("paddingTop,paddingRight,paddingBottom,paddingLeft")});
S("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,c,g,d,e,f){var k,n,p;return 9>r?(n=a.currentStyle,p=8>r?" ":",",k="rect("+n.clipTop+p+n.clipRight+p+n.clipBottom+p+n.clipLeft+")",c=this.format(c).split(",").join(p)):(k=this.format(N(a,this.p,b,!1,this.dflt)),c=this.format(c)),this.parseComplex(a.style,k,c,e,f)}});S("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0});S("autoRound,strictUnits",{parser:function(a,b,c,g,d){return d}});S("border",{defaultValue:"0px solid #000",
parser:function(a,c,g,d,e,f){return this.parseComplex(a.style,this.format(N(a,"borderTopWidth",b,!1,"0px")+" "+N(a,"borderTopStyle",b,!1,"solid")+" "+N(a,"borderTopColor",b,!1,"#000")),this.format(c),e,f)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(fa)||["#000"])[0]}});S("borderWidth",{parser:qa("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")});S("float,cssFloat,styleFloat",{parser:function(a,b,c,g,d){a=a.style;g="cssFloat"in
a?"cssFloat":"styleFloat";return new V(a,g,0,0,d,-1,c,!1,0,a[g],b)}});var Ga=function(a){var b,c=this.t,g=c.filter||N(this.data,"filter");a=0|this.s+this.c*a;100===a&&(-1===g.indexOf("atrix(")&&-1===g.indexOf("radient(")&&-1===g.indexOf("oader(")?(c.removeAttribute("filter"),b=!N(this.data,"filter")):(c.filter=g.replace(E,""),b=!0));b||(this.xn1&&(c.filter=g=g||"alpha(opacity="+a+")"),-1===g.indexOf("pacity")?0===a&&this.xn1||(c.filter=g+" alpha(opacity="+a+")"):c.filter=g.replace(C,"opacity="+a))};
S("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,c,g,d,e,f){var k=parseFloat(N(a,"opacity",b,!1,"1")),n=a.style,p="autoAlpha"===g;return"string"==typeof c&&"="===c.charAt(1)&&(c=("-"===c.charAt(0)?-1:1)*parseFloat(c.substr(2))+k),p&&1===k&&"hidden"===N(a,"visibility",b)&&0!==c&&(k=0),Z?e=new V(n,"opacity",k,c-k,e):(e=new V(n,"opacity",100*k,100*(c-k),e),e.xn1=p?1:0,n.zoom=1,e.type=2,e.b="alpha(opacity="+e.s+")",e.e="alpha(opacity="+(e.s+e.c)+")",e.data=a,e.plugin=f,e.setRatio=Ga),p&&
(e=new V(n,"visibility",0,0,e,-1,null,!1,0,0!==k?"inherit":"hidden",0===c?"hidden":"inherit"),e.xs0="inherit",d._overwriteProps.push(e.n),d._overwriteProps.push(g)),e}});var ua=function(a,b){b&&(a.removeProperty?("ms"===b.substr(0,2)&&(b="M"+b.substr(1)),a.removeProperty(b.replace(z,"-$1").toLowerCase())):a.removeAttribute(b))},Ha=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:ua(c,b.p),b=b._next;
1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};S("className",{parser:function(a,c,g,d,e,k,n){var p,l,h,m,q=a.getAttribute("class")||"",r=a.style.cssText;if(e=d._classNamePT=new V(a,g,0,0,e,2),e.setRatio=Ha,e.pr=-11,f=!0,e.b=q,g=X(a,b),l=a._gsClassPT){h={};for(m=l.data;m;)h[m.p]=1,m=m._next;l.setRatio(1)}return a._gsClassPT=e,e.e="="!==c.charAt(1)?c:q.replace(RegExp("\\s*\\b"+c.substr(2)+"\\b"),"")+("+"===c.charAt(0)?
" "+c.substr(2):""),d._tween._duration&&(a.setAttribute("class",e.e),p=ma(a,g,X(a),n,h),a.setAttribute("class",q),e.data=p.firstMPT,a.style.cssText=r,e=e.xfirst=d.parse(a,p.difs,e,k)),e}});var Ia=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,g,d=this.t.style,e=k.transform.parse;if("all"===this.e)d.cssText="",g=!0;else for(a=this.e.split(","),c=a.length;-1<--c;)b=a[c],k[b]&&(k[b].parse===e?g=!0:b="transformOrigin"===b?sa:k[b].p),
ua(d,b);g&&(ua(d,ba),this.t._gsTransform&&delete this.t._gsTransform)}};S("clearProps",{parser:function(a,b,c,g,d){return d=new V(a,c,0,0,d,2),d.setRatio=Ia,d.e=b,d.pr=-10,d.data=g._tween,f=!0,d}});n=["bezier","throwProps","physicsProps","physics2D"];for(Y=n.length;Y--;)Da(n[Y]);n=g.prototype;n._firstPT=null;n._onInitTween=function(d,e,k){if(!d.nodeType)return!1;this._target=d;this._tween=k;this._vars=e;l=e.autoRound;f=!1;c=e.suffixMap||g.suffixMap;b=J(d,"");a=this._overwriteProps;var n,p,q,r,t=d.style;
if(h&&""===t.zIndex&&(n=N(d,"zIndex",b),("auto"===n||""===n)&&this._addLazySet(t,"zIndex",0)),"string"==typeof e&&(q=t.cssText,n=X(d,b),t.cssText=q+";"+e,n=ma(d,n,X(d)).difs,!Z&&w.test(e)&&(n.opacity=parseFloat(RegExp.$1)),e=n,t.cssText=q),this._firstPT=k=this.parse(d,e,null),this._transformType){e=3===this._transformType;ba?m&&(h=!0,""===t.zIndex&&(p=N(d,"zIndex",b),("auto"===p||""===p)&&this._addLazySet(t,"zIndex",0)),s&&this._addLazySet(t,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||
(e?"visible":"hidden"))):t.zoom=1;for(p=k;p&&p._next;)p=p._next;n=new V(d,"transform",0,0,null,2);this._linkCSSP(n,null,p);n.setRatio=e&&da?ta:ba?Aa:Fa;n.data=this._transform||ja(d,b,!0);a.pop()}if(f){for(;k;){d=k._next;for(p=q;p&&p.pr>k.pr;)p=p._next;(k._prev=p?p._prev:r)?k._prev._next=k:q=k;(k._next=p)?p._prev=k:r=k;k=d}this._firstPT=q}return!0};n.parse=function(a,g,d,e){var f,n,p,h,m,q,r,t,s,z=a.style;for(f in g){m=g[f];if(n=k[f])d=n.parse(a,m,f,this,d,e,g);else if(n=N(a,f,b)+"",t="string"==typeof m,
"color"===f||"fill"===f||"stroke"===f||-1!==f.indexOf("Color")||t&&u.test(m))t||(m=pa(m),m=(3<m.length?"rgba(":"rgb(")+m.join(",")+")"),d=ka(z,f,n,m,!0,"transparent",d,0,e);else if(!t||-1===m.indexOf(" ")&&-1===m.indexOf(",")){q=(p=parseFloat(n))||0===p?n.substr((p+"").length):"";if(""===n||"auto"===n)if("width"===f||"height"===f){p=a;var x=f;q=b;s=parseFloat("width"===x?p.offsetWidth:p.offsetHeight);var x=Ba[x],A=x.length;for(q=q||J(p,null);-1<--A;)s-=parseFloat(N(p,"padding"+x[A],q,!0))||0,s-=parseFloat(N(p,
"border"+x[A]+"Width",q,!0))||0;p=s;q="px"}else"left"===f||"top"===f?(p=ea(a,f,b),q="px"):(p="opacity"!==f?0:1,q="");(s=t&&"="===m.charAt(1))?(h=parseInt(m.charAt(0)+"1",10),m=m.substr(2),h*=parseFloat(m),r=m.replace(y,"")):(h=parseFloat(m),r=t?m.substr((h+"").length)||"":"");""===r&&(r=f in c?c[f]:q);m=h||0===h?(s?h+p:h)+r:g[f];q!==r&&""!==r&&(h||0===h)&&p&&(p=Q(a,f,p,q),"%"===r?(p/=Q(a,f,100,"%")/100,!0!==g.strictUnits&&(n=p+"%")):"em"===r?p/=Q(a,f,1,"em"):"px"!==r&&(h=Q(a,f,h,r),r="px"),s&&(h||
0===h)&&(m=h+p+r));s&&(h+=p);!p&&0!==p||!h&&0!==h?void 0!==z[f]&&(m||"NaN"!=m+""&&null!=m)?(d=new V(z,f,h||p||0,0,d,-1,f,!1,0,n,m),d.xs0="none"!==m||"display"!==f&&-1===f.indexOf("Style")?m:n):window.console&&console.log("invalid "+f+" tween value: "+g[f]):(d=new V(z,f,p,h-p,d,0,f,!1!==l&&("px"===r||"zIndex"===f),0,n,m),d.xs0=r)}else d=ka(z,f,n,m,!0,null,d,0,e);e&&d&&!d.plugin&&(d.plugin=e)}return d};n.setRatio=function(a){var b,c,g,d=this._firstPT;if(1!==a||this._tween._time!==this._tween._duration&&
0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1E-6===this._tween._rawPrevTime)for(;d;){if(b=d.c*a+d.s,d.r?b=Math.round(b):1E-6>b&&-1E-6<b&&(b=0),d.type)if(1===d.type)if(g=d.l,2===g)d.t[d.p]=d.xs0+b+d.xs1+d.xn1+d.xs2;else if(3===g)d.t[d.p]=d.xs0+b+d.xs1+d.xn1+d.xs2+d.xn2+d.xs3;else if(4===g)d.t[d.p]=d.xs0+b+d.xs1+d.xn1+d.xs2+d.xn2+d.xs3+d.xn3+d.xs4;else if(5===g)d.t[d.p]=d.xs0+b+d.xs1+d.xn1+d.xs2+d.xn2+d.xs3+d.xn3+d.xs4+d.xn4+d.xs5;else{c=d.xs0+b+d.xs1;
for(g=1;d.l>g;g++)c+=d["xn"+g]+d["xs"+(g+1)];d.t[d.p]=c}else-1===d.type?d.t[d.p]=d.xs0:d.setRatio&&d.setRatio(a);else d.t[d.p]=b+d.xs0;d=d._next}else for(;d;)2!==d.type?d.t[d.p]=d.b:d.setRatio(a),d=d._next;else for(;d;)2!==d.type?d.t[d.p]=d.e:d.setRatio(a),d=d._next};n._enableTransforms=function(a){this._transformType=a||3===this._transformType?3:2;this._transform=this._transform||ja(this._target,b,!0)};var Ja=function(){this.t[this.p]=this.e;this.data._linkCSSP(this,this._next,null,!0)};n._addLazySet=
function(a,b,c){a=this._firstPT=new V(a,b,0,0,this._firstPT,2);a.e=c;a.setRatio=Ja;a.data=this};n._linkCSSP=function(a,b,c,g){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,g=!0),c?c._next=a:g||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a};n._kill=function(a){var b,c,g,e=a;if(a.autoAlpha||a.alpha){e={};for(c in a)e[c]=a[c];e.opacity=1;e.autoAlpha&&(e.visibility=1)}return a.className&&(b=this._classNamePT)&&
(g=b.xfirst,g&&g._prev?this._linkCSSP(g._prev,b._next,g._prev._prev):g===this._firstPT&&(this._firstPT=b._next),b._next&&this._linkCSSP(b._next,b._next._next,g._prev),this._classNamePT=null),d.prototype._kill.call(this,e)};var la=function(a,b,c){var g,d,e;if(a.slice)for(g=a.length;-1<--g;)la(a[g],b,c);else for(a=a.childNodes,g=a.length;-1<--g;)d=a[g],e=d.type,d.style&&(b.push(X(d)),c&&c.push(d)),1!==e&&9!==e&&11!==e||!d.childNodes.length||la(d,b,c)};return g.cascadeTo=function(a,b,c){var g,d,f=e.to(a,
b,c),k=[f],n=[],p=[],l=[],h=e._internals.reservedProps;a=f._targets||f.target;la(a,n,l);f.render(b,!0);la(a,p);f.render(0,!0);f._enabled(!0);for(a=l.length;-1<--a;)if(g=ma(l[a],n[a],p[a]),g.firstMPT){g=g.difs;for(d in c)h[d]&&(g[d]=c[d]);k.push(e.to(l[a],b,g))}return k},d.activate([g]),g},!0);(function(){var d=_gsScope._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(d,f,c){return this._tween=c,!0}}).prototype;d._onInitAllProps=function(){for(var d,f,c,b=this._tween,a=b.vars.roundProps instanceof
Array?b.vars.roundProps:b.vars.roundProps.split(","),g=a.length,k={},n=b._propLookup.roundProps;-1<--g;)k[a[g]]=1;for(g=a.length;-1<--g;)for(d=a[g],f=b._firstPT;f;)c=f._next,f.pg?f.t._roundProps(k,!0):f.n===d&&(this._add(f.t,d,f.s,f.c),c&&(c._prev=f._prev),f._prev?f._prev._next=c:b._firstPT===f&&(b._firstPT=c),f._next=f._prev=null,b._propLookup[d]=n),f=c;return!1};d._add=function(d,f,c,b){this._addTween(d,f,c,c+b,f,!0);this._overwriteProps.push(f)}})();_gsScope._gsDefine.plugin({propName:"attr",API:2,
version:"0.3.3",init:function(d,e){var f,c;if("function"!=typeof d.setAttribute)return!1;this._target=d;this._proxy={};this._start={};this._end={};for(f in e)this._start[f]=this._proxy[f]=c=d.getAttribute(f),c=this._addTween(this._proxy,f,parseFloat(c),e[f],f),this._end[f]=c?c.s+c.c:e[f],this._overwriteProps.push(f);return!0},set:function(d){this._super.setRatio.call(this,d);for(var e=this._overwriteProps,f=e.length,c=1===d?this._end:d?this._proxy:this._start;-1<--f;)d=e[f],this._target.setAttribute(d,
c[d]+"")}});_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(d,e){"object"!=typeof e&&(e={rotation:e});this.finals={};var f,c,b,a,g,k,n=!0===e.useRadians?2*Math.PI:360;for(f in e)"useRadians"!==f&&(k=(e[f]+"").split("_"),c=k[0],b=parseFloat("function"!=typeof d[f]?d[f]:d[f.indexOf("set")||"function"!=typeof d["get"+f.substr(3)]?f:"get"+f.substr(3)]()),a=this.finals[f]="string"==typeof c&&"="===c.charAt(1)?b+parseInt(c.charAt(0)+"1",10)*Number(c.substr(2)):
Number(c)||0,g=a-b,k.length&&(c=k.join("_"),-1!==c.indexOf("short")&&(g%=n,g!==g%(n/2)&&(g=0>g?g+n:g-n)),-1!==c.indexOf("_cw")&&0>g?g=(g+9999999999*n)%n-(0|g/n)*n:-1!==c.indexOf("ccw")&&0<g&&(g=(g-9999999999*n)%n-(0|g/n)*n)),(1E-6<g||-1E-6>g)&&(this._addTween(d,f,b,b+g,f),this._overwriteProps.push(f)));return!0},set:function(d){if(1!==d)this._super.setRatio.call(this,d);else for(d=this._firstPT;d;)d.f?d.t[d.p](this.finals[d.p]):d.t[d.p]=this.finals[d.p],d=d._next}})._autoCSS=!0;_gsScope._gsDefine("easing.Back",
["easing.Ease"],function(d){var e,f,c,b=_gsScope.GreenSockGlobals||_gsScope,a=2*Math.PI,g=Math.PI/2,k=b.com.greensock._class,n=function(a,b){var c=k("easing."+a,function(){},!0),g=c.prototype=new d;return g.constructor=c,g.getRatio=b,c},l=d.register||function(){},h=function(a,b,c,g){b=k("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new g},!0);return l(b,a),b},m=function(a,b,c){this.t=a;this.v=b;c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},q=function(a,b){var c=k("easing."+a,function(a){this._p1=
a||0===a?a:1.70158;this._p2=1.525*this._p1},!0),g=c.prototype=new d;return g.constructor=c,g.getRatio=b,g.config=function(a){return new c(a)},c},q=h("Back",q("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),q("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),q("BackInOut",function(a){return 1>(a*=2)?0.5*a*a*((this._p2+1)*a-this._p2):0.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),s=k("easing.SlowMo",function(a,b,c){null==a?a=0.7:1<a&&(a=1);this._p=1!==a?b||0===b?b:0.7:0;
this._p1=(1-a)/2;this._p2=a;this._p3=this._p1+this._p2;this._calcEnd=!0===c},!0),r=s.prototype=new d;return r.constructor=s,r.getRatio=function(a){var b=a+(0.5-a)*this._p;return this._p1>a?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},s.ease=new s(0.7,0.7),r.config=s.config=function(a,b,c){return new s(a,b,c)},e=k("easing.SteppedEase",function(a){a=a||1;this._p1=1/a;this._p2=
a+1},!0),r=e.prototype=new d,r.constructor=e,r.getRatio=function(a){return 0>a?a=0:1<=a&&(a=0.999999999),(this._p2*a>>0)*this._p1},r.config=e.config=function(a){return new e(a)},f=k("easing.RoughEase",function(a){a=a||{};for(var b,c,g,e,f=a.taper||"none",k=[],n=0,l=e=0|(a.points||20),h=!1!==a.randomize,q=!0===a.clamp,r=a.template instanceof d?a.template:null,s="number"==typeof a.strength?0.4*a.strength:0.4;-1<--l;)a=h?Math.random():1/e*l,b=r?r.getRatio(a):a,"none"===f?c=s:"out"===f?(g=1-a,c=g*g*s):
"in"===f?c=a*a*s:0.5>a?(g=2*a,c=0.5*g*g*s):(g=2*(1-a),c=0.5*g*g*s),h?b+=Math.random()*c-0.5*c:l%2?b+=0.5*c:b-=0.5*c,q&&(1<b?b=1:0>b&&(b=0)),k[n++]={x:a,y:b};k.sort(function(a,b){return a.x-b.x});c=new m(1,1,null);for(l=e;-1<--l;)e=k[l],c=new m(e.x,e.y,c);this._prev=new m(0,0,0!==c.t?c:c.next)},!0),r=f.prototype=new d,r.constructor=f,r.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&b.t>=a;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},
r.config=function(a){return new f(a)},f.ease=new f,h("Bounce",n("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}),n("BounceIn",function(a){return 1/2.75>(a=1-a)?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+0.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+0.9375):1-(7.5625*(a-=2.625/2.75)*a+0.984375)}),n("BounceInOut",function(a){var b=0.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:
2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375,b?0.5*(1-a):0.5*a+0.5})),h("Circ",n("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),n("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),n("CircInOut",function(a){return 1>(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)})),c=function(b,c,g){var e=k("easing."+b,function(b,c){this._p1=b||1;this._p2=c||g;this._p3=this._p2/a*(Math.asin(1/this._p1)||0)},!0);b=e.prototype=
new d;return b.constructor=e,b.getRatio=c,b.config=function(a,b){return new e(a,b)},e},h("Elastic",c("ElasticOut",function(b){return this._p1*Math.pow(2,-10*b)*Math.sin((b-this._p3)*a/this._p2)+1},0.3),c("ElasticIn",function(b){return-(this._p1*Math.pow(2,10*(b-=1))*Math.sin((b-this._p3)*a/this._p2))},0.3),c("ElasticInOut",function(b){return 1>(b*=2)?-0.5*this._p1*Math.pow(2,10*(b-=1))*Math.sin((b-this._p3)*a/this._p2):0.5*this._p1*Math.pow(2,-10*(b-=1))*Math.sin((b-this._p3)*a/this._p2)+1},0.45)),
h("Expo",n("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),n("ExpoIn",function(a){return Math.pow(2,10*(a-1))-0.001}),n("ExpoInOut",function(a){return 1>(a*=2)?0.5*Math.pow(2,10*(a-1)):0.5*(2-Math.pow(2,-10*(a-1)))})),h("Sine",n("SineOut",function(a){return Math.sin(a*g)}),n("SineIn",function(a){return-Math.cos(a*g)+1}),n("SineInOut",function(a){return-0.5*(Math.cos(Math.PI*a)-1)})),k("easing.EaseLookup",{find:function(a){return d.map[a]}},!0),l(b.SlowMo,"SlowMo","ease,"),l(f,"RoughEase","ease,"),
l(e,"SteppedEase","ease,"),q},!0)});_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
(function(d,e){var f=d.GreenSockGlobals=d.GreenSockGlobals||d;if(!f.TweenLite){var c,b,a,g,k,n=function(a){var b=a.split("."),c=f;for(a=0;b.length>a;a++)c[b[a]]=c=c[b[a]]||{};return c},l=n("com.greensock"),h=function(a){var b,c=[],g=a.length;for(b=0;b!==g;c.push(a[b++]));return c},m=function(){},q=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),s={},r=function(a,b,c,g){this.sc=s[a]?s[a].sc:
[];s[a]=this;this.gsClass=null;this.func=c;var k=[];this.check=function(l){for(var h,p,m=b.length,q=m;-1<--m;)(h=s[b[m]]||new r(b[m],[])).gsClass?(k[m]=h.gsClass,q--):l&&h.sc.push(this);if(0===q&&c)for(l=("com.greensock."+a).split("."),h=l.pop(),p=n(l.join("."))[h]=this.gsClass=c.apply(c,k),g&&(f[h]=p,"function"==typeof define&&define.amd?define((d.GreenSockAMDPath?d.GreenSockAMDPath+"/":"")+a.split(".").pop(),[],function(){return p}):a===e&&"undefined"!=typeof module&&module.exports&&(module.exports=
p)),m=0;this.sc.length>m;m++)this.sc[m].check()};this.check(!0)},p=d._gsDefine=function(a,b,c,g){return new r(a,b,c,g)},t=l._class=function(a,b,c){return b=b||function(){},p(a,[],function(){return b},c),b};p.globals=f;var D=[0,0,1,1],A=[],y=t("easing.Ease",function(a,b,c,g){this._func=a;this._type=c||0;this._power=g||0;this._params=b?D.concat(b):D},!0),C=y.map={},w=y.register=function(a,b,c,g){var d,e,f;b=b.split(",");for(var k=b.length,n=(c||"easeIn,easeOut,easeInOut").split(",");-1<--k;)for(d=b[k],
c=g?t("easing."+d,null,!0):l.easing[d]||{},e=n.length;-1<--e;)f=n[e],C[d+"."+f]=C[f+d]=c[f]=a.getRatio?a:a[f]||new a};a=y.prototype;a._calcEnd=!1;a.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,g=1===b?1-a:2===b?a:0.5>a?2*a:2*(1-a);return 1===c?g*=g:2===c?g*=g*g:3===c?g*=g*g*g:4===c&&(g*=g*g*g*g),1===b?1-g:2===b?g:0.5>a?g/2:1-g/2};c=["Linear","Quad","Cubic","Quart","Quint,Strong"];for(b=c.length;-1<--b;)a=c[b]+",Power"+
b,w(new y(null,null,1,b),a,"easeOut",!0),w(new y(null,null,2,b),a,"easeIn"+(0===b?",easeNone":"")),w(new y(null,null,3,b),a,"easeInOut");C.linear=l.easing.Linear.easeIn;C.swing=l.easing.Quad.easeInOut;var E=t("events.EventDispatcher",function(a){this._listeners={};this._eventTarget=a||this});a=E.prototype;a.addEventListener=function(a,b,c,d,e){e=e||0;var f,n=this._listeners[a],l=0;null==n&&(this._listeners[a]=n=[]);for(f=n.length;-1<--f;)a=n[f],a.c===b&&a.s===c?n.splice(f,1):0===l&&e>a.pr&&(l=f+1);
n.splice(l,0,{c:b,s:c,up:d,pr:e});this!==g||k||g.wake()};a.removeEventListener=function(a,b){var c,g=this._listeners[a];if(g)for(c=g.length;-1<--c;)if(g[c].c===b)return g.splice(c,1),void 0};a.dispatchEvent=function(a){var b,c,g,d=this._listeners[a];if(d)for(b=d.length,c=this._eventTarget;-1<--b;)g=d[b],g.up?g.c.call(g.s||c,{type:a,target:c}):g.c.call(g.s||c)};var u=d.requestAnimationFrame,z=d.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()},B=x();c=["ms","moz","webkit","o"];
for(b=c.length;-1<--b&&!u;)u=d[c[b]+"RequestAnimationFrame"],z=d[c[b]+"CancelAnimationFrame"]||d[c[b]+"CancelRequestAnimationFrame"];t("Ticker",function(a,b){var c,d,e,f,n,l=this,h=x(),p=!1!==b&&u,q=500,r=33,s=function(a){var b,g;b=x()-B;b>q&&(h+=b-r);B+=b;l.time=(B-h)/1E3;b=l.time-n;(!c||0<b||!0===a)&&(l.frame++,n+=b+(b>=f?0.004:f-b),g=!0);!0!==a&&(e=d(s));g&&l.dispatchEvent("tick")};E.call(l);l.time=l.frame=0;l.tick=function(){s(!0)};l.lagSmoothing=function(a,b){q=a||1E10;r=Math.min(b,q,0)};l.sleep=
function(){null!=e&&(p&&z?z(e):clearTimeout(e),d=m,e=null,l===g&&(k=!1))};l.wake=function(){null!==e?l.sleep():10<l.frame&&(B=x()-q+5);d=0===c?m:p&&u?u:function(a){return setTimeout(a,0|1E3*(n-l.time)+1)};l===g&&(k=!0);s(2)};l.fps=function(a){return arguments.length?(c=a,f=1/(c||60),n=this.time+f,l.wake(),void 0):c};l.useRAF=function(a){return arguments.length?(l.sleep(),p=a,l.fps(c),void 0):p};l.fps(a);setTimeout(function(){p&&(!e||5>l.frame)&&l.useRAF(!1)},1500)});a=l.Ticker.prototype=new l.events.EventDispatcher;
a.constructor=l.Ticker;var v=t("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=!0===b.immediateRender,this.data=b.data,this._reversed=!0===b.reversed,T){k||g.wake();var c=this.vars.useFrames?P:T;c.add(this,c._time);this.vars.paused&&this.paused(!0)}});g=v.ticker=new l.Ticker;a=v.prototype;a._dirty=a._gc=a._initted=a._paused=!1;a._totalTime=a._time=0;a._rawPrevTime=-1;a._next=a._last=a._onUpdate=
a._timeline=a.timeline=null;a._paused=!1;var G=function(){k&&2E3<x()-B&&g.wake();setTimeout(G,2E3)};G();a.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)};a.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)};a.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)};a.seek=function(a,b){return this.totalTime(Number(a),!1!==b)};a.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,!1!==b,!0)};a.reverse=function(a,
b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)};a.render=function(){};a.invalidate=function(){return this};a.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime())>=c&&c+this.totalDuration()/this._timeScale>a};a._enabled=function(a,b){return k||g.wake(),this._gc=!a,this._active=this.isActive(),!0!==b&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&
this._timeline._remove(this,!0)),!1};a._kill=function(){return this._enabled(!1,!1)};a.kill=function(a,b){return this._kill(a,b),this};a._uncache=function(a){for(a=a?this:this.timeline;a;)a._dirty=!0,a=a.timeline;return this};a._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();-1<--b;)"{self}"===a[b]&&(c[b]=this);return c};a.eventCallback=function(a,b,c,g){if("on"===(a||"").substr(0,2)){var d=this.vars;if(1===arguments.length)return d[a];null==b?delete d[a]:(d[a]=b,d[a+"Params"]=q(c)&&
-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,d[a+"Scope"]=g);"onUpdate"===a&&(this._onUpdate=b)}return this};a.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay};a.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==a&&this.totalTime(a/this._duration*
this._totalTime,!0),this):(this._dirty=!1,this._duration)};a.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration};a.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time};a.totalTime=function(a,b,c){if(k||g.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();
var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1);(this._totalTime!==a||0===this._duration)&&(this.render(a,b,!1),H.length&&Z())}return this};a.progress=a.totalProgress=function(a,b){return arguments.length?
this.totalTime(this.duration()*a,b):this._time/this.duration()};a.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime};a.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||1E-10,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,b=b||0===b?b:this._timeline.totalTime();this._startTime=b-(b-this._startTime)*this._timeScale/
a}return this._timeScale=a,this._uncache(!1)};a.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed};a.paused=function(a){if(!arguments.length)return this._paused;if(a!=this._paused&&this._timeline){k||a||g.wake();var b=this._timeline,c=b.rawTime(),d=c-this._pauseTime;!a&&b.smoothChildTiming&&(this._startTime+=d,this._uncache(!1));
this._pauseTime=a?c:null;this._paused=a;this._active=this.isActive();!a&&0!==d&&this._initted&&this.duration()&&this.render(b.smoothChildTiming?this._totalTime:(c-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!a&&this._enabled(!0,!1),this};b=t("core.SimpleTimeline",function(a){v.call(this,0,a);this.autoRemoveChildren=this.smoothChildTiming=!0});a=b.prototype=new v;a.constructor=b;a.kill()._gc=!1;a._first=a._last=null;a._sortChildren=!1;a.add=a.insert=function(a,b){var c,g;if(a._startTime=
Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),c=this._last,this._sortChildren)for(g=a._startTime;c&&c._startTime>g;)c=c._prev;return c?(a._next=c._next,c._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=c,this._timeline&&this._uncache(!0),this};a._remove=function(a,b){return a.timeline===this&&
(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,this._timeline&&this._uncache(!0)),this};a.render=function(a,b,c){var g,d=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;d;)g=d._next,(d._active||a>=d._startTime&&!d._paused)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*
d._timeScale,b,c)),d=g};a.rawTime=function(){return k||g.wake(),this._totalTime};var F=t("TweenLite",function(a,b,c){if(v.call(this,b,c),this.render=F.prototype.render,null==a)throw"Cannot tween a null target.";this.target=a="string"!=typeof a?a:F.selector(a)||a;var g,e;g=a.jquery||a.length&&a!==d&&a[0]&&(a[0]===d||a[0].nodeType&&a[0].style&&!a.nodeType);c=this.vars.overwrite;if(this._overwrite=c=null==c?U[F.defaultOverwrite]:"number"==typeof c?c>>0:U[c],(g||a instanceof Array||a.push&&q(a))&&"number"!=
typeof a[0])for(this._targets=e=h(a),this._propLookup=[],this._siblings=[],a=0;e.length>a;a++)(g=e[a])?"string"!=typeof g?g.length&&g!==d&&g[0]&&(g[0]===d||g[0].nodeType&&g[0].style&&!g.nodeType)?(e.splice(a--,1),this._targets=e=e.concat(h(g))):(this._siblings[a]=ca(g,this,!1),1===c&&1<this._siblings[a].length&&$(g,this,null,1,this._siblings[a])):(g=e[a--]=F.selector(g),"string"==typeof g&&e.splice(a+1,1)):e.splice(a--,1);else this._propLookup={},this._siblings=ca(a,this,!1),1===c&&1<this._siblings.length&&
$(a,this,null,1,this._siblings);(this.vars.immediateRender||0===b&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1E-10,this.render(-this._delay))},!0),I=function(a){return a.length&&a!==d&&a[0]&&(a[0]===d||a[0].nodeType&&a[0].style&&!a.nodeType)};a=F.prototype=new v;a.constructor=F;a.kill()._gc=!1;a.ratio=0;a._firstPT=a._targets=a._overwrittenProps=a._startAt=null;a._notifyPluginsOfEnabled=a._lazy=!1;F.version="1.13.1";F.defaultEase=a._ease=new y(null,null,1,1);F.defaultOverwrite=
"auto";F.ticker=g;F.autoSleep=!0;F.lagSmoothing=function(a,b){g.lagSmoothing(a,b)};F.selector=d.$||d.jQuery||function(a){var b=d.$||d.jQuery;return b?(F.selector=b,b(a)):"undefined"==typeof document?a:document.querySelectorAll?document.querySelectorAll(a):document.getElementById("#"===a.charAt(0)?a.substr(1):a)};var H=[],K={},w=F._internals={isArray:q,isSelector:I,lazyTweens:H},M=F._plugins={},L=w.tweenLookup={},R=0,O=w.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,
useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1},U={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},P=v._rootFramesTimeline=new b,T=v._rootTimeline=new b,Z=w.lazyRender=function(){var a=
H.length;for(K={};-1<--a;)(c=H[a])&&!1!==c._lazy&&(c.render(c._lazy,!1,!0),c._lazy=!1);H.length=0};T._startTime=g.time;P._startTime=g.frame;T._active=P._active=!0;setTimeout(Z,1);v._updateRoot=F.render=function(){var a,b,c;if(H.length&&Z(),T.render((g.time-T._startTime)*T._timeScale,!1,!1),P.render((g.frame-P._startTime)*P._timeScale,!1,!1),H.length&&Z(),!(g.frame%120)){for(c in L){b=L[c].tweens;for(a=b.length;-1<--a;)b[a]._gc&&b.splice(a,1);0===b.length&&delete L[c]}if(c=T._first,(!c||c._paused)&&
F.autoSleep&&!P._first&&1===g._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||g.sleep()}}};g.addEventListener("tick",v._updateRoot);var ca=function(a,b,c){var g,d,e=a._gsTweenID;if(L[e||(a._gsTweenID=e="t"+R++)]||(L[e]={target:a,tweens:[]}),b&&(g=L[e].tweens,g[d=g.length]=b,c))for(;-1<--d;)g[d]===b&&g.splice(d,1);return L[e].tweens},$=function(a,b,c,g,d){var e,f,k;if(1===g||4<=g){a=d.length;for(e=0;a>e;e++)if((k=d[e])!==b)k._gc||k._enabled(!1,!1)&&(f=!0);else if(5===g)break;return f}var n,
l=b._startTime+1E-10,h=[],p=0,m=0===b._duration;for(e=d.length;-1<--e;)(k=d[e])===b||k._gc||k._paused||(k._timeline!==b._timeline?(n=n||ga(b,0,m),0===ga(k,n,m)&&(h[p++]=k)):l>=k._startTime&&k._startTime+k.totalDuration()/k._timeScale>l&&((m||!k._initted)&&2E-10>=l-k._startTime||(h[p++]=k)));for(e=p;-1<--e;)k=h[e],2===g&&k._kill(c,a)&&(f=!0),(2!==g||!k._firstPT&&k._initted)&&k._enabled(!1,!1)&&(f=!0);return f},ga=function(a,b,c){for(var g=a._timeline,d=g._timeScale,e=a._startTime;g._timeline;){if(e+=
g._startTime,d*=g._timeScale,g._paused)return-100;g=g._timeline}return e/=d,e>b?e-b:c&&e===b||!a._initted&&2E-10>e-b?1E-10:(e+=a.totalDuration()/a._timeScale/d)>b+1E-10?0:e-b-1E-10};a._init=function(){var a,b,c,g=this.vars,d=this._overwrittenProps,e=this._duration,f=!!g.immediateRender,k=g.ease;if(g.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill());c={};for(a in g.startAt)c[a]=g.startAt[a];if(c.overwrite=!1,c.immediateRender=!0,c.lazy=f&&!1!==g.lazy,c.startAt=c.delay=null,
this._startAt=F.to(this.target,0,c),f)if(0<this._time)this._startAt=null;else if(0!==e)return}else if(g.runBackwards&&0!==e)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{c={};for(a in g)O[a]&&"autoCSS"!==a||(c[a]=g[a]);if(c.overwrite=0,c.data="isFromStart",c.lazy=f&&!1!==g.lazy,c.immediateRender=f,this._startAt=F.to(this.target,0,c),f){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1)}if(this._ease=k=k?k instanceof y?k:"function"==
typeof k?new y(k,g.easeParams):C[k]||F.defaultEase:F.defaultEase,g.easeParams instanceof Array&&k.config&&(this._ease=k.config.apply(k,g.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;-1<--a;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],d?d[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,d);if(b&&F._onPluginEvent("_onInitAllProps",this),d&&(this._firstPT||
"function"!=typeof this.target&&this._enabled(!1,!1)),g.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=g.onUpdate;this._initted=!0};a._initProps=function(a,b,c,g){var e,f,k,n,l;if(null==a)return!1;K[a._gsTweenID]&&Z();if(!this.vars.css&&a.style&&a!==d&&a.nodeType&&M.css&&!1!==this.vars.autoCSS){f=this.vars;var h,p={};for(h in f)O[h]||h in a&&"transform"!==h&&"x"!==h&&"y"!==h&&"width"!==h&&"height"!==h&&"className"!==h&&"border"!==h||!(!M[h]||M[h]&&M[h]._autoCSS)||(p[h]=
f[h],delete f[h]);f.css=p}for(e in this.vars){if(f=this.vars[e],O[e])f&&(f instanceof Array||f.push&&q(f))&&-1!==f.join("").indexOf("{self}")&&(this.vars[e]=this._swapSelfInParams(f,this));else if(M[e]&&(n=new M[e])._onInitTween(a,this.vars[e],this)){this._firstPT=l={_next:this._firstPT,t:n,p:"setRatio",s:0,c:1,f:!0,n:e,pg:!0,pr:n._priority};for(f=n._overwriteProps.length;-1<--f;)b[n._overwriteProps[f]]=this._firstPT;(n._priority||n._onInitAllProps)&&(k=!0);(n._onDisable||n._onEnable)&&(this._notifyPluginsOfEnabled=
!0)}else this._firstPT=b[e]=l={_next:this._firstPT,t:a,p:e,f:"function"==typeof a[e],n:e,pg:!1,pr:0},l.s=l.f?a[e.indexOf("set")||"function"!=typeof a["get"+e.substr(3)]?e:"get"+e.substr(3)]():parseFloat(a[e]),l.c="string"==typeof f&&"="===f.charAt(1)?parseInt(f.charAt(0)+"1",10)*Number(f.substr(2)):Number(f)-l.s||0;l&&l._next&&(l._next._prev=l)}return g&&this._kill(g,a)?this._initProps(a,b,c,g):1<this._overwrite&&this._firstPT&&1<c.length&&$(a,this,b,this._overwrite,c)?(this._kill(b,a),this._initProps(a,
b,c,g)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(K[a._gsTweenID]=!0),k)};a.render=function(a,b,c){var g,d,e,f,k=this._time,n=this._duration;e=this._rawPrevTime;if(a>=n)this._totalTime=this._time=n,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(g=!0,d="onComplete"),0===n&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0===a||0>e||1E-10===e)&&e!==a&&(c=!0,1E-10<e&&(d="onReverseComplete")),
this._rawPrevTime=f=!b||a||e===a?a:1E-10);else if(1E-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==k||0===n&&0<e&&1E-10!==e)&&(d="onReverseComplete",g=this._reversed),0>a?(this._active=!1,0===n&&(this._initted||!this.vars.lazy||c)&&(0<=e&&(c=!0),this._rawPrevTime=f=!b||a||e===a?a:1E-10)):this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var l=a/n,h=this._easeType,p=this._easePower;(1===h||3===h&&0.5<=l)&&(l=1-l);3===h&&(l*=2);
1===p?l*=l:2===p?l*=l*l:3===p?l*=l*l*l:4===p&&(l*=l*l*l*l);this.ratio=1===h?1-l:2===h?l:0.5>a/n?l/2:1-l/2}else this.ratio=this._ease.getRatio(a/n);if(this._time!==k||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=k,this._rawPrevTime=e,H.push(this),this._lazy=a,void 0;this._time&&!g?this.ratio=this._ease.getRatio(this._time/n):g&&this._ease._calcEnd&&
(this.ratio=this._ease.getRatio(0===this._time?0:1))}!1!==this._lazy&&(this._lazy=!1);this._active||!this._paused&&this._time!==k&&0<=a&&(this._active=!0);0!==k||(this._startAt&&(0<=a?this._startAt.render(a,b,c):d||(d="_dummyGS")),!this.vars.onStart||0===this._time&&0!==n||!b&&this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||A));for(e=this._firstPT;e;)e.f?e.t[e.p](e.c*this.ratio+e.s):e.t[e.p]=e.c*this.ratio+e.s,e=e._next;this._onUpdate&&(0>a&&this._startAt&&this._startTime&&
this._startAt.render(a,b,c),b||(this._time!==k||g)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||A));d&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(a,b,c),g&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[d]&&this.vars[d].apply(this.vars[d+"Scope"]||this,this.vars[d+"Params"]||A),0===n&&1E-10===this._rawPrevTime&&1E-10!==f&&(this._rawPrevTime=0))}};a._kill=function(a,b){if("all"===
a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:F.selector(b)||b;var c,g,d,e,f,k,n;if((q(b)||I(b))&&"number"!=typeof b[0])for(c=b.length;-1<--c;)this._kill(a,b[c])&&(k=!0);else{if(this._targets)for(c=this._targets.length;-1<--c;){if(b===this._targets[c]){f=this._propLookup[c]||{};this._overwrittenProps=this._overwrittenProps||[];g=this._overwrittenProps[c]=a?this._overwrittenProps[c]||{}:"all";break}}else{if(b!==
this.target)return!1;f=this._propLookup;g=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(f){c=a||f;n=a!==g&&"all"!==g&&a!==f&&("object"!=typeof a||!a._tempKill);for(d in c)(e=f[d])&&(e.pg&&e.t._kill(c)&&(k=!0),e.pg&&0!==e.t._overwriteProps.length||(e._prev?e._prev._next=e._next:e===this._firstPT&&(this._firstPT=e._next),e._next&&(e._next._prev=e._prev),e._next=e._prev=null),delete f[d]),n&&(g[d]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return k};a.invalidate=function(){return this._notifyPluginsOfEnabled&&
F._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=this._lazy=!1,this._propLookup=this._targets?{}:[],this};a._enabled=function(a,b){if(k||g.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;-1<--c;)this._siblings[c]=ca(d[c],this,!0);else this._siblings=ca(this.target,this,!0)}return v.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?
F._onPluginEvent(a?"_onEnable":"_onDisable",this):!1};F.to=function(a,b,c){return new F(a,b,c)};F.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new F(a,b,c)};F.fromTo=function(a,b,c,g){return g.startAt=c,g.immediateRender=0!=g.immediateRender&&0!=c.immediateRender,new F(a,b,g)};F.delayedCall=function(a,b,c,g,d){return new F(b,0,{delay:a,onComplete:b,onCompleteParams:c,onCompleteScope:g,onReverseComplete:b,onReverseCompleteParams:c,onReverseCompleteScope:g,immediateRender:!1,
useFrames:d,overwrite:0})};F.set=function(a,b){return new F(a,0,b)};F.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:F.selector(a)||a;var c,g,d,e;if((q(a)||I(a))&&"number"!=typeof a[0]){c=a.length;for(g=[];-1<--c;)g=g.concat(F.getTweensOf(a[c],b));for(c=g.length;-1<--c;)for(e=g[c],d=c;-1<--d;)e===g[d]&&g.splice(c,1)}else for(g=ca(a).concat(),c=g.length;-1<--c;)(g[c]._gc||b&&!g[c].isActive())&&g.splice(c,1);return g};F.killTweensOf=F.killDelayedCallsTo=function(a,b,c){"object"==
typeof b&&(c=b,b=!1);b=F.getTweensOf(a,b);for(var g=b.length;-1<--g;)b[g]._kill(c,a)};var W=t("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(",");this._propName=this._overwriteProps[0];this._priority=b||0;this._super=W.prototype},!0);if(a=W.prototype,W.version="1.10.1",W.API=2,a._firstPT=null,a._addTween=function(a,b,c,g,d,e){var f,k;return null!=g&&(f="number"==typeof g||"="!==g.charAt(1)?Number(g)-c:parseInt(g.charAt(0)+"1",10)*Number(g.substr(2)))?(this._firstPT=k={_next:this._firstPT,
t:a,p:b,s:c,c:f,f:"function"==typeof a[b],n:d||b,r:e},k._next&&(k._next._prev=k),k):void 0},a.setRatio=function(a){for(var b,c=this._firstPT;c;)b=c.c*a+c.s,c.r?b=Math.round(b):1E-6>b&&-1E-6<b&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},a._kill=function(a){var b,c=this._overwriteProps,g=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;-1<--b;)null!=a[c[b]]&&c.splice(b,1);for(;g;)null!=a[g.n]&&(g._next&&(g._next._prev=g._prev),g._prev?(g._prev._next=g._next,g._prev=
null):this._firstPT===g&&(this._firstPT=g._next)),g=g._next;return!1},a._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},F._onPluginEvent=function(a,b){var c,g,d,e,f,k=b._firstPT;if("_onInitAllProps"===a){for(;k;){f=k._next;for(g=d;g&&g.pr>k.pr;)g=g._next;(k._prev=g?g._prev:e)?k._prev._next=k:d=k;(k._next=g)?g._prev=k:e=k;k=f}k=b._firstPT=d}for(;k;)k.pg&&"function"==typeof k.t[a]&&k.t[a]()&&(c=!0),k=
k._next;return c},W.activate=function(a){for(var b=a.length;-1<--b;)a[b].API===W.API&&(M[(new a[b])._propName]=a[b]);return!0},p.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,g=a.priority||0,d=a.overwriteProps,e={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},f=t("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){W.call(this,c,g);this._overwriteProps=d||[]},!0===a.global),
k=f.prototype=new W(c);k.constructor=f;f.API=a.API;for(b in e)"function"==typeof a[b]&&(k[e[b]]=a[b]);return f.version=a.version,W.activate([f]),f},c=d._gsQueue){for(b=0;c.length>b;b++)c[b]();for(a in s)s[a].func||d.console.log("GSAP encountered missing dependency: com.greensock."+a)}k=!1}})("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");
(function(d){var e=function(){function e(){}e.parse=function(c){c=d.SAXParser.getInstance().parserXML(c);if(!c||!c.childNodes)return null;for(var b=c.childNodes.length,a=!1,g=0;g<b;g++){var k=c.childNodes[g];if(1==k.nodeType){a=!0;break}}return a?e.parseNode(k):null};e.parseNode=function(c){if(!c||1!=c.nodeType)return null;var b={};b.localName=c.localName;b.name=c.nodeName;c.namespaceURI&&(b.namespace=c.namespaceURI);c.prefix&&(b.prefix=c.prefix);for(var a=c.attributes,g=a.length,d=0;d<g;d++){var n=
a[d],l=n.name;0!=l.indexOf("xmlns:")&&(b["$"+l]=n.value)}a=c.childNodes;g=a.length;for(d=0;d<g;d++)if(n=e.parseNode(a[d]))b.children||(b.children=[]),n.parent=b,b.children.push(n);!b.children&&(c=c.textContent.trim())&&(b.text=c);return b};e.findChildren=function(c,b,a){a?a.length=0:a=[];e.findByPath(c,b,a);return a};e.findByPath=function(c,b,a){var g=b.indexOf("."),d;-1==g?(d=b,g=!0):(d=b.substring(0,g),b=b.substring(g+1),g=!1);if(c=c.children)for(var n=c.length,l=0;l<n;l++){var h=c[l];h.localName==
d&&(g?a.push(h):e.findByPath(h,b,a))}};e.getAttributes=function(c,b){b?b.length=0:b=[];for(var a in c)"$"==a.charAt(0)&&b.push(a.substring(1));return b};return e}();d.XML=e;e.prototype.__class__="egret.XML"})(egret||(egret={}));
(function(d){var e=function(){function c(){}c.LITTLE_ENDIAN="LITTLE_ENDIAN";c.BIG_ENDIAN="BIG_ENDIAN";return c}();d.Endian=e;e.prototype.__class__="egret.Endian";var f=function(){function c(){this.length=this.position=0;this._mode="";this.maxlength=0;this._endian=e.LITTLE_ENDIAN;this.isLittleEndian=!1;this._mode="Typed array";this.maxlength=4;this.arraybytes=new ArrayBuffer(this.maxlength);this.unalignedarraybytestemp=new ArrayBuffer(16);this.endian=c.DEFAULT_ENDIAN}Object.defineProperty(c.prototype,
"endian",{get:function(){return this._endian},set:function(b){this._endian=b;this.isLittleEndian=b==e.LITTLE_ENDIAN},enumerable:!0,configurable:!0});c.prototype.ensureWriteableSpace=function(b){this.ensureSpace(b+this.position)};c.prototype.setArrayBuffer=function(b){this.ensureSpace(b.byteLength);this.length=b.byteLength;b=new Int8Array(b);(new Int8Array(this.arraybytes,0,this.length)).set(b);this.position=0};Object.defineProperty(c.prototype,"bytesAvailable",{get:function(){return this.length-this.position},
enumerable:!0,configurable:!0});c.prototype.ensureSpace=function(b){if(b>this.maxlength){b=b+255&-256;var a=new ArrayBuffer(b),c=new Uint8Array(this.arraybytes,0,this.length);(new Uint8Array(a,0,this.length)).set(c);this.arraybytes=a;this.maxlength=b}};c.prototype.writeByte=function(b){this.ensureWriteableSpace(1);(new Int8Array(this.arraybytes))[this.position++]=~~b;this.position>this.length&&(this.length=this.position)};c.prototype.readByte=function(){if(this.position>=this.length)throw"ByteArray out of bounds read. Positon="+
this.position+", Length="+this.length;return(new Int8Array(this.arraybytes))[this.position++]};c.prototype.readBytes=function(b,a,c){"undefined"===typeof a&&(a=0);"undefined"===typeof c&&(c=0);null==c&&(c=b.length);b.ensureWriteableSpace(a+c);var d=new Int8Array(b.arraybytes),e=new Int8Array(this.arraybytes);d.set(e.subarray(this.position,this.position+c),a);this.position+=c;c+a>b.length&&(b.length+=c+a-b.length)};c.prototype.writeUnsignedByte=function(b){this.ensureWriteableSpace(1);(new Uint8Array(this.arraybytes))[this.position++]=
~~b&255;this.position>this.length&&(this.length=this.position)};c.prototype.readUnsignedByte=function(){if(this.position>=this.length)throw"ByteArray out of bounds read. Positon="+this.position+", Length="+this.length;return(new Uint8Array(this.arraybytes))[this.position++]};c.prototype.writeUnsignedShort=function(b){this.ensureWriteableSpace(2);if(0==(this.position&1)){var a=new Uint16Array(this.arraybytes);a[this.position>>1]=~~b&65535}else a=new Uint16Array(this.unalignedarraybytestemp,0,1),a[0]=
~~b&65535,b=new Uint8Array(this.arraybytes,this.position,2),a=new Uint8Array(this.unalignedarraybytestemp,0,2),b.set(a);this.position+=2;this.position>this.length&&(this.length=this.position)};c.prototype.readUTFBytes=function(b){var a="";b=this.position+b;for(var c=new DataView(this.arraybytes);this.position<b;){var d=c.getUint8(this.position++);if(128>d){if(0==d)break;a+=String.fromCharCode(d)}else if(224>d)a+=String.fromCharCode((d&63)<<6|c.getUint8(this.position++)&127);else if(240>d)var e=c.getUint8(this.position++),
a=a+String.fromCharCode((d&31)<<12|(e&127)<<6|c.getUint8(this.position++)&127);else var e=c.getUint8(this.position++),f=c.getUint8(this.position++),a=a+String.fromCharCode((d&15)<<18|(e&127)<<12|f<<6&127|c.getUint8(this.position++)&127)}return a};c.prototype.readInt=function(){var b=(new DataView(this.arraybytes)).getInt32(this.position,this.isLittleEndian);this.position+=4;return b};c.prototype.readShort=function(){var b=(new DataView(this.arraybytes)).getInt16(this.position,this.isLittleEndian);
this.position+=2;return b};c.prototype.readDouble=function(){var b=(new DataView(this.arraybytes)).getFloat64(this.position,this.isLittleEndian);this.position+=8;return b};c.prototype.readUnsignedShort=function(){if(this.position>this.length+2)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;if(0==(this.position&1)){var b=new Uint16Array(this.arraybytes),a=this.position>>1;this.position+=2;return b[a]}b=new Uint16Array(this.unalignedarraybytestemp,0,1);a=new Uint8Array(this.arraybytes,
this.position,2);(new Uint8Array(this.unalignedarraybytestemp,0,2)).set(a);this.position+=2;return b[0]};c.prototype.writeUnsignedInt=function(b){this.ensureWriteableSpace(4);if(0==(this.position&3)){var a=new Uint32Array(this.arraybytes);a[this.position>>2]=~~b&4294967295}else a=new Uint32Array(this.unalignedarraybytestemp,0,1),a[0]=~~b&4294967295,b=new Uint8Array(this.arraybytes,this.position,4),a=new Uint8Array(this.unalignedarraybytestemp,0,4),b.set(a);this.position+=4;this.position>this.length&&
(this.length=this.position)};c.prototype.readUnsignedInt=function(){if(this.position>this.length+4)throw"ByteArray out of bounds read. Position="+this.position+", Length="+this.length;if(0==(this.position&3)){var b=new Uint32Array(this.arraybytes),a=this.position>>2;this.position+=4;return b[a]}b=new Uint32Array(this.unalignedarraybytestemp,0,1);a=new Uint8Array(this.arraybytes,this.position,4);(new Uint8Array(this.unalignedarraybytestemp,0,4)).set(a);this.position+=4;return b[0]};c.prototype.writeFloat=
function(b){this.ensureWriteableSpace(4);if(0==(this.position&3)){var a=new Float32Array(this.arraybytes);a[this.position>>2]=b}else a=new Float32Array(this.unalignedarraybytestemp,0,1),a[0]=b,b=new Uint8Array(this.arraybytes,this.position,4),a=new Uint8Array(this.unalignedarraybytestemp,0,4),b.set(a);this.position+=4;this.position>this.length&&(this.length=this.position)};c.prototype.readFloat=function(){if(this.position>this.length+4)throw"ByteArray out of bounds read. Positon="+this.position+", Length="+
this.length;if(0==(this.position&3)){var b=new Float32Array(this.arraybytes),a=this.position>>2;this.position+=4;return b[a]}b=new Float32Array(this.unalignedarraybytestemp,0,1);a=new Uint8Array(this.arraybytes,this.position,4);(new Uint8Array(this.unalignedarraybytestemp,0,4)).set(a);this.position+=4;return b[0]};c.DEFAULT_ENDIAN=e.BIG_ENDIAN;return c}();d.ByteArray=f;f.prototype.__class__="egret.ByteArray"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b,a,c){e.call(this);this._target=null;this.loop=this.ignoreGlobalPause=this._useTicks=!1;this._actions=this._steps=this.pluginData=null;this.paused=!1;this.duration=0;this._prevPos=-1;this.position=null;this._stepPosition=this._prevPosition=0;this.passive=!1;this.initialize(b,a,c)}__extends(c,e);c.get=function(b,a,g,d){"undefined"===typeof a&&(a=null);"undefined"===typeof g&&(g=null);"undefined"===typeof d&&(d=!1);d&&c.removeTweens(b);return new c(b,a,g)};
c.removeTweens=function(b){if(b.tween_count){for(var a=c._tweens,g=a.length-1;0<=g;g--)a[g]._target==b&&(a[g].paused=!0,a.splice(g,1));b.tween_count=0}};c.tick=function(b,a){"undefined"===typeof a&&(a=!1);for(var g=c._tweens.concat(),d=g.length-1;0<=d;d--){var e=g[d];a&&!e.ignoreGlobalPause||e.paused||e.tick(e._useTicks?1:b)}};c._register=function(b,a){var g=b._target,e=c._tweens;if(a)g&&(g.tween_count=g.tween_count?g.tween_count+1:1),e.push(b),c._inited||(d.Ticker.getInstance().register(c.tick,null),
c._inited=!0);else for(g&&g.tween_count--,g=e.length;g--;)if(e[g]==b){e.splice(g,1);break}};c.removeAllTweens=function(){for(var b=c._tweens,a=0,g=b.length;a<g;a++){var d=b[a];d.paused=!0;d._target.tweenjs_count=0}b.length=0};c.prototype.initialize=function(b,a,g){this._target=b;a&&(this._useTicks=a.useTicks,this.ignoreGlobalPause=a.ignoreGlobalPause,this.loop=a.loop,a.onChange&&this.addEventListener("change",a.onChange,a.onChangeObj),a.override&&c.removeTweens(b));this.pluginData=g||{};this._curQueueProps=
{};this._initQueueProps={};this._steps=[];this._actions=[];a&&a.paused?this.paused=!0:c._register(this,!0);a&&null!=a.position&&this.setPosition(a.position,c.NONE)};c.prototype.setPosition=function(b,a){"undefined"===typeof a&&(a=1);0>b&&(b=0);var c=b,d=!1;c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,d=!0));if(c==this._prevPos)return d;var e=this._prevPos;this.position=this._prevPos=c;this._prevPosition=b;if(this._target)if(d)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var f=
0,h=this._steps.length;f<h&&!(this._steps[f].t>c);f++);f=this._steps[f-1];this._updateTargetProps(f,(this._stepPosition=c-f.t)/f.d)}0!=a&&0<this._actions.length&&(this._useTicks?this._runActions(c,c):1==a&&c<e?(e!=this.duration&&this._runActions(e,this.duration),this._runActions(0,c,!0)):this._runActions(e,c));d&&this.setPaused(!0);this.dispatchEventWith("change");return d};c.prototype._runActions=function(b,a,c){"undefined"===typeof c&&(c=!1);var d=b,e=a,f=-1,h=this._actions.length,m=1;b>a&&(d=a,
e=b,f=h,h=m=-1);for(;(f+=m)!=h;){a=this._actions[f];var q=a.t;(q==e||q>d&&q<e||c&&q==b)&&a.f.apply(a.o,a.p)}};c.prototype._updateTargetProps=function(b,a){var g,d,e,f;if(b||1!=a){if(this.passive=!!b.v)return;b.e&&(a=b.e(a,0,1,1));g=b.p0;d=b.p1}else this.passive=!1,g=d=this._curQueueProps;for(var h in this._initQueueProps){null==(e=g[h])&&(g[h]=e=this._initQueueProps[h]);null==(f=d[h])&&(d[h]=f=e);e=e==f||0==a||1==a||"number"!=typeof e?1==a?f:e:e+(f-e)*a;var m=!1;if(f=c._plugins[h])for(var q=0,s=f.length;q<
s;q++){var r=f[q].tween(this,h,e,g,d,a,!!b&&g==d,!b);r==c.IGNORE?m=!0:e=r}m||(this._target[h]=e)}};c.prototype.setPaused=function(b){this.paused=b;c._register(this,!b);return this};c.prototype._cloneProps=function(b){var a={},c;for(c in b)a[c]=b[c];return a};c.prototype._addStep=function(b){0<b.d&&(this._steps.push(b),b.t=this.duration,this.duration+=b.d);return this};c.prototype._appendQueueProps=function(b){var a,g,d,e,f,h;for(h in b)if(void 0===this._initQueueProps[h]){g=this._target[h];if(a=c._plugins[h])for(d=
0,e=a.length;d<e;d++)g=a[d].init(this,h,g);this._initQueueProps[h]=this._curQueueProps[h]=void 0===g?null:g}for(h in b){g=this._curQueueProps[h];if(a=c._plugins[h])for(f=f||{},d=0,e=a.length;d<e;d++)a[d].step&&a[d].step(this,h,g,b[h],f);this._curQueueProps[h]=b[h]}f&&this._appendQueueProps(f);return this._curQueueProps};c.prototype._addAction=function(b){b.t=this.duration;this._actions.push(b);return this};c.prototype._set=function(b,a){for(var c in b)a[c]=b[c]};c.prototype.wait=function(b,a){if(null==
b||0>=b)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:b,p0:c,p1:c,v:a})};c.prototype.to=function(b,a,c){"undefined"===typeof c&&(c=void 0);if(isNaN(a)||0>a)a=0;return this._addStep({d:a||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(b))})};c.prototype.call=function(b,a,c){"undefined"===typeof a&&(a=void 0);"undefined"===typeof c&&(c=void 0);return this._addAction({f:b,p:c?c:[this],o:a?a:this._target})};c.prototype.set=function(b,
a){"undefined"===typeof a&&(a=null);return this._addAction({f:this._set,o:this,p:[b,a?a:this._target]})};c.prototype.play=function(b){b||(b=this);return this.call(b.setPaused,[!1],b)};c.prototype.pause=function(b){b||(b=this);return this.call(b.setPaused,[!0],b)};c.prototype.tick=function(b){this.paused||this.setPosition(this._prevPosition+b)};c.NONE=0;c.LOOP=1;c.REVERSE=2;c._tweens=[];c.IGNORE={};c._plugins={};c._inited=!1;return c}(d.EventDispatcher);d.Tween=e;e.prototype.__class__="egret.Tween"})(egret||
(egret={}));
(function(d){var e=function(){function e(){d.Logger.fatal("Ease\u4e0d\u80fd\u88ab\u5b9e\u4f8b\u5316")}e.get=function(c){-1>c&&(c=-1);1<c&&(c=1);return function(b){return 0==c?b:0>c?b*(b*-c+1+c):b*((2-b)*c+(1-c))}};e.getPowIn=function(c){return function(b){return Math.pow(b,c)}};e.getPowOut=function(c){return function(b){return 1-Math.pow(1-b,c)}};e.getPowInOut=function(c){return function(b){return 1>(b*=2)?0.5*Math.pow(b,c):1-0.5*Math.abs(Math.pow(2-b,c))}};e.sineIn=function(c){return 1-Math.cos(c*
Math.PI/2)};e.sineOut=function(c){return Math.sin(c*Math.PI/2)};e.sineInOut=function(c){return-0.5*(Math.cos(Math.PI*c)-1)};e.getBackIn=function(c){return function(b){return b*b*((c+1)*b-c)}};e.getBackOut=function(c){return function(b){b-=1;return b*b*((c+1)*b+c)+1}};e.getBackInOut=function(c){c*=1.525;return function(b){return 1>(b*=2)?0.5*b*b*((c+1)*b-c):0.5*((b-=2)*b*((c+1)*b+c)+2)}};e.circIn=function(c){return-(Math.sqrt(1-c*c)-1)};e.circOut=function(c){return Math.sqrt(1-c*c)};e.circInOut=function(c){return 1>
(c*=2)?-0.5*(Math.sqrt(1-c*c)-1):0.5*(Math.sqrt(1-(c-=2)*c)+1)};e.bounceIn=function(c){return 1-e.bounceOut(1-c)};e.bounceOut=function(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375};e.bounceInOut=function(c){return 0.5>c?0.5*e.bounceIn(2*c):0.5*e.bounceOut(2*c-1)+0.5};e.getElasticIn=function(c,b){var a=2*Math.PI;return function(g){if(0==g||1==g)return g;var d=b/a*Math.asin(1/c);return-(c*Math.pow(2,10*
(g-=1))*Math.sin((g-d)*a/b))}};e.getElasticOut=function(c,b){var a=2*Math.PI;return function(g){if(0==g||1==g)return g;var d=b/a*Math.asin(1/c);return c*Math.pow(2,-10*g)*Math.sin((g-d)*a/b)+1}};e.getElasticInOut=function(c,b){var a=2*Math.PI;return function(g){var d=b/a*Math.asin(1/c);return 1>(g*=2)?-0.5*c*Math.pow(2,10*(g-=1))*Math.sin((g-d)*a/b):c*Math.pow(2,-10*(g-=1))*Math.sin((g-d)*a/b)*0.5+1}};e.quadIn=e.getPowIn(2);e.quadOut=e.getPowOut(2);e.quadInOut=e.getPowInOut(2);e.cubicIn=e.getPowIn(3);
e.cubicOut=e.getPowOut(3);e.cubicInOut=e.getPowInOut(3);e.quartIn=e.getPowIn(4);e.quartOut=e.getPowOut(4);e.quartInOut=e.getPowInOut(4);e.quintIn=e.getPowIn(5);e.quintOut=e.getPowOut(5);e.quintInOut=e.getPowInOut(5);e.backIn=e.getBackIn(1.7);e.backOut=e.getBackOut(1.7);e.backInOut=e.getBackInOut(1.7);e.elasticIn=e.getElasticIn(1,0.3);e.elasticOut=e.getElasticOut(1,0.3);e.elasticInOut=e.getElasticInOut(1,0.3*1.5);return e}();d.Ease=e;e.prototype.__class__="egret.Ease"})(egret||(egret={}));
(function(d){var e=function(){function d(){}d.prototype.play=function(c){"undefined"===typeof c&&(c=!1);var b=this.audio;b&&(isNaN(b.duration)||(b.currentTime=0),b.loop=c,b.play())};d.prototype.pause=function(){var c=this.audio;c&&c.pause()};d.prototype.load=function(){var c=this.audio;c&&c.load()};d.prototype.addEventListener=function(c,b){this.audio&&this.audio.addEventListener(c,b,!1)};d.prototype.removeEventListener=function(c,b){this.audio&&this.audio.removeEventListener(c,b,!1)};d.prototype.setVolume=
function(c){var b=this.audio;b&&(b.volume=c)};d.prototype.getVolume=function(){return this.audio?this.audio.volume:0};return d}();d.Sound=e;e.prototype.__class__="egret.Sound"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a){"undefined"===typeof a&&(a=null);c.call(this);this._source=a?a:[]}__extends(b,c);Object.defineProperty(b.prototype,"source",{get:function(){return this._source},set:function(a){a||(a=[]);this._source=a;this.dispatchCoEvent(e.CollectionEventKind.RESET)},enumerable:!0,configurable:!0});b.prototype.refresh=function(){this.dispatchCoEvent(e.CollectionEventKind.REFRESH)};b.prototype.contains=function(a){return-1!=this.getItemIndex(a)};b.prototype.checkIndex=
function(a){if(0>a||a>=this._source.length)throw new RangeError('\u7d22\u5f15:"'+a+'"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4');};Object.defineProperty(b.prototype,"length",{get:function(){return this._source.length},enumerable:!0,configurable:!0});b.prototype.addItem=function(a){this._source.push(a);this.dispatchCoEvent(e.CollectionEventKind.ADD,this._source.length-1,-1,[a])};b.prototype.addItemAt=function(a,b){if(0>b||b>this._source.length)throw new RangeError('\u7d22\u5f15:"'+
b+'"\u8d85\u51fa\u96c6\u5408\u5143\u7d20\u7d22\u5f15\u8303\u56f4');this._source.splice(b,0,a);this.dispatchCoEvent(e.CollectionEventKind.ADD,b,-1,[a])};b.prototype.getItemAt=function(a){return this._source[a]};b.prototype.getItemIndex=function(a){for(var b=this._source.length,c=0;c<b;c++)if(this._source[c]===a)return c;return-1};b.prototype.itemUpdated=function(a){var b=this.getItemIndex(a);-1!=b&&this.dispatchCoEvent(e.CollectionEventKind.UPDATE,b,-1,[a])};b.prototype.removeAll=function(){var a=
this._source.concat();this._source.length=0;this.dispatchCoEvent(e.CollectionEventKind.REMOVE,0,-1,a)};b.prototype.removeItemAt=function(a){this.checkIndex(a);var b=this._source.splice(a,1)[0];this.dispatchCoEvent(e.CollectionEventKind.REMOVE,a,-1,[b]);return b};b.prototype.replaceItemAt=function(a,b){this.checkIndex(b);var c=this._source.splice(b,1,a)[0];this.dispatchCoEvent(e.CollectionEventKind.REPLACE,b,-1,[a],[c]);return c};b.prototype.replaceAll=function(a){a||(a=[]);for(var b=a.length,c=this._source.length,
d=b;d<c;d++)this.removeItemAt(b);for(d=0;d<b;d++)d>=c?this.addItemAt(a[d],d):this.replaceItemAt(a[d],d);this._source=a};b.prototype.moveItemAt=function(a,b){this.checkIndex(a);this.checkIndex(b);var c=this._source.splice(a,1)[0];this._source.splice(b,0,c);this.dispatchCoEvent(e.CollectionEventKind.MOVE,b,a,[c]);return c};b.prototype.dispatchCoEvent=function(a,b,c,d,f){"undefined"===typeof a&&(a=null);"undefined"===typeof b&&(b=-1);"undefined"===typeof c&&(c=-1);"undefined"===typeof d&&(d=null);"undefined"===
typeof f&&(f=null);e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,a,b,c,d,f)};return b}(d.EventDispatcher);e.ArrayCollection=f;f.prototype.__class__="egret.gui.ArrayCollection"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b){"undefined"===typeof a&&(a="children");"undefined"===typeof b&&(b="parent");c.call(this);this.nodeList=[];this._openNodes=[];this._showRoot=!1;this.childrenKey=a;this.parentKey=b}__extends(b,c);Object.defineProperty(b.prototype,"source",{get:function(){return this._source},set:function(a){this._source=a;this._openNodes=[];this.nodeList=[];this._source&&(this._showRoot?this.nodeList.push(this._source):(this._openNodes=[this._source],this.addChildren(this._source,
this.nodeList)));this.dispatchCoEvent(e.CollectionEventKind.RESET)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"openNodes",{get:function(){return this._openNodes.concat()},set:function(a){this._openNodes=a?a.concat():[];this.refresh()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"length",{get:function(){return this.nodeList.length},enumerable:!0,configurable:!0});b.prototype.getItemAt=function(a){return this.nodeList[a]};b.prototype.getItemIndex=function(a){for(var b=
this.nodeList.length,c=0;c<b;c++)if(this.nodeList[c]===a)return c;return-1};b.prototype.itemUpdated=function(a){var b=this.getItemIndex(a);-1!=b&&this.dispatchCoEvent(e.CollectionEventKind.UPDATE,b,-1,[a])};b.prototype.removeItem=function(a){this.isItemOpen(a)&&this.closeNode(a);if(a){var b=a[this.parentKey];if(b&&(b=b[this.childrenKey])){var c=b.indexOf(a);-1!=c&&b.splice(c,1);a[this.parentKey]=null;c=this.nodeList.indexOf(a);-1!=c&&(this.nodeList.splice(c,1),this.dispatchCoEvent(e.CollectionEventKind.REMOVE,
c,-1,[a]))}}};Object.defineProperty(b.prototype,"showRoot",{get:function(){return this._showRoot},set:function(a){this._showRoot!=a&&(this._showRoot=a,this._source&&(this._showRoot?this.nodeList.splice(0,0,this._source):(this.nodeList.shift(),-1==this.openNodes.indexOf(this._source)&&this.openNodes.push(this._source)),this.refresh()))},enumerable:!0,configurable:!0});b.prototype.addChildren=function(a,b){if(a.hasOwnProperty(this.childrenKey)&&-1!=this._openNodes.indexOf(a))for(var c=a[this.childrenKey],
d=c.length,e=0;e<d;e++){var f=c[e];b.push(f);this.addChildren(f,b)}};b.prototype.hasChildren=function(a){return a.hasOwnProperty(this.childrenKey)?0<a[this.childrenKey].length:!1};b.prototype.isItemOpen=function(a){return-1!=this._openNodes.indexOf(a)};b.prototype.expandItem=function(a,b){"undefined"===typeof b&&(b=!0);b?this.openNode(a):this.closeNode(a)};b.prototype.openNode=function(a){if(-1==this._openNodes.indexOf(a)){this._openNodes.push(a);var b=this.nodeList.indexOf(a);if(-1!=b){var c=[];
this.addChildren(a,c);for(var d=b;c.length;){d++;var f=c.shift();this.nodeList.splice(d,0,f);this.dispatchCoEvent(e.CollectionEventKind.ADD,d,-1,[f])}this.dispatchCoEvent("open",b,b,[a])}}};b.prototype.closeNode=function(a){var b=this._openNodes.indexOf(a);if(-1!=b){var c=[];this.addChildren(a,c);this._openNodes.splice(b,1);b=this.nodeList.indexOf(a);if(-1!=b){for(b++;c.length;){var d=this.nodeList.splice(b,1)[0];this.dispatchCoEvent(e.CollectionEventKind.REMOVE,b,-1,[d]);c.shift()}b--;this.dispatchCoEvent(e.CollectionEventKind.CLOSE,
b,b,[a])}}};b.prototype.getDepth=function(a){var b=0;for(a=a[this.parentKey];a;)b++,a=a[this.parentKey];0<b&&!this._showRoot&&b--;return b};b.prototype.refresh=function(){this.nodeList=[];this._source&&(this._showRoot&&this.nodeList.push(this._source),this.addChildren(this._source,this.nodeList));this.dispatchCoEvent(e.CollectionEventKind.REFRESH)};b.prototype.dispatchCoEvent=function(a,b,c,d,f){"undefined"===typeof a&&(a=null);"undefined"===typeof b&&(b=-1);"undefined"===typeof c&&(c=-1);"undefined"===
typeof d&&(d=null);"undefined"===typeof f&&(f=null);e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,a,b,c,d,f)};b.assignParent=function(a,c,d){"undefined"===typeof c&&(c="children");"undefined"===typeof d&&(d="parent");if(a.hasOwnProperty(c))for(var e=a[c],f=e.length,h=0;h<f;h++){var m=e[h];try{m[d]=a}catch(q){}b.assignParent(m,c,d)}};return b}(d.EventDispatcher);e.ObjectCollection=f;f.prototype.__class__="egret.gui.ObjectCollection"})(d.gui||(d.gui={}))})(egret||
(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.targetLevel=Number.MAX_VALUE;this.updateCompleteQueue=new e.DepthQueue;this.invalidateClientPropertiesFlag=this.invalidatePropertiesFlag=!1;this.invalidatePropertiesQueue=new e.DepthQueue;this.invalidateClientSizeFlag=this.invalidateSizeFlag=!1;this.invalidateSizeQueue=new e.DepthQueue;this.invalidateDisplayListFlag=!1;this.invalidateDisplayListQueue=new e.DepthQueue;this.listenersAttached=!1}__extends(b,c);b.prototype.invalidateProperties=
function(a){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners());this.targetLevel<=a.nestLevel&&(this.invalidateClientPropertiesFlag=!0);this.invalidatePropertiesQueue.insert(a)};b.prototype.validateProperties=function(){for(var a=this.invalidatePropertiesQueue.shift();a;)a.parent&&(a.validateProperties(),a.updateCompletePendingFlag||(this.updateCompleteQueue.insert(a),a.updateCompletePendingFlag=!0)),a=this.invalidatePropertiesQueue.shift();
this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1)};b.prototype.invalidateSize=function(a){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners());this.targetLevel<=a.nestLevel&&(this.invalidateClientSizeFlag=!0);this.invalidateSizeQueue.insert(a)};b.prototype.validateSize=function(){for(var a=this.invalidateSizeQueue.pop();a;)a.parent&&(a.validateSize(),a.updateCompletePendingFlag||(this.updateCompleteQueue.insert(a),a.updateCompletePendingFlag=
!0)),a=this.invalidateSizeQueue.pop();this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1)};b.prototype.invalidateDisplayList=function(a){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners());this.invalidateDisplayListQueue.insert(a)};b.prototype.validateDisplayList=function(){for(var a=this.invalidateDisplayListQueue.shift();a;)a.parent&&(a.validateDisplayList(),a.updateCompletePendingFlag||(this.updateCompleteQueue.insert(a),
a.updateCompletePendingFlag=!0)),a=this.invalidateDisplayListQueue.shift();this.invalidateDisplayListQueue.isEmpty()&&(this.invalidateDisplayListFlag=!1)};b.prototype.attachListeners=function(){e.UIGlobals.stage.addEventListener(d.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this);e.UIGlobals.stage.addEventListener(d.Event.RENDER,this.doPhasedInstantiationCallBack,this);e.UIGlobals.stage.invalidate();this.listenersAttached=!0};b.prototype.doPhasedInstantiationCallBack=function(a){e.UIGlobals.stage.removeEventListener(d.Event.ENTER_FRAME,
this.doPhasedInstantiationCallBack,this);e.UIGlobals.stage.removeEventListener(d.Event.RENDER,this.doPhasedInstantiationCallBack,this);this.doPhasedInstantiation()};b.prototype.doPhasedInstantiation=function(){this.invalidatePropertiesFlag&&this.validateProperties();this.invalidateSizeFlag&&this.validateSize();this.invalidateDisplayListFlag&&this.validateDisplayList();if(this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag)this.attachListeners();else{this.listenersAttached=
!1;for(var a=this.updateCompleteQueue.pop();a;)a.initialized||(a.initialized=!0),a.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(a,e.UIEvent.UPDATE_COMPLETE),a.updateCompletePendingFlag=!1,a=this.updateCompleteQueue.pop();e.UIEvent.dispatchUIEvent(this,e.UIEvent.UPDATE_COMPLETE)}};b.prototype.validateNow=function(){for(var a=0;this.listenersAttached&&100>a++;)this.doPhasedInstantiationCallBack()};b.prototype.validateClient=function(a,b){"undefined"===typeof b&&(b=!1);var c,
d=!1,f=this.targetLevel;this.targetLevel==Number.MAX_VALUE&&(this.targetLevel=a.nestLevel);for(;!d;){d=!0;for(c=this.invalidatePropertiesQueue.removeSmallestChild(a);c;)c.parent&&(c.validateProperties(),c.updateCompletePendingFlag||(this.updateCompleteQueue.insert(c),c.updateCompletePendingFlag=!0)),c=this.invalidatePropertiesQueue.removeSmallestChild(a);this.invalidatePropertiesQueue.isEmpty()&&(this.invalidatePropertiesFlag=!1);this.invalidateClientPropertiesFlag=!1;for(c=this.invalidateSizeQueue.removeLargestChild(a);c;){c.parent&&
(c.validateSize(),c.updateCompletePendingFlag||(this.updateCompleteQueue.insert(c),c.updateCompletePendingFlag=!0));if(this.invalidateClientPropertiesFlag&&(c=this.invalidatePropertiesQueue.removeSmallestChild(a))){this.invalidatePropertiesQueue.insert(c);d=!1;break}c=this.invalidateSizeQueue.removeLargestChild(a)}this.invalidateSizeQueue.isEmpty()&&(this.invalidateSizeFlag=!1);this.invalidateClientSizeFlag=this.invalidateClientPropertiesFlag=!1;if(!b){for(c=this.invalidateDisplayListQueue.removeSmallestChild(a);c;){c.parent&&
(c.validateDisplayList(),c.updateCompletePendingFlag||(this.updateCompleteQueue.insert(c),c.updateCompletePendingFlag=!0));if(this.invalidateClientPropertiesFlag&&(c=this.invalidatePropertiesQueue.removeSmallestChild(a))){this.invalidatePropertiesQueue.insert(c);d=!1;break}if(this.invalidateClientSizeFlag&&(c=this.invalidateSizeQueue.removeLargestChild(a))){this.invalidateSizeQueue.insert(c);d=!1;break}c=this.invalidateDisplayListQueue.removeSmallestChild(a)}this.invalidateDisplayListQueue.isEmpty()&&
(this.invalidateDisplayListFlag=!1)}}if(f==Number.MAX_VALUE&&(this.targetLevel=Number.MAX_VALUE,!b))for(c=this.updateCompleteQueue.removeLargestChild(a);c;)c.initialized||(c.initialized=!0),c.hasEventListener(e.UIEvent.UPDATE_COMPLETE)&&e.UIEvent.dispatchUIEvent(c,e.UIEvent.UPDATE_COMPLETE),c.updateCompletePendingFlag=!1,c=this.updateCompleteQueue.removeLargestChild(a)};return b}(d.EventDispatcher);e.LayoutManager=f;f.prototype.__class__="egret.gui.LayoutManager"})(d.gui||(d.gui={}))})(egret||(egret=
{}));
(function(d){(function(e){var f=function(){function b(){this.depthBins=[];this.minDepth=0;this.maxDepth=-1}b.prototype.insert=function(a){var b=a.nestLevel,d=a.hashCode;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=b:(b<this.minDepth&&(this.minDepth=b),b>this.maxDepth&&(this.maxDepth=b));var e=this.depthBins[b];e?null==e.items[d]&&(e.items[d]=a,e.length++):(e=new c,this.depthBins[b]=e,e.items[d]=a,e.length++)};b.prototype.pop=function(){var a=null;if(this.minDepth<=this.maxDepth){for(var b=this.depthBins[this.maxDepth];!b||
0==b.length;){this.maxDepth--;if(this.maxDepth<this.minDepth)return null;b=this.depthBins[this.maxDepth]}var c=b.items,d;for(d in c){a=c[d];this.remove(a,this.maxDepth);break}for(;!b||0==b.length;){this.maxDepth--;if(this.maxDepth<this.minDepth)break;b=this.depthBins[this.maxDepth]}}return a};b.prototype.shift=function(){var a=null;if(this.minDepth<=this.maxDepth){for(var b=this.depthBins[this.minDepth];!b||0==b.length;){this.minDepth++;if(this.minDepth>this.maxDepth)return null;b=this.depthBins[this.minDepth]}var c=
b.items,d;for(d in c){a=c[d];this.remove(a,this.minDepth);break}for(;!b||0==b.length;){this.minDepth++;if(this.minDepth>this.maxDepth)break;b=this.depthBins[this.minDepth]}}return a};b.prototype.removeLargestChild=function(a){for(var b=this.maxDepth,c=a.nestLevel,e=a.hashCode;c<=b;){var f=this.depthBins[b];if(f&&0<f.length){if(b==a.nestLevel){if(f.items[e])return this.remove(a,b),a}else{var f=f.items,h;for(h in f){var m=f[h];if(m instanceof d.DisplayObject&&a instanceof d.DisplayObjectContainer&&
a.contains(m))return this.remove(m,b),m}}b--}else if(b==this.maxDepth&&this.maxDepth--,b--,b<c)break}return null};b.prototype.removeSmallestChild=function(a){for(var b=a.nestLevel,c=a.hashCode;b<=this.maxDepth;){var e=this.depthBins[b];if(e&&0<e.length){if(b==a.nestLevel){if(e.items[c])return this.remove(a,b),a}else{var e=e.items,f;for(f in e){var h=e[f];if(h instanceof d.DisplayObject&&a instanceof d.DisplayObjectContainer&&a.contains(h))return this.remove(h,b),h}}b++}else if(b==this.minDepth&&this.minDepth++,
b++,b>this.maxDepth)break}return null};b.prototype.remove=function(a,b){"undefined"===typeof b&&(b=-1);var c=a.hashCode,d=this.depthBins[0<=b?b:a.nestLevel];return d&&null!=d.items[c]?(delete d.items[c],d.length--,a):null};b.prototype.removeAll=function(){this.minDepth=this.depthBins.length=0;this.maxDepth=-1};b.prototype.isEmpty=function(){return this.minDepth>this.maxDepth};return b}();e.DepthQueue=f;f.prototype.__class__="egret.gui.DepthQueue";var c=function(){return function(){this.length=0;this.items=
[]}}();e.DepthBin=c;c.prototype.__class__="egret.gui.DepthBin"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(d){var f=function(){function c(){}Object.defineProperty(c,"stage",{get:function(){return c._stage},enumerable:!0,configurable:!0});c._initlize=function(b){c.initlized||(c._stage=b,c._layoutManager=new d.LayoutManager,c.initlized=!0)};Object.defineProperty(c,"uiStage",{get:function(){return c._uiStage},enumerable:!0,configurable:!0});c.initlized=!1;return c}();d.UIGlobals=f;f.prototype.__class__="egret.gui.UIGlobals"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.initializeCalled=this._initialized=this._updateCompletePendingFlag=!1;this._nestLevel=0;this._enabled=!0;this._minWidth=this._height=this._width=0;this._maxWidth=1E4;this._minHeight=0;this._maxHeight=1E4;this._measuredHeight=this._measuredWidth=0;this._validateNowFlag=this._invalidateDisplayListFlag=this._invalidateSizeFlag=this._invalidatePropertiesFlag=!1;this._includeInLayout=!0;this._layoutHeightExplicitlySet=this._layoutWidthExplicitlySet=
!1;this.touchEnabled=!0;this.addEventListener(d.Event.ADDED_TO_STAGE,this.onAddedToStage,this);this.addEventListener(d.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this)}__extends(b,c);b.prototype.onAddedToStage=function(a){this.removeEventListener(d.Event.ADDED_TO_STAGE,this.onAddedToStage,this);this._initialize();e.UIGlobals._initlize(this.stage);0<this._nestLevel&&this.checkInvalidateFlag()};Object.defineProperty(b.prototype,"id",{get:function(){return this._id},set:function(a){this._id=a},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"isPopUp",{get:function(){return this._isPopUp},set:function(a){this._isPopUp=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"owner",{get:function(){return this._owner?this._owner:this.parent},enumerable:!0,configurable:!0});b.prototype.ownerChanged=function(a){this._owner=a};Object.defineProperty(b.prototype,"updateCompletePendingFlag",{get:function(){return this._updateCompletePendingFlag},set:function(a){this._updateCompletePendingFlag=
a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"initialized",{get:function(){return this._initialized},set:function(a){this._initialized!=a&&(this._initialized=a)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.CREATION_COMPLETE)},enumerable:!0,configurable:!0});b.prototype._initialize=function(){this.initializeCalled||(e.UIGlobals.stage&&this.removeEventListener(d.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this.initializeCalled=!0,e.UIEvent.dispatchUIEvent(this,e.UIEvent.INITIALIZE),
this.createChildren(),this.childrenCreated())};b.prototype.createChildren=function(){};b.prototype.childrenCreated=function(){this.invalidateProperties();this.invalidateSize();this.invalidateDisplayList()};Object.defineProperty(b.prototype,"nestLevel",{get:function(){return this._nestLevel},set:function(a){if(this._nestLevel!=a)for(this._nestLevel=a,0==this._nestLevel?this.addEventListener(d.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,this):this.removeEventListener(d.Event.ADDED_TO_STAGE,this.checkInvalidateFlag,
this),a=this.numChildren-1;0<=a;a--){var b=this.getChildAt(a);null!=b&&(b.nestLevel=this._nestLevel+1)}},enumerable:!0,configurable:!0});b.prototype._addToDisplayList=function(a,b){"undefined"===typeof b&&(b=!0);var c=this.numChildren;a.parent==this&&c--;this._addingChild(a);this._doAddChild(a,c,b);this._childAdded(a);return a};b.prototype._addToDisplayListAt=function(a,b,c){"undefined"===typeof c&&(c=!0);this._addingChild(a);this._doAddChild(a,b,c);this._childAdded(a);return a};b.prototype._removeFromDisplayList=
function(a,b){"undefined"===typeof b&&(b=!0);var c=this._children.indexOf(a);if(0<=c)return this._doRemoveChild(c,b),this._childRemoved(a),a;d.Logger.fatal("child\u672a\u88abaddChild\u5230\u8be5parent");return null};b.prototype._removeFromDisplayListAt=function(a,b){"undefined"===typeof b&&(b=!0);if(0<=a&&a<this._children.length){var c=this._doRemoveChild(a,b);this._childRemoved(c);return c}d.Logger.fatal("\u63d0\u4f9b\u7684\u7d22\u5f15\u8d85\u51fa\u8303\u56f4");return null};b.prototype.addChild=
function(a){this._addingChild(a);c.prototype.addChild.call(this,a);this._childAdded(a);return a};b.prototype.addChildAt=function(a,b){this._addingChild(a);c.prototype.addChildAt.call(this,a,b);this._childAdded(a);return a};b.prototype._addingChild=function(a){a&&"nestLevel"in a&&(a.nestLevel=this._nestLevel+1)};b.prototype._childAdded=function(a){a instanceof b&&(a._initialize(),a.checkInvalidateFlag())};b.prototype.removeChild=function(a){c.prototype.removeChild.call(this,a);this._childRemoved(a);
return a};b.prototype.removeChildAt=function(a){a=c.prototype.removeChildAt.call(this,a);this._childRemoved(a);return a};b.prototype._childRemoved=function(a){a&&"nestLevel"in a&&(a.nestLevel=0)};b.prototype.checkInvalidateFlag=function(a){e.UIGlobals._layoutManager&&(this._invalidatePropertiesFlag&&e.UIGlobals._layoutManager.invalidateProperties(this),this._invalidateSizeFlag&&e.UIGlobals._layoutManager.invalidateSize(this),this._invalidateDisplayListFlag&&e.UIGlobals._layoutManager.invalidateDisplayList(this),
this._validateNowFlag&&(e.UIGlobals._layoutManager.validateClient(this),this._validateNowFlag=!1))};Object.defineProperty(b.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._enabled=a},enumerable:!0,configurable:!0});b.prototype._setWidth=function(a){if(this._width!=a||this._explicitWidth!=a)c.prototype._setWidth.call(this,a),isNaN(a)?this.invalidateSize():this._width=a,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()};
Object.defineProperty(b.prototype,"width",{get:function(){return this._width},set:function(a){this._setWidth(a)},enumerable:!0,configurable:!0});b.prototype._setHeight=function(a){if(this._height!=a||this._explicitHeight!=a)c.prototype._setHeight.call(this,a),isNaN(a)?this.invalidateSize():this._height=a,this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()};Object.defineProperty(b.prototype,"height",{get:function(){return this._height},set:function(a){this._setHeight(a)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"scaleX",{get:function(){return this._scaleX},set:function(a){this._setScaleX(a)},enumerable:!0,configurable:!0});b.prototype._setScaleX=function(a){this._scaleX!=a&&(this._scaleX=a,this.invalidateParentSizeAndDisplayList())};Object.defineProperty(b.prototype,"scaleY",{get:function(){return this._scaleY},set:function(a){this._setScaleY(a)},enumerable:!0,configurable:!0});b.prototype._setScaleY=function(a){this._scaleY!=a&&(this._scaleY=
a,this.invalidateParentSizeAndDisplayList())};Object.defineProperty(b.prototype,"minWidth",{get:function(){return this._minWidth},set:function(a){this._minWidth!=a&&(this._minWidth=a,this.invalidateSize())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(a){this._maxWidth!=a&&(this._maxWidth=a,this.invalidateSize())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"minHeight",{get:function(){return this._minHeight},
set:function(a){this._minHeight!=a&&(this._minHeight=a,this.invalidateSize())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"maxHeight",{get:function(){return this._maxHeight},set:function(a){this._maxHeight!=a&&(this._maxHeight=a,this.invalidateSize())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"measuredWidth",{get:function(){return this._measuredWidth},set:function(a){this._measuredWidth=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"measuredHeight",{get:function(){return this._measuredHeight},set:function(a){this._measuredHeight=a},enumerable:!0,configurable:!0});b.prototype.setActualSize=function(a,b){var c=!1;this._width!=a&&(this._width=a,c=!0);this._height!=b&&(this._height=b,c=!0);c&&(this.invalidateDisplayList(),this.dispatchResizeEvent())};Object.defineProperty(b.prototype,"x",{get:function(){return this._x},set:function(a){this._x!=a&&(this._x=a,this.invalidateProperties(),this._includeInLayout&&this.parent&&this.parent instanceof
b&&this.parent._childXYChanged())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"y",{get:function(){return this._y},set:function(a){this._y!=a&&(this._y=a,this.invalidateProperties(),this._includeInLayout&&this.parent&&this.parent instanceof b&&this.parent._childXYChanged())},enumerable:!0,configurable:!0});b.prototype.invalidateProperties=function(){this._invalidatePropertiesFlag||(this._invalidatePropertiesFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateProperties(this))};
b.prototype.validateProperties=function(){this._invalidatePropertiesFlag&&(this.commitProperties(),this._invalidatePropertiesFlag=!1)};b.prototype.invalidateSize=function(){this._invalidateSizeFlag||(this._invalidateSizeFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateSize(this))};b.prototype.validateSize=function(a){"undefined"===typeof a&&(a=!1);if(a)for(a=0;a<this.numChildren;a++){var b=this.getChildAt(a);"validateSize"in b&&b.validateSize(!0)}this._invalidateSizeFlag&&
(this.measureSizes()&&(this.invalidateDisplayList(),this.invalidateParentSizeAndDisplayList()),this._invalidateSizeFlag=!1)};b.prototype.measureSizes=function(){var a=!1;if(!this._invalidateSizeFlag)return a;this.canSkipMeasurement()||(this.measure(),this.measuredWidth<this.minWidth&&(this.measuredWidth=this.minWidth),this.measuredWidth>this.maxWidth&&(this.measuredWidth=this.maxWidth),this.measuredHeight<this.minHeight&&(this.measuredHeight=this.minHeight),this.measuredHeight>this.maxHeight&&(this.measuredHeight=
this.maxHeight));if(isNaN(this._oldPreferWidth))this._oldPreferWidth=this.preferredWidth,this._oldPreferHeight=this.preferredHeight,a=!0;else{if(this.preferredWidth!=this._oldPreferWidth||this.preferredHeight!=this._oldPreferHeight)a=!0;this._oldPreferWidth=this.preferredWidth;this._oldPreferHeight=this.preferredHeight}return a};b.prototype.invalidateDisplayList=function(){this._invalidateDisplayListFlag||(this._invalidateDisplayListFlag=!0,this.parent&&e.UIGlobals._layoutManager&&e.UIGlobals._layoutManager.invalidateDisplayList(this))};
b.prototype.validateDisplayList=function(){if(this._invalidateDisplayListFlag){var a=0,b=0,a=this._layoutWidthExplicitlySet?this._width:isNaN(this.explicitWidth)?this.measuredWidth:this._explicitWidth,b=this._layoutHeightExplicitlySet?this._height:isNaN(this.explicitHeight)?this.measuredHeight:this._explicitHeight;isNaN(a)&&(a=0);isNaN(b)&&(b=0);this.setActualSize(a,b);this.updateDisplayList(a,b);this._invalidateDisplayListFlag=!1}};b.prototype.validateNow=function(a){"undefined"===typeof a&&(a=!1);
this._validateNowFlag||null==e.UIGlobals._layoutManager?this._validateNowFlag=!0:e.UIGlobals._layoutManager.validateClient(this,a)};b.prototype.invalidateParentSizeAndDisplayList=function(){if(this.parent&&this._includeInLayout&&"invalidateSize"in this.parent){var a=this.parent;a.invalidateSize();a.invalidateDisplayList()}};b.prototype.updateDisplayList=function(a,b){};b.prototype.canSkipMeasurement=function(){return!isNaN(this._explicitWidth)&&!isNaN(this._explicitHeight)};b.prototype.commitProperties=
function(){this.oldWidth==this._width&&this.oldHeight==this._height||this.dispatchResizeEvent();this.oldX==this.x&&this.oldY==this.y||this.dispatchMoveEvent()};b.prototype.measure=function(){this._measuredWidth=this._measuredHeight=0};b.prototype.dispatchMoveEvent=function(){this.hasEventListener(e.MoveEvent.MOVE)&&e.MoveEvent.dispatchMoveEvent(this,this.oldX,this.oldY);this.oldX=this.x;this.oldY=this.y};b.prototype._childXYChanged=function(){};b.prototype.dispatchResizeEvent=function(){this.hasEventListener(e.ResizeEvent.RESIZE)&&
e.ResizeEvent.dispatchResizeEvent(this,this.oldWidth,this.oldHeight);this.oldWidth=this._width;this.oldHeight=this._height};Object.defineProperty(b.prototype,"includeInLayout",{get:function(){return this._includeInLayout},set:function(a){this._includeInLayout!=a&&(this._includeInLayout=!0,this.invalidateParentSizeAndDisplayList(),this._includeInLayout=a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"left",{get:function(){return this._left},set:function(a){this._left!=a&&(this._left=
a,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"right",{get:function(){return this._right},set:function(a){this._right!=a&&(this._right=a,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"top",{get:function(){return this._top},set:function(a){this._top!=a&&(this._top=a,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"bottom",{get:function(){return this._bottom},set:function(a){this._bottom!=a&&(this._bottom=a,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"horizontalCenter",{get:function(){return this._horizontalCenter},set:function(a){this._horizontalCenter!=a&&(this._horizontalCenter=a,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"verticalCenter",{get:function(){return this._verticalCenter},
set:function(a){this._verticalCenter!=a&&(this._verticalCenter=a,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"percentWidth",{get:function(){return this._percentWidth},set:function(a){this._percentWidth!=a&&(this._percentWidth=a,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"percentHeight",{get:function(){return this._percentHeight},set:function(a){this._percentHeight!=
a&&(this._percentHeight=a,this.invalidateParentSizeAndDisplayList())},enumerable:!0,configurable:!0});b.prototype.setLayoutBoundsSize=function(a,b){isNaN(a)?(this._layoutWidthExplicitlySet=!1,a=this.preferredWidth):this._layoutWidthExplicitlySet=!0;isNaN(b)?(this._layoutHeightExplicitlySet=!1,b=this.preferredHeight):this._layoutHeightExplicitlySet=!0;this.setActualSize(a/this._scaleX,b/this._scaleY)};b.prototype.setLayoutBoundsPosition=function(a,b){0>this._scaleX&&(a+=this.layoutBoundsWidth);0>this._scaleY&&
(b+=this.layoutBoundsHeight);var c=!1;this._x!=a&&(this._x=a,c=!0);this._y!=b&&(this._y=b,c=!0);c&&this.dispatchMoveEvent()};Object.defineProperty(b.prototype,"preferredWidth",{get:function(){var a=this._hasWidthSet?this._explicitWidth:this._measuredWidth,b=this._scaleX;0>b&&(b=-b);return a*b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"preferredHeight",{get:function(){var a=this._hasHeightSet?this._explicitHeight:this._measuredHeight,b=this._scaleY;0>b&&(b=-b);return a*b},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"preferredX",{get:function(){return 0<=this._scaleX?this._x:this._x-this.preferredWidth},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"preferredY",{get:function(){return 0<=this._scaleY?this._y:this._y-this.preferredHeight},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"layoutBoundsX",{get:function(){return 0<=this._scaleX?this._x:this._x-this.layoutBoundsWidth},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"layoutBoundsY",{get:function(){return 0<=this._scaleY?this._y:this._y-this.layoutBoundsHeight},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"layoutBoundsWidth",{get:function(){var a=0,a=this._layoutWidthExplicitlySet?this._width:this._hasWidthSet?this._explicitWidth:this._measuredWidth,b=this._scaleX;0>b&&(b=-b);return a*b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"layoutBoundsHeight",{get:function(){var a=0,a=this._layoutHeightExplicitlySet?
this._height:this._hasHeightSet?this._explicitHeight:this._measuredHeight,b=this.scaleY;0>b&&(b=-b);return a*b},enumerable:!0,configurable:!0});return b}(d.DisplayObjectContainer);e.UIComponent=f;f.prototype.__class__="egret.gui.UIComponent"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(d){var f=function(){function c(){}c.ABOVE="above";c.BELOW="below";c.CENTER="center";c.TOP_LEFT="topLeft";c.LEFT="left";c.RIGHT="right";return c}();d.PopUpPosition=f;f.prototype.__class__="egret.gui.PopUpPosition"})(d.gui||(d.gui={}))})(egret||(egret={}));(function(d){(function(d){var f=function(){function c(){}c.AUTO="auto";c.OFF="off";c.ON="on";return c}();d.ScrollPolicy=f;f.prototype.__class__="egret.gui.ScrollPolicy"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};(function(d){(function(e){var f=function(c){function b(a){"undefined"===typeof a&&(a=null);c.call(this);this.generator=a}__extends(b,c);b.prototype.newInstance=function(){return new this.generator};return b}(d.HashObject);e.ClassFactory=f;f.prototype.__class__="egret.gui.ClassFactory"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this)}__extends(b,c);b.prototype.initialize=function(a){};b.prototype.apply=function(a){};b.prototype.remove=function(a){};b.prototype.initializeFromObject=function(a){for(var b in a)this[b]=a[b];return this};return b}(d.HashObject);e.OverrideBase=f;f.prototype.__class__="egret.gui.OverrideBase"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(a,d,e,f){c.call(this);this.propertyName="";this.position=b.LAST;this.target=a;this.propertyName=d;this.position=e;this.relativeTo=f}__extends(b,c);b.prototype.initialize=function(a){if((a=a[this.target])&&!(a instanceof d.SkinnableComponent)&&"_initialize"in a)try{a._initialize()}catch(b){}};b.prototype.apply=function(a){var c,d;try{d=a[this.relativeTo]}catch(e){}var f=a[this.target];a=this.propertyName?a[this.propertyName]:a;if(f&&a){switch(this.position){case b.FIRST:c=
0;break;case b.LAST:c=-1;break;case b.BEFORE:c=a.getElementIndex(d);break;case b.AFTER:c=a.getElementIndex(d)+1}-1==c&&(c=a.numElements);a.addElementAt(f,c)}};b.prototype.remove=function(a){var b=null==this.propertyName||""==this.propertyName?a:a[this.propertyName];(a=a[this.target])&&b&&-1!=b.getElementIndex(a)&&b.removeElement(a)};b.FIRST="first";b.LAST="last";b.BEFORE="before";b.AFTER="after";return b}(d.OverrideBase);d.AddItems=f;f.prototype.__class__="egret.gui.AddItems"})(d.gui||(d.gui={}))})(egret||
(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(a,b,d){c.call(this);this.target=a;this.name=b;this.value=d}__extends(b,c);b.prototype.apply=function(a){a=null==this.target||""==this.target?a:a[this.target];null!=a&&(this.oldValue=a[this.name],this.setPropertyValue(a,this.name,this.value,this.oldValue))};b.prototype.remove=function(a){a=null==this.target||""==this.target?a:a[this.target];null!=a&&(this.setPropertyValue(a,this.name,this.oldValue,this.oldValue),this.oldValue=null)};b.prototype.setPropertyValue=
function(a,b,c,d){a[b]=void 0===c||null===c?c:"boolean"==typeof d?this.toBoolean(c):c};b.prototype.toBoolean=function(a){return"string"==typeof a?"true"==a.toLowerCase():!1!=a};return b}(d.OverrideBase);d.SetProperty=f;f.prototype.__class__="egret.gui.SetProperty"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b){c.call(this);this.initialized=!1;this.name=a;this.overrides=b}__extends(b,c);b.prototype.initialize=function(a){if(!this.initialized){this.initialized=!0;for(var b=0;b<this.overrides.length;b++)this.overrides[b].initialize(a)}};return b}(d.HashObject);e.State=f;f.prototype.__class__="egret.gui.State"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(d){var f=function(){function c(){}c.adjustRelativeByXY=function(b,a){"undefined"===typeof a&&(a=null);if(b&&(a||(a=b.parent),a)){var c=b.x,d=b.y,e=b.layoutBoundsHeight,f=b.layoutBoundsWidth,h=a.width,m=a.height;isNaN(b.left)||(b.left=c);isNaN(b.right)||(b.right=h-c-f);isNaN(b.horizontalCenter)||(b.horizontalCenter=c+0.5*f-0.5*h);isNaN(b.top)||(b.top=d);isNaN(b.bottom)||(b.bottom=m-d-e);isNaN(b.verticalCenter)||(b.verticalCenter=0.5*e-0.5*m+d)}};return c}();d.LayoutUtil=f;f.prototype.__class__=
"egret.gui.LayoutUtil"})(d.gui||(d.gui={}))})(egret||(egret={}));(function(d){(function(e){var f={};e.getScale9Grid=function(c){if(f[c])return f[c];if(!c)return null;var b=c.split(","),b=new d.Rectangle(parseInt(b[0]),parseInt(b[1]),parseInt(b[2]),parseInt(b[3]));return f[c]=b}})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b){"undefined"===typeof b&&(b=!0);c.call(this);this.fillMode="scale";this.contentReused=this.createChildrenCalled=this.sourceChanged=!1;this.autoScale=!0;this.touchChildren=!1;a&&(this.source=a);this.autoScale=b}__extends(b,c);Object.defineProperty(b.prototype,"source",{get:function(){return this._source},set:function(a){this._source!=a&&(this._source=a,this.createChildrenCalled?this.parseSource():this.sourceChanged=!0)},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0});b.prototype.createChildren=function(){c.prototype.createChildren.call(this);this.sourceChanged&&this.parseSource();this.createChildrenCalled=!0};b.prototype.parseSource=function(){this.sourceChanged=!1;var a=b.assetAdapter;a||(a=this.getAdapter());if(this._source){var c=this.contentReused?null:this._content;this.contentReused=!0;a.getAsset(this._source,this.contentChanged,this,c)}else this.contentChanged(null,
null)};b.prototype.getAdapter=function(){var a;try{a=d.Injector.getInstance("egret.gui.IAssetAdapter")}catch(c){a=new e.DefaultAssetAdapter}return b.assetAdapter=a};b.prototype.contentChanged=function(a,b){if(b===this._source){var c=this._content;this._content=a;c!==a&&(c instanceof d.DisplayObject&&this._removeFromDisplayList(c),a instanceof d.DisplayObject&&this._addToDisplayListAt(a,0));this.invalidateSize();this.invalidateDisplayList();this.contentReused=!1;this.hasEventListener(e.UIEvent.CONTENT_CHANGED)&&
e.UIEvent.dispatchUIEvent(this,e.UIEvent.CONTENT_CHANGED)}};b.prototype.measure=function(){c.prototype.measure.call(this);var a=this._content;a instanceof d.DisplayObject?"preferredWidth"in a?(this.measuredWidth=a.preferredWidth,this.measuredHeight=a.preferredHeight):(this.measuredWidth=a.width*a.scaleX,this.measuredHeight=a.height*a.scaleY):a instanceof d.Texture&&(this.measuredWidth=a._textureWidth,this.measuredHeight=a._textureHeight)};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,
a,b);var e=this._content;this.autoScale&&e instanceof d.DisplayObject&&("setLayoutBoundsSize"in e?e.setLayoutBoundsSize(a,b):(e.width=a/e.scaleX,e.height=b/e.scaleY))};b.prototype._render=function(a){if(this._content instanceof d.Texture){var b=this._content;this._texture_to_render=b;var e;this.autoScale?(e=this._width,b=this._height):(e=b.textureWidth,b=b.textureHeight);d.Bitmap._drawBitmap(a,e,b,this)}else this._texture_to_render=null;c.prototype._render.call(this,a)};b.prototype._measureBounds=
function(){var a=c.prototype._measureBounds.call(this);if(this._content instanceof d.Texture){var b=this._content,e=this.width,f=this.height,l=Math.floor(b._offsetX*e/b._textureWidth),b=Math.floor(b._offsetY*f/b._textureHeight);l<a.x&&(a.x=l);b<a.y&&(a.y=b);l+e>a.right&&(a.right=l+e);b+f>a.bottom&&(a.bottom=b+f)}return a};b.prototype.addChild=function(a){throw Error("addChild()"+b.errorStr+"addElement()\u4ee3\u66ff");};b.prototype.addChildAt=function(a,c){throw Error("addChildAt()"+b.errorStr+"addElementAt()\u4ee3\u66ff");
};b.prototype.removeChild=function(a){throw Error("removeChild()"+b.errorStr+"removeElement()\u4ee3\u66ff");};b.prototype.removeChildAt=function(a){throw Error("removeChildAt()"+b.errorStr+"removeElementAt()\u4ee3\u66ff");};b.prototype.setChildIndex=function(a,c){throw Error("setChildIndex()"+b.errorStr+"setElementIndex()\u4ee3\u66ff");};b.prototype.swapChildren=function(a,c){throw Error("swapChildren()"+b.errorStr+"swapElements()\u4ee3\u66ff");};b.prototype.swapChildrenAt=function(a,c){throw Error("swapChildrenAt()"+
b.errorStr+"swapElementsAt()\u4ee3\u66ff");};b.errorStr="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";return b}(e.UIComponent);e.UIAsset=f;f.prototype.__class__="egret.gui.UIAsset"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.hostComponentKey="egret.gui.SkinnableComponent";this.stateIsDirty=this.createChildrenCalled=this._skinNameExplicitlySet=!1;this.explicitMouseEnabled=this.explicitMouseChildren=this._autoMouseEnabled=!0}__extends(b,c);Object.defineProperty(b.prototype,"skinName",{get:function(){return this._skinName},set:function(a){this._skinName!=a&&(this._skinName=a,this._skinNameExplicitlySet=!0,this.createChildrenCalled&&this.parseSkinName())},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"skin",{get:function(){return this._skin},enumerable:!0,configurable:!0});b.prototype.createChildren=function(){c.prototype.createChildren.call(this);this.parseSkinName();this.createChildrenCalled=!0};b.prototype.parseSkinName=function(){var a=b.skinAdapter;a||(a=this.getSkinAdapter());var a=a.getSkin(this._skinName,this.hostComponentKey),c=this._skin;this.detachSkin(c);c instanceof d.DisplayObject&&this._removeFromDisplayList(c);this._skin=
a;a instanceof d.DisplayObject&&this._addToDisplayListAt(this._skin,0);this.attachSkin(a);this.invalidateSkinState();this.invalidateSize();this.invalidateDisplayList();this.hasEventListener(e.UIEvent.SKIN_CHANGED)&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.SKIN_CHANGED)};b.prototype.getSkinAdapter=function(){var a;try{a=d.Injector.getInstance("egret.gui.ISkinAdapter")}catch(c){a=new e.DefaultSkinAdapter}return b.skinAdapter=a};b.prototype.attachSkin=function(a){a&&"hostComponent"in a&&(a.hostComponent=
this,this.findSkinParts());a&&"hostComponent"in a&&a instanceof d.DisplayObject?this._setSkinLayoutEnabled(!1):this._setSkinLayoutEnabled(!0)};b.prototype.findSkinParts=function(){var a=this._skin;if(a&&"skinParts"in a)for(var b=a.skinParts,c=b.length,d=0;d<c;d++){var e=b[d];if(e in a)try{this[e]=a[e],this.partAdded(e,a[e])}catch(f){}}};b.prototype.detachSkin=function(a){if(a&&"skinParts"in a){for(var b=a.skinParts,c=b.length,d=0;d<c;d++){var e=b[d];e in this&&(null!=this[e]&&this.partRemoved(e,this[e]),
this[e]=null)}a.hostComponent=null}};b.prototype.partAdded=function(a,b){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_ADDED,a,b)};b.prototype.partRemoved=function(a,b){e.SkinPartEvent.dispatchSkinPartEvent(this,e.SkinPartEvent.PART_REMOVED,a,b)};b.prototype.invalidateSkinState=function(){this.stateIsDirty||(this.stateIsDirty=!0,this.invalidateProperties())};b.prototype.validateSkinState=function(){var a=this.getCurrentSkinState(),b=this._skin;b&&"currentState"in b&&(b.currentState=
a);this.hasEventListener("stateChanged")&&this.dispatchEventWith("stateChanged")};Object.defineProperty(b.prototype,"autoTouchEnabled",{get:function(){return this._autoMouseEnabled},set:function(a){this._autoMouseEnabled!=a&&((this._autoMouseEnabled=a)?(this._touchChildren=this.enabled?this.explicitMouseChildren:!1,this._touchEnabled=this.enabled?this.explicitMouseEnabled:!1):(this._touchChildren=this.explicitMouseChildren,this._touchEnabled=this.explicitMouseEnabled))},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"touchChildren",{get:function(){return this._touchChildren},set:function(a){this.enabled&&(this._touchChildren=a);this.explicitMouseChildren=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"touchEnabled",{get:function(){return this._touchEnabled},set:function(a){this.enabled&&(this._touchEnabled=a);this.explicitMouseEnabled=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"enabled",{get:function(){return this._enabled},set:function(a){this._setEnabled(a)},
enumerable:!0,configurable:!0});b.prototype._setEnabled=function(a){this._enabled!=a&&(this._enabled=a,this._autoMouseEnabled&&(this._touchChildren=a?this.explicitMouseChildren:!1,this._touchEnabled=a?this.explicitMouseEnabled:!1),this.invalidateSkinState())};b.prototype.getCurrentSkinState=function(){return this.enabled?"normal":"disabled"};b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this.stateIsDirty&&(this.stateIsDirty=!1,this.validateSkinState())};b.prototype._setSkinLayoutEnabled=
function(a){null!=this.skinLayout!=a&&(a?(this.skinLayout=new e.SkinBasicLayout,this.skinLayout.target=this):this.skinLayout=this.skinLayout.target=null,this.invalidateSize(),this.invalidateDisplayList())};b.prototype._childXYChanged=function(){this.skinLayout&&(this.invalidateSize(),this.invalidateDisplayList())};b.prototype.measure=function(){c.prototype.measure.call(this);var a=this._skin;if(a){var b=a instanceof d.DisplayObject;b&&(a&&"preferredWidth"in a?(this.measuredWidth=a.preferredWidth,
this.measuredHeight=a.preferredHeight):(this.measuredWidth=a.width,this.measuredHeight=a.height));this.skinLayout&&this.skinLayout.measure();if(!b){var b=this.measuredWidth,e=this.measuredHeight;try{isNaN(a.width)||(b=Math.ceil(a.width)),isNaN(a.height)||(e=Math.ceil(a.height)),a.hasOwnProperty("minWidth")&&b<a.minWidth&&(b=a.minWidth),a.hasOwnProperty("maxWidth")&&b>a.maxWidth&&(b=a.maxWidth),a.hasOwnProperty("minHeight")&&e<a.minHeight&&(e=a.minHeight),a.hasOwnProperty("maxHeight")&&e>a.maxHeight&&
(e=a.maxHeight),this.measuredWidth=b,this.measuredHeight=e}catch(f){}}}};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b);var e=this._skin;e&&("setLayoutBoundsSize"in e?e.setLayoutBoundsSize(a,b):e instanceof d.DisplayObject&&(e.scaleX=0==e.width?1:a/e.width,e.scaleY=0==e.height?1:b/e.height));this.skinLayout&&this.skinLayout.updateDisplayList(a,b)};b.prototype.addChild=function(a){throw Error("addChild()"+b.errorStr+"addElement()\u4ee3\u66ff");};b.prototype.addChildAt=
function(a,c){throw Error("addChildAt()"+b.errorStr+"addElementAt()\u4ee3\u66ff");};b.prototype.removeChild=function(a){throw Error("removeChild()"+b.errorStr+"removeElement()\u4ee3\u66ff");};b.prototype.removeChildAt=function(a){throw Error("removeChildAt()"+b.errorStr+"removeElementAt()\u4ee3\u66ff");};b.prototype.setChildIndex=function(a,c){throw Error("setChildIndex()"+b.errorStr+"setElementIndex()\u4ee3\u66ff");};b.prototype.swapChildren=function(a,c){throw Error("swapChildren()"+b.errorStr+
"swapElements()\u4ee3\u66ff");};b.prototype.swapChildrenAt=function(a,c){throw Error("swapChildrenAt()"+b.errorStr+"swapElementsAt()\u4ee3\u66ff");};b.errorStr="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";return b}(e.UIComponent);e.SkinnableComponent=f;f.prototype.__class__="egret.gui.SkinnableComponent"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(e){var f=function(){function c(){}c.prototype.getSkin=function(b,a){if(!b)return null;if(b.prototype)return new b;if("string"==typeof b){var c=d.getDefinitionByName(b);return c?new c:null}return b};return c}();e.DefaultSkinAdapter=f;f.prototype.__class__="egret.gui.DefaultSkinAdapter"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(e){var f=function(){function c(){}c.prototype.getAsset=function(b,a,c,e){var f=b;b.prototype&&(f=new b);if(f instanceof d.DisplayObject||f instanceof d.Texture)a.call(c,f,b);else if("string"==typeof b){var l=new d.URLLoader;l.dataFormat=d.URLLoaderDataFormat.TEXTURE;l.addEventListener(d.Event.COMPLETE,function(d){f=l.data;a.call(c,f,b)},this);l.load(new d.URLRequest(b))}else a.call(c,f,b)};return c}();e.DefaultAssetAdapter=f;f.prototype.__class__="egret.gui.DefaultAssetAdapter"})(d.gui||
(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this)}__extends(b,c);Object.defineProperty(b.prototype,"target",{get:function(){return this._target},set:function(a){this._target=a},enumerable:!0,configurable:!0});b.prototype.measure=function(){if(null!=this.target){for(var a=0,b=0,c=this._target.skin,d=this.target.numChildren,e=0;e<d;e++){var f=this.target.getChildAt(e);if(f&&f!=c&&f.includeInLayout){var m=f.horizontalCenter,q=f.verticalCenter,s=f.left,r=f.right,p=f.top,t=f.bottom;
isNaN(s)||isNaN(r)?isNaN(m)?isNaN(s)&&isNaN(r)?m=f.preferredX:(m=isNaN(s)?0:s,m+=isNaN(r)?0:r):m=2*Math.abs(m):m=s+r;isNaN(p)||isNaN(t)?isNaN(q)?isNaN(p)&&isNaN(t)?q=f.preferredY:(q=isNaN(p)?0:p,q+=isNaN(t)?0:t):q=2*Math.abs(q):q=p+t;t=f.preferredHeight;a=Math.ceil(Math.max(a,m+f.preferredWidth));b=Math.ceil(Math.max(b,q+t))}}this.target.measuredWidth=Math.max(a,this.target.measuredWidth);this.target.measuredHeight=Math.max(b,this.target.measuredHeight)}};b.prototype.updateDisplayList=function(a,
b){if(null!=this.target)for(var c=this.target.numChildren,d=this._target.skin,e=0;e<c;e++){var f=this.target.getChildAt(e);if(null!=f&&f!=d&&f.includeInLayout){var m=f.horizontalCenter,q=f.verticalCenter,s=f.left,r=f.right,p=f.top,t=f.bottom,D=f.percentWidth,A=f.percentHeight,y=NaN,C=NaN;isNaN(s)||isNaN(r)?isNaN(D)||(y=Math.round(a*Math.min(0.01*D,1))):y=a-r-s;isNaN(p)||isNaN(t)?isNaN(A)||(C=Math.round(b*Math.min(0.01*A,1))):C=b-t-p;f.setLayoutBoundsSize(y,C);D=f.layoutBoundsWidth;A=f.layoutBoundsHeight;
C=y=NaN;y=isNaN(m)?isNaN(s)?isNaN(r)?f.layoutBoundsX:a-D-r:s:Math.round((a-D)/2+m);C=isNaN(q)?isNaN(p)?isNaN(t)?f.layoutBoundsY:b-A-t:p:Math.round((b-A)/2+q);f.setLayoutBoundsPosition(y,C)}}};return b}(d.HashObject);e.SkinBasicLayout=f;f.prototype.__class__="egret.gui.SkinBasicLayout"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._autoRepeat=this._downEventFired=!1;this._repeatInterval=this._repeatDelay=35;this._keepDown=this._hovered=!1;this._label="";this.touchChildren=this._stickyHighlighting=this._mouseCaptured=!1;this.addHandlers()}__extends(b,c);Object.defineProperty(b.prototype,"autoRepeat",{get:function(){return this._autoRepeat},set:function(a){a!=this._autoRepeat&&(this._autoRepeat=a,this.checkAutoRepeatTimerConditions(this.isDown()))},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"repeatDelay",{get:function(){return this._repeatDelay},set:function(a){this._repeatDelay=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"repeatInterval",{get:function(){return this._repeatInterval},set:function(a){this._repeatInterval=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hovered",{get:function(){return this._hovered},set:function(a){a!=this._hovered&&(this._hovered=a,this.invalidateSkinState(),
this.checkButtonDownConditions())},enumerable:!0,configurable:!0});b.prototype._setKeepDown=function(a){this._keepDown!=a&&(this._keepDown=a,this.invalidateSkinState())};Object.defineProperty(b.prototype,"label",{get:function(){return this._getLabel()},set:function(a){this._setLabel(a)},enumerable:!0,configurable:!0});b.prototype._getLabel=function(){return this.labelDisplay?this.labelDisplay.text:this._label};b.prototype._setLabel=function(a){this._label=a;this.labelDisplay&&(this.labelDisplay.text=
a)};Object.defineProperty(b.prototype,"mouseCaptured",{get:function(){return this._mouseCaptured},set:function(a){a!=this._mouseCaptured&&(this._mouseCaptured=a,this.invalidateSkinState(),a||this.removeStageMouseHandlers(),this.checkButtonDownConditions())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stickyHighlighting",{get:function(){return this._stickyHighlighting},set:function(a){a!=this._stickyHighlighting&&(this._stickyHighlighting=a,this.invalidateSkinState(),this.checkButtonDownConditions())},
enumerable:!0,configurable:!0});b.prototype.checkButtonDownConditions=function(){var a=this.isDown();this._downEventFired!=a&&(a&&e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN),this._downEventFired=a,this.checkAutoRepeatTimerConditions(a))};b.prototype.addHandlers=function(){this.addEventListener(d.TouchEvent.TOUCH_ROLL_OVER,this.mouseEventHandler,this);this.addEventListener(d.TouchEvent.TOUCH_ROLL_OUT,this.mouseEventHandler,this);this.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.mouseEventHandler,
this);this.addEventListener(d.TouchEvent.TOUCH_END,this.mouseEventHandler,this);this.addEventListener(d.TouchEvent.TOUCH_TAP,this.mouseEventHandler,this)};b.prototype.addStageMouseHandlers=function(){e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);e.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)};b.prototype.removeStageMouseHandlers=function(){e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,
this);e.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)};b.prototype.isDown=function(){return this.enabled?this.mouseCaptured&&(this.hovered||this.stickyHighlighting)?!0:!1:!1};b.prototype.checkAutoRepeatTimerConditions=function(a){a=this.autoRepeat&&a;a!=(null!=this.autoRepeatTimer)&&(a?this.startTimer():this.stopTimer())};b.prototype.startTimer=function(){this.autoRepeatTimer=new d.Timer(1);this.autoRepeatTimer.delay=this._repeatDelay;this.autoRepeatTimer.addEventListener(d.TimerEvent.TIMER,
this.autoRepeat_timerDelayHandler,this);this.autoRepeatTimer.start()};b.prototype.stopTimer=function(){this.autoRepeatTimer.stop();this.autoRepeatTimer=null};b.prototype.mouseEventHandler=function(a){switch(a.type){case d.TouchEvent.TOUCH_ROLL_OVER:if(a.touchDown&&!this.mouseCaptured)break;this.hovered=!0;break;case d.TouchEvent.TOUCH_ROLL_OUT:this.hovered=!1;break;case d.TouchEvent.TOUCH_BEGIN:this.addStageMouseHandlers();d.InteractionMode.mode==d.InteractionMode.TOUCH&&(this.hovered=!0);this.mouseCaptured=
!0;break;case d.TouchEvent.TOUCH_END:a.target==this&&(this.hovered=!0,this.mouseCaptured&&(this.buttonReleased(),this.mouseCaptured=!1));break;case d.TouchEvent.TOUCH_TAP:this.enabled?this.clickHandler(a):a.stopImmediatePropagation()}};b.prototype.buttonReleased=function(){};b.prototype.clickHandler=function(a){};b.prototype.stage_mouseUpHandler=function(a){a.target!=this&&(this.mouseCaptured=!1)};b.prototype.autoRepeat_timerDelayHandler=function(a){this.autoRepeatTimer.reset();this.autoRepeatTimer.removeEventListener(d.TimerEvent.TIMER,
this.autoRepeat_timerDelayHandler,this);this.autoRepeatTimer.delay=this._repeatInterval;this.autoRepeatTimer.addEventListener(d.TimerEvent.TIMER,this.autoRepeat_timerHandler,this);this.autoRepeatTimer.start()};b.prototype.autoRepeat_timerHandler=function(a){e.UIEvent.dispatchUIEvent(this,e.UIEvent.BUTTON_DOWN)};b.prototype.getCurrentSkinState=function(){return this.enabled?this.isDown()||this._keepDown?"down":d.InteractionMode.mode==d.InteractionMode.MOUSE&&(this.hovered||this.mouseCaptured)?"over":
"up":c.prototype.getCurrentSkinState.call(this)};b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.labelDisplay&&(this.labelDisplay.text=this._label)};return b}(e.SkinnableComponent);e.ButtonBase=f;f.prototype.__class__="egret.gui.ButtonBase"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._autoSelected=!0}__extends(b,c);Object.defineProperty(b.prototype,"selected",{get:function(){return this._selected},set:function(a){this._setSelected(a)},enumerable:!0,configurable:!0});b.prototype._setSelected=function(a){a!=this._selected&&(this._selected=a,e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),this.invalidateSkinState())};b.prototype.getCurrentSkinState=function(){return this.selected?c.prototype.getCurrentSkinState.call(this)+
"AndSelected":c.prototype.getCurrentSkinState.call(this)};b.prototype.buttonReleased=function(){c.prototype.buttonReleased.call(this);this._autoSelected&&this.enabled&&(this.selected=!this.selected,this.dispatchEventWith(d.Event.CHANGE))};return b}(e.ButtonBase);e.ToggleButtonBase=f;f.prototype.__class__="egret.gui.ToggleButtonBase"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._fontFamily="SimSun";this._size=30;this._textAlign=d.HorizontalAlign.LEFT;this._verticalAlign=d.VerticalAlign.TOP;this._lineSpacing=0;this._textColor=16777215;this._text=""}__extends(b,c);Object.defineProperty(b.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(a){this._fontFamily!=a&&(this._fontFamily=a,this.fontFamilyChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"size",{get:function(){return this._size},set:function(a){this._size!=a&&(this._size=a,this.sizeChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"bold",{get:function(){return this._bold},set:function(a){this._bold!=a&&(this._bold=a,this.boldChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"italic",{get:function(){return this._italic},set:function(a){this._italic!=a&&(this._italic=a,this.italicChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"textAlign",{get:function(){return this._textAlign},set:function(a){this._textAlign!=a&&(this._textAlign=a,this.textAlignChanged=!0,this.invalidateProperties(),this.invalidateSize(),
this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(a){this._verticalAlign!=a&&(this._verticalAlign=a,this.verticalAlignChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(a){this._lineSpacing!=a&&(this._lineSpacing=
a,this.lineSpacingChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"textColor",{get:function(){return this._textColor},set:function(a){this._textColor!=a&&(this._textColor=a,this.textColorChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"text",{get:function(){return this._text},set:function(a){a!=this._text&&(this._text=a,this._textChanged=
!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});b.prototype.createChildren=function(){c.prototype.createChildren.call(this);this._textField||this.checkTextField()};b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this._textField||this.checkTextField();this.fontFamilyChanged&&(this._textField.fontFamily=this._fontFamily,this.fontFamilyChanged=!1);this.sizeChanged&&(this._textField.size=this._size,this.sizeChanged=
!1);this.boldChanged&&(this._textField.bold=this._bold,this.boldChanged=!1);this.italic&&(this._textField.italic=this._italic,this.italicChanged=!1);this.textAlignChanged&&(this._textField.textAlign=this._textAlign,this.textAlignChanged=!1);this.verticalAlignChanged&&(this._textField.verticalAlign=this._verticalAlign,this.verticalAlignChanged=!1);this.lineSpacingChanged&&(this._textField.lineSpacing=this._lineSpacing,this.lineSpacingChanged=!1);this.textColorChanged&&(this._textField.textColor=this._textColor,
this.textColorChanged=!1);this._textChanged&&(this._textField.text=this._text,this._textChanged=!1)};b.prototype.checkTextField=function(){this._textField||(this.createTextField(),this._textField.text=this._text,this._textChanged=!0,this.invalidateProperties())};b.prototype.createTextField=function(){this._textField=new d.TextField;this._textField.fontFamily=this._fontFamily;this._textField.size=this._size;this._textField.textAlign=this._textAlign;this._textField.verticalAlign=this._verticalAlign;
this._textField.lineSpacing=this._lineSpacing;this._textField.textColor=this._textColor;this._addToDisplayList(this._textField)};b.prototype.measure=function(){c.prototype.measure.call(this);this.measuredWidth=b.DEFAULT_MEASURED_WIDTH;this.measuredHeight=b.DEFAULT_MEASURED_HEIGHT};b.prototype.$updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b)};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b);this._textField.width=a;this._textField.height=
b};b.DEFAULT_MEASURED_WIDTH=160;b.DEFAULT_MEASURED_HEIGHT=22;return b}(e.UIComponent);e.TextBase=f;f.prototype.__class__="egret.gui.TextBase"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._contentHeight=this._contentWidth=0;this._clipAndEnableScrolling=!1;this._verticalScrollPosition=this._horizontalScrollPosition=0;this.touchEnabled=this._layoutInvalidateSizeFlag=this._layoutInvalidateDisplayListFlag=!1}__extends(b,c);b.prototype.createChildren=function(){c.prototype.createChildren.call(this);this._layout||(this.layout=new e.BasicLayout)};Object.defineProperty(b.prototype,"contentWidth",{get:function(){return this._contentWidth},
enumerable:!0,configurable:!0});b.prototype.setContentWidth=function(a){if(a!=this._contentWidth){var b=this._contentWidth;this._contentWidth=a;this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentWidth",b,a,this)}};Object.defineProperty(b.prototype,"contentHeight",{get:function(){return this._contentHeight},enumerable:!0,configurable:!0});b.prototype.setContentHeight=function(a){if(a!=this._contentHeight){var b=this._contentHeight;
this._contentHeight=a;this.hasEventListener("propertyChange")&&e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"contentHeight",b,a,this)}};b.prototype.setContentSize=function(a,b){if(a!=this._contentWidth||b!=this._contentHeight)this.setContentWidth(a),this.setContentHeight(b)};Object.defineProperty(b.prototype,"layout",{get:function(){return this._layout},set:function(a){this._setLayout(a)},enumerable:!0,configurable:!0});b.prototype._setLayout=function(a){if(this._layout!=
a){this._layout&&(this._layout.target=null);if(this._layout=a)this._layout.target=this;this.invalidateSize();this.invalidateDisplayList();this.dispatchEventWith("layoutChanged")}};Object.defineProperty(b.prototype,"clipAndEnableScrolling",{get:function(){return this._clipAndEnableScrolling},set:function(a){a!=this._clipAndEnableScrolling&&(this.scrollRect=(this._clipAndEnableScrolling=a)?new d.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,this.width,this.height):null)},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"horizontalScrollPosition",{get:function(){return this._horizontalScrollPosition},set:function(a){if(a!=this._horizontalScrollPosition){var b=this._horizontalScrollPosition;this._horizontalScrollPosition=a;this.scrollPositionChanged();e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"horizontalScrollPosition",b,a,this)}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"verticalScrollPosition",
{get:function(){return this._verticalScrollPosition},set:function(a){if(a!=this._verticalScrollPosition){var b=this._verticalScrollPosition;this._verticalScrollPosition=a;this.scrollPositionChanged();e.PropertyChangeEvent.dispatchPropertyChangeEvent(this,e.PropertyChangeEventKind.UPDATE,"verticalScrollPosition",b,a,this)}},enumerable:!0,configurable:!0});b.prototype.scrollPositionChanged=function(){this._clipAndEnableScrolling&&(this.updateScrollRect(this.width,this.height),this._invalidateDisplayListExceptLayout(),
this._layout&&this._layout.scrollPositionChanged())};b.prototype.updateScrollRect=function(a,b){var c=this._scrollRect;this._clipAndEnableScrolling?c?(c.x=this._horizontalScrollPosition,c.y=this._verticalScrollPosition,c.width=a,c.height=b):this._scrollRect=new d.Rectangle(this._horizontalScrollPosition,this._verticalScrollPosition,a,b):c&&(this._scrollRect=null)};b.prototype.measure=function(){this._layout&&this._layoutInvalidateSizeFlag&&(c.prototype.measure.call(this),this._layout.measure())};
b.prototype._invalidateDisplayListExceptLayout=function(){c.prototype.invalidateDisplayList.call(this)};b.prototype.invalidateDisplayList=function(){c.prototype.invalidateDisplayList.call(this);this._layoutInvalidateDisplayListFlag=!0};b.prototype._childXYChanged=function(){this.invalidateSize();this.invalidateDisplayList()};b.prototype._invalidateSizeExceptLayout=function(){c.prototype.invalidateSize.call(this)};b.prototype.invalidateSize=function(){c.prototype.invalidateSize.call(this);this._layoutInvalidateSizeFlag=
!0};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b);this._layoutInvalidateDisplayListFlag&&this._layout&&(this._layoutInvalidateDisplayListFlag=!1,this._layout.updateDisplayList(a,b),this.updateScrollRect(a,b))};Object.defineProperty(b.prototype,"numElements",{get:function(){return-1},enumerable:!0,configurable:!0});b.prototype.getElementAt=function(a){return null};b.prototype.getElementIndex=function(a){return-1};b.prototype.getElementIndicesInView=function(){var a=
[],b;if(this.scrollRect)for(b=0;b<this.numChildren;b++){var c=this.getChildAt(b);if(c){var e=new d.Rectangle;e.x=c.layoutBoundsX;e.y=c.layoutBoundsY;e.width=c.layoutBoundsWidth;e.height=c.layoutBoundsHeight;this.scrollRect.intersects(e)&&a.push(b)}}else for(b=0;b<this.numChildren;b++)a.push(b);return a};b.prototype.setVirtualElementIndicesInView=function(a,b){};b.prototype.getVirtualElementAt=function(a){return this.getElementAt(a)};return b}(e.UIComponent);e.GroupBase=f;f.prototype.__class__="egret.gui.GroupBase"})(d.gui||
(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._selected=this.dataChangedFlag=!1;this._itemIndex=-1;this.touchChildren=!0}__extends(b,c);Object.defineProperty(b.prototype,"data",{get:function(){return this._data},set:function(a){this._data=a;this.initialized||this.parent?(this.dataChangedFlag=!1,this.dataChanged()):(this.dataChangedFlag=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});b.prototype.dataChanged=function(){};Object.defineProperty(b.prototype,
"selected",{get:function(){return this._selected},set:function(a){this._selected!=a&&(this._selected=a,this.invalidateSkinState())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"itemIndex",{get:function(){return this._itemIndex},set:function(a){this._itemIndex=a},enumerable:!0,configurable:!0});b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this.dataChangedFlag&&(this.dataChangedFlag=!1,this.dataChanged())};b.prototype.getCurrentSkinState=function(){return this._selected?
"down":c.prototype.getCurrentSkinState.call(this)};return b}(d.ButtonBase);d.ItemRenderer=f;f.prototype.__class__="egret.gui.ItemRenderer"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._indentation=17;this._depth=0;this._isOpen=this._hasChildren=!1;this.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.onItemMouseDown,this,!1,1E3)}__extends(b,c);b.prototype.onItemMouseDown=function(a){a.target==this.disclosureButton&&a.stopImmediatePropagation()};Object.defineProperty(b.prototype,"indentation",{get:function(){return this._indentation},set:function(a){this._indentation=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"iconSkinName",{get:function(){return this._iconSkinName},set:function(a){this._iconSkinName!=a&&(this._iconSkinName=a,this.iconDisplay&&(this.iconDisplay.source=this._iconSkinName))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"depth",{get:function(){return this._depth},set:function(a){a!=this._depth&&(this._depth=a,this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasChildren",{get:function(){return this._hasChildren},
set:function(a){this._hasChildren!=a&&(this._hasChildren=a,this.disclosureButton&&(this.disclosureButton.visible=this._hasChildren))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"opened",{get:function(){return this._isOpen},set:function(a){this._isOpen!=a&&(this._isOpen=a,this.disclosureButton&&(this.disclosureButton.selected=this._isOpen))},enumerable:!0,configurable:!0});b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.iconDisplay?this.iconDisplay.source=
this._iconSkinName:b==this.disclosureButton?(this.disclosureButton.visible=this._hasChildren,this.disclosureButton.selected=this._isOpen,this.disclosureButton._autoSelected=!1,this.disclosureButton.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this)):b==this.contentGroup&&(this.contentGroup.x=this._depth*this._indentation)};b.prototype.partRemoved=function(a,b){c.prototype.partRemoved.call(this,a,b);b==this.iconDisplay?this.iconDisplay.source=null:b==this.disclosureButton&&
(this.disclosureButton.removeEventListener(d.TouchEvent.TOUCH_BEGIN,this.disclosureButton_mouseDownHandler,this),this.disclosureButton._autoSelected=!0,this.disclosureButton.visible=!0)};b.prototype.disclosureButton_mouseDownHandler=function(a){e.TreeEvent.dispatchTreeEvent(this,e.TreeEvent.ITEM_OPENING,this.itemIndex,this.data,this,!this._isOpen)};return b}(e.ItemRenderer);e.TreeItemRenderer=f;f.prototype.__class__="egret.gui.TreeItemRenderer"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(e){var f=function(){function c(b,a){this.easerFunction=d.Ease.sineInOut;this._duration=500;this._startDelay=0;this._repeatCount=1;this._repeatDelay=0;this.motionPaths=[];this._currentValue={};this.pauseTime=0;this._isPaused=!1;this.startTime=0;this._started=!1;this.playedTimes=0;this.updateFunction=b;this.thisObject=a}Object.defineProperty(c.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"duration",
{get:function(){return this._duration},set:function(b){this._duration=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"startDelay",{get:function(){return this._startDelay},set:function(b){this._startDelay=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"repeatCount",{get:function(){return this._repeatCount},set:function(b){this._repeatCount=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"repeatDelay",{get:function(){return this._repeatDelay},
set:function(b){this._repeatDelay=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"currentValue",{get:function(){return this._currentValue},enumerable:!0,configurable:!0});c.prototype.play=function(){this.stopAnimation();this.start()};c.prototype.seek=function(b){b=Math.min(b,this.duration);this.caculateCurrentValue(b/this.duration);this.startTime=d.getTimer()-b-this._startDelay;null!=this.updateFunction&&this.updateFunction.call(this.thisObject,this)};c.prototype.start=function(){this.playedTimes=
0;this._started=!0;this._isPlaying=!1;this._currentValue={};this.caculateCurrentValue(0);this.startTime=d.getTimer();c.currentTime=this.startTime;this.doInterval();c.addAnimation(this)};c.prototype.end=function(){this._started||(this.caculateCurrentValue(0),null!=this.startFunction&&this.startFunction.call(this.thisObject,this),null!=this.updateFunction&&this.updateFunction.call(this.thisObject,this));this.caculateCurrentValue(1);null!=this.updateFunction&&this.updateFunction.call(this.thisObject,
this);this.stopAnimation();null!=this.endFunction&&this.endFunction.call(this.thisObject,this)};c.prototype.stop=function(){this.stopAnimation();null!=this.stopFunction&&this.stopFunction.call(this.thisObject,this)};c.prototype.stopAnimation=function(){this.playedTimes=0;this._isPlaying=!1;this.startTime=0;this._started=!1;c.removeAnimation(this)};Object.defineProperty(c.prototype,"isPaused",{get:function(){return this._isPaused},enumerable:!0,configurable:!0});c.prototype.pause=function(){this._started&&
(this._isPaused=!0,this.pauseTime=d.getTimer(),this._isPlaying=!1,c.removeAnimation(this))};c.prototype.resume=function(){this._started&&this._isPaused&&(this._isPaused=!1,this.startTime+=d.getTimer()-this.pauseTime,this.pauseTime=-1,c.addAnimation(this))};Object.defineProperty(c.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0});c.prototype.doInterval=function(){var b=c.currentTime-this.startTime-(0<this.playedTimes?this._repeatDelay:this._startDelay);if(0>
b)return!1;this._isPlaying||(this._isPlaying=!0,0==this.playedTimes&&null!=this.startFunction&&this.startFunction.call(this.thisObject,this));var a=0==this._duration?1:Math.min(b,this._duration)/this._duration;this.caculateCurrentValue(a);null!=this.updateFunction&&this.updateFunction.call(this.thisObject,this);if(b=b>=this._duration)this.playedTimes++,this._isPlaying=!1,this.startTime=c.currentTime,0==this._repeatCount||this.playedTimes<this._repeatCount?b=!1:(c.removeAnimation(this),this._started=
!1,this.playedTimes=0);b&&null!=this.endFunction&&this.endFunction.call(this.thisObject,this);return b};c.prototype.caculateCurrentValue=function(b){this.easerFunction&&(b=this.easerFunction(b));for(var a=this.motionPaths,c=a.length,d=0;d<c;d++){var e=a[d];this.currentValue[e.prop]=e.from+(e.to-e.from)*b}};c.addAnimation=function(b){-1==c.activeAnimations.indexOf(b)&&(c.activeAnimations.push(b),c.registered||(c.registered=!0,d.Ticker.getInstance().register(c.onEnterFrame,null)))};c.removeAnimation=
function(b){b=c.activeAnimations.indexOf(b);-1!=b&&(c.activeAnimations.splice(b,1),b<=c.currentIntervalIndex&&c.currentIntervalIndex--);0==c.activeAnimations.length&&c.registered&&(c.registered=!1,d.Ticker.getInstance().unregister(c.onEnterFrame,null))};c.onEnterFrame=function(b,a){c.currentTime=d.getTimer();for(c.currentIntervalIndex=0;c.currentIntervalIndex<c.activeAnimations.length;)c.activeAnimations[c.currentIntervalIndex].doInterval(),c.currentIntervalIndex++;c.currentIntervalIndex=-1;0==c.activeAnimations.length&&
c.registered&&(c.registered=!1,d.Ticker.getInstance().unregister(c.onEnterFrame,null))};c.currentTime=0;c.TIMER_RESOLUTION=1E3/60;c.activeAnimations=[];c.currentIntervalIndex=-1;return c}();e.Animation=f;f.prototype.__class__="egret.gui.Animation"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._maximum=100;this.maxChanged=!1;this._minimum=0;this.minChanged=!1;this._stepSize=1;this.stepSizeChanged=!1;this._changedValue=this._value=0;this.valueChanged=!1;this._snapInterval=1;this._explicitSnapInterval=this.snapIntervalChanged=!1}__extends(b,c);Object.defineProperty(b.prototype,"maximum",{get:function(){return this._maximum},set:function(a){this._setMaximun(a)},enumerable:!0,configurable:!0});b.prototype._setMaximun=
function(a){a!=this._maximum&&(this._maximum=a,this.maxChanged=!0,this.invalidateProperties())};Object.defineProperty(b.prototype,"minimum",{get:function(){return this._minimum},set:function(a){this._setMinimun(a)},enumerable:!0,configurable:!0});b.prototype._setMinimun=function(a){a!=this._minimum&&(this._minimum=a,this.minChanged=!0,this.invalidateProperties())};Object.defineProperty(b.prototype,"stepSize",{get:function(){return this._stepSize},set:function(a){a!=this._stepSize&&(this._stepSize=
a,this.stepSizeChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"value",{get:function(){return this._getValue()},set:function(a){this._setValue(a)},enumerable:!0,configurable:!0});b.prototype._setValue=function(a){a!=this.value&&(this._changedValue=a,this.valueChanged=!0,this.invalidateProperties())};b.prototype._getValue=function(){return this.valueChanged?this._changedValue:this._value};Object.defineProperty(b.prototype,"snapInterval",{get:function(){return this._snapInterval},
set:function(a){this._explicitSnapInterval=!0;a!=this._snapInterval&&(isNaN(a)?(this._snapInterval=1,this._explicitSnapInterval=!1):this._snapInterval=a,this.stepSizeChanged=this.snapIntervalChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this.minimum>this.maximum&&(this.maxChanged?this._maximum=this._minimum:this._minimum=this._maximum);if(this.valueChanged||this.maxChanged||this.minChanged||
this.snapIntervalChanged){var a=this.valueChanged?this._changedValue:this._value;this.snapIntervalChanged=this.minChanged=this.maxChanged=this.valueChanged=!1;this.setValue(this.nearestValidValue(a,this.snapInterval))}this.stepSizeChanged&&(this._explicitSnapInterval?this._stepSize=this.nearestValidSize(this._stepSize):(this._snapInterval=this._stepSize,this.setValue(this.nearestValidValue(this._value,this.snapInterval))),this.stepSizeChanged=!1)};b.prototype.nearestValidSize=function(a){var b=this.snapInterval;
if(0==b)return a;a=Math.round(a/b)*b;return Math.abs(a)<b?b:a};b.prototype.nearestValidValue=function(a,b){if(0==b)return Math.max(this.minimum,Math.min(this.maximum,a));var c=this.maximum-this.minimum,d=1;a-=this.minimum;b!=Math.round(b)&&(d=(1+b).toString().split("."),d=Math.pow(10,d[1].length),c*=d,a=Math.round(a*d),b=Math.round(b*d));var e=Math.max(0,Math.floor(a/b)*b),c=Math.min(c,Math.floor((a+b)/b)*b);return(a-e>=(c-e)/2?c:e)/d+this.minimum};b.prototype.setValue=function(a){this._value!=a&&
(isNaN(a)&&(a=0),!isNaN(this.maximum)&&!isNaN(this.minimum)&&this.maximum>this.minimum?this._value=Math.min(this.maximum,Math.max(this.minimum,a)):this._value=a,this.valueChanged=!1)};b.prototype.changeValueByStep=function(a){"undefined"===typeof a&&(a=!0);0!=this.stepSize&&this.setValue(this.nearestValidValue(a?this.value+this.stepSize:this.value-this.stepSize,this.snapInterval))};return b}(d.SkinnableComponent);d.Range=f;f.prototype.__class__="egret.gui.Range"})(d.gui||(d.gui={}))})(egret||(egret=
{}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._slideDuration=300;this.needUpdateValue=!1;this.addEventListener(d.Event.ADDED_TO_STAGE,this.addedToStageHandler,this);this.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.mouseDownHandler,this)}__extends(b,c);Object.defineProperty(b.prototype,"slideDuration",{get:function(){return this._slideDuration},set:function(a){this._slideDuration=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"maximum",{get:function(){return this._maximum},
set:function(a){a!=this._maximum&&(this._setMaximun(a),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"minimum",{get:function(){return this._minimum},set:function(a){a!=this._minimum&&(this._setMinimun(a),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"value",{get:function(){return this._getValue()},set:function(a){a!=this._getValue()&&(this._setValue(a),this.invalidateDisplayList())},enumerable:!0,
configurable:!0});b.prototype.setValue=function(a){c.prototype.setValue.call(this,a);this.invalidateDisplayList()};b.prototype.pointToValue=function(a,b){return this.minimum};b.prototype.changeValueByStep=function(a){"undefined"===typeof a&&(a=!0);var b=this.value;c.prototype.changeValueByStep.call(this,a);this.value!=b&&this.dispatchEventWith(d.Event.CHANGE)};b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.thumb?(this.thumb.addEventListener(d.TouchEvent.TOUCH_BEGIN,
this.thumb_mouseDownHandler,this),this.thumb.addEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.addEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this),this.thumb.stickyHighlighting=!0):b==this.track&&(this.track.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.addEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))};b.prototype.partRemoved=function(a,b){c.prototype.partRemoved.call(this,a,b);
b==this.thumb?(this.thumb.removeEventListener(d.TouchEvent.TOUCH_BEGIN,this.thumb_mouseDownHandler,this),this.thumb.removeEventListener(e.ResizeEvent.RESIZE,this.thumb_resizeHandler,this),this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,this)):b==this.track&&(this.track.removeEventListener(d.TouchEvent.TOUCH_BEGIN,this.track_mouseDownHandler,this),this.track.removeEventListener(e.ResizeEvent.RESIZE,this.track_resizeHandler,this))};b.prototype.updateDisplayList=
function(a,b){c.prototype.updateDisplayList.call(this,a,b);this.updateSkinDisplayList()};b.prototype.updateSkinDisplayList=function(){};b.prototype.addedToStageHandler=function(a){this.updateSkinDisplayList()};b.prototype.track_resizeHandler=function(a){this.updateSkinDisplayList()};b.prototype.thumb_resizeHandler=function(a){this.updateSkinDisplayList()};b.prototype.thumb_updateCompleteHandler=function(a){this.updateSkinDisplayList();this.thumb.removeEventListener(e.UIEvent.UPDATE_COMPLETE,this.thumb_updateCompleteHandler,
this)};b.prototype.thumb_mouseDownHandler=function(a){e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this);e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);e.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this);this.addEventListener(d.Event.ENTER_FRAME,this.onEnterFrame,this);a=this.thumb.globalToLocal(a.stageX,a.stageY,d.Point.identity);this._clickOffsetX=a.x;this._clickOffsetY=a.y;e.TrackBaseEvent.dispatchTrackBaseEvent(this,
e.TrackBaseEvent.THUMB_PRESS);e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START)};b.prototype.onEnterFrame=function(a){this.needUpdateValue&&this.track&&(this.updateWhenMouseMove(),this.needUpdateValue=!1)};b.prototype.updateWhenMouseMove=function(){if(this.track){var a=this.track.globalToLocal(this._moveStageX,this._moveStageY,d.Point.identity),a=this.pointToValue(a.x-this._clickOffsetX,a.y-this._clickOffsetY),a=this.nearestValidValue(a,this.snapInterval);a!=this.value&&(this.setValue(a),this.validateDisplayList(),
e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),this.dispatchEventWith(d.Event.CHANGE))}};b.prototype.stage_mouseMoveHandler=function(a){this._moveStageX=a.stageX;this._moveStageY=a.stageY;this.needUpdateValue||(this.needUpdateValue=!0)};b.prototype.stage_mouseUpHandler=function(a){e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this);e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);e.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,
this.stage_mouseUpHandler,this);this.removeEventListener(d.Event.ENTER_FRAME,this.updateWhenMouseMove,this);this.needUpdateValue&&(this.updateWhenMouseMove(),this.needUpdateValue=!1);e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_RELEASE);e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)};b.prototype.track_mouseDownHandler=function(a){};b.prototype.mouseDownHandler=function(a){e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this);
e.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this);this.mouseDownTarget=a.target};b.prototype.stage_mouseUpSomewhereHandler=function(a){e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpSomewhereHandler,this);e.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpSomewhereHandler,this);if(this.mouseDownTarget!=a.target&&a instanceof d.TouchEvent&&this.contains(a.target)){var b=a.target.localToGlobal(a.localX,
a.localY);d.TouchEvent.dispatchTouchEvent(this,d.TouchEvent.TOUCH_TAP,a.touchPointID,b.x,b.y,a.ctrlKey,a.altKey,a.shiftKey,a.touchDown)}this.mouseDownTarget=null};return b}(e.Range);e.TrackBase=f;f.prototype.__class__="egret.gui.TrackBase"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._showTrackHighlight=!0;this._pendingValue=0;this._liveDragging=!0;this.maximum=10}__extends(b,c);Object.defineProperty(b.prototype,"showTrackHighlight",{get:function(){return this._showTrackHighlight},set:function(a){this._showTrackHighlight!=a&&(this._showTrackHighlight=a,this.trackHighlight&&(this.trackHighlight.visible=a),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"pendingValue",
{get:function(){return this._pendingValue},set:function(a){a!=this._pendingValue&&(this._pendingValue=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});b.prototype.setValue=function(a){this._pendingValue=a;c.prototype.setValue.call(this,a)};b.prototype.animationUpdateHandler=function(a){this.pendingValue=a.currentValue.value};b.prototype.animationEndHandler=function(a){this.setValue(this.slideToValue);this.dispatchEventWith(d.Event.CHANGE);e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)};
b.prototype.stopAnimation=function(){this.animator.stop();this.setValue(this.nearestValidValue(this.pendingValue,this.snapInterval));this.dispatchEventWith(d.Event.CHANGE);e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_END)};b.prototype.thumb_mouseDownHandler=function(a){this.animator&&this.animator.isPlaying&&this.stopAnimation();c.prototype.thumb_mouseDownHandler.call(this,a)};Object.defineProperty(b.prototype,"liveDragging",{get:function(){return this._liveDragging},set:function(a){this._liveDragging=
a},enumerable:!0,configurable:!0});b.prototype.updateWhenMouseMove=function(){if(this.track){var a=this.track.globalToLocal(this._moveStageX,this._moveStageY,d.Point.identity),a=this.pointToValue(a.x-this._clickOffsetX,a.y-this._clickOffsetY),a=this.nearestValidValue(a,this.snapInterval);a!=this.pendingValue&&(e.TrackBaseEvent.dispatchTrackBaseEvent(this,e.TrackBaseEvent.THUMB_DRAG),!0==this.liveDragging?(this.setValue(a),this.dispatchEventWith(d.Event.CHANGE)):this.pendingValue=a)}};b.prototype.stage_mouseUpHandler=
function(a){c.prototype.stage_mouseUpHandler.call(this,a);!1==this.liveDragging&&this.value!=this.pendingValue&&(this.setValue(this.pendingValue),this.dispatchEventWith(d.Event.CHANGE))};b.prototype.track_mouseDownHandler=function(a){this.enabled&&(a=this.track.globalToLocal(a.stageX-(this.thumb?this.thumb.width:0)/2,a.stageY-(this.thumb?this.thumb.height:0)/2,d.Point.identity),a=this.pointToValue(a.x,a.y),a=this.nearestValidValue(a,this.snapInterval),a!=this.pendingValue&&(0!=this.slideDuration?
(this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this),this.animator.endFunction=this.animationEndHandler),this.animator.isPlaying&&this.stopAnimation(),this.slideToValue=a,this.animator.duration=this.slideDuration*(Math.abs(this.pendingValue-this.slideToValue)/(this.maximum-this.minimum)),this.animator.motionPaths=[{prop:"value",from:this.pendingValue,to:this.slideToValue}],e.UIEvent.dispatchUIEvent(this,e.UIEvent.CHANGE_START),this.animator.play()):(this.setValue(a),this.dispatchEventWith(d.Event.CHANGE))))};
b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.trackHighlight&&(this.trackHighlight.touchEnabled=!1,this.trackHighlight instanceof d.DisplayObjectContainer&&(this.trackHighlight.touchChildren=!1),this.trackHighlight.visible=this._showTrackHighlight)};return b}(e.TrackBase);e.SliderBase=f;f.prototype.__class__="egret.gui.SliderBase"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._maxDisplayedLines=0;this.lastUnscaledWidth=NaN;this._padding=0;this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN;this.addEventListener(d.UIEvent.UPDATE_COMPLETE,this.updateCompleteHandler,this)}__extends(b,c);b.prototype.updateCompleteHandler=function(a){this.lastUnscaledWidth=NaN};Object.defineProperty(b.prototype,"maxDisplayedLines",{get:function(){return this._maxDisplayedLines},set:function(a){this._maxDisplayedLines!=
a&&(this._maxDisplayedLines=a,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"padding",{get:function(){return this._padding},set:function(a){this._padding!=a&&(this._padding=a,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){this._paddingLeft!=a&&(this._paddingLeft=a,this.invalidateSize(),
this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){this._paddingRight!=a&&(this._paddingRight=a,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){this._paddingTop!=a&&(this._paddingTop=a,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(a){this._paddingBottom!=a&&(this._paddingBottom=a,this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});b.prototype.measure=function(){this._invalidatePropertiesFlag&&this.validateProperties();if(this.isSpecialCase())if(isNaN(this.lastUnscaledWidth))this._oldPreferHeight=this._oldPreferWidth=NaN;else{this.measureUsingWidth(this.lastUnscaledWidth);
return}var a;isNaN(this.explicitWidth)?1E4!=this.maxWidth&&(a=this.maxWidth):a=this.explicitWidth;this.measureUsingWidth(a)};b.prototype.isSpecialCase=function(){return 1!=this._maxDisplayedLines&&(!isNaN(this.percentWidth)||!isNaN(this.left)&&!isNaN(this.right))&&isNaN(this.explicitHeight)&&isNaN(this.percentHeight)};b.prototype.measureUsingWidth=function(a){var b=this._textField.text;this._textChanged&&(this._textField.text=this._text);var c=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?
c:this._paddingLeft,e=isNaN(this._paddingRight)?c:this._paddingRight,f=isNaN(this._paddingTop)?c:this._paddingTop,c=isNaN(this._paddingBottom)?c:this._paddingBottom;this._textField.width=NaN;this._textField.height=NaN;isNaN(a)||(this._textField.width=a-d-e);this.measuredWidth=Math.ceil(this._textField.measuredWidth);this.measuredHeight=Math.ceil(this._textField.measuredHeight);0<this._maxDisplayedLines&&this._textField.numLines>this._maxDisplayedLines&&(a=this._textField.lineSpacing,this.measuredHeight=
(this._textField.size+a)*this._maxDisplayedLines-a);this.measuredWidth+=d+e;this.measuredHeight+=f+c;this._textField.text=b};b.prototype.updateDisplayList=function(a,b){this.$updateDisplayList(a,b);var c=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?c:this._paddingLeft,e=isNaN(this._paddingRight)?c:this._paddingRight,f=isNaN(this._paddingTop)?c:this._paddingTop,c=isNaN(this._paddingBottom)?c:this._paddingBottom;this._textField.x=d;this._textField.y=f;if(this.isSpecialCase()){var m=
isNaN(this.lastUnscaledWidth)||this.lastUnscaledWidth!=a;this.lastUnscaledWidth=a;if(m){this._oldPreferHeight=this._oldPreferWidth=NaN;this.invalidateSize();return}}this._invalidateSizeFlag&&this.validateSize();this._textField.visible||(this._textField.visible=!0);this._textField.width=a-d-e;d=b-f-c;this._textField.height=d;0<this._maxDisplayedLines&&this._textField.numLines>this._maxDisplayedLines&&(e=this._textField.lineSpacing,this._textField.height=Math.min(d,(this._textField.size+e)*this._maxDisplayedLines-
e))};return b}(d.TextBase);d.Label=f;f.prototype.__class__="egret.gui.Label"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._fillColor=16777215;this._fillAlpha=1;this._strokeColor=4473924;this._strokeAlpha=0;this._strokeWeight=1;this.touchChildren=!1}__extends(b,c);Object.defineProperty(b.prototype,"graphics",{get:function(){this._graphics||(this._graphics=new d.Graphics);return this._graphics},enumerable:!0,configurable:!0});b.prototype._render=function(a){this._graphics&&this._graphics._draw(a);c.prototype._render.call(this,a)};Object.defineProperty(b.prototype,
"fillColor",{get:function(){return this._fillColor},set:function(a){this._fillColor!=a&&(this._fillColor=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fillAlpha",{get:function(){return this._fillAlpha},set:function(a){this._fillAlpha!=a&&(this._fillAlpha=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"strokeColor",{get:function(){return this._strokeColor},set:function(a){this._strokeColor!=a&&
(this._strokeColor=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"strokeAlpha",{get:function(){return this._strokeAlpha},set:function(a){this._strokeAlpha!=a&&(this._strokeAlpha=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"strokeWeight",{get:function(){return this._strokeWeight},set:function(a){this._strokeWeight!=a&&(this._strokeWeight=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});
b.prototype._measureBounds=function(){var a=c.prototype._measureBounds.call(this),b=this.width,d=this.height;0<a.x&&(a.x=0);0<a.y&&(a.y=0);0+b>a.right&&(a.right=0+b);0+d>a.bottom&&(a.bottom=0+d);return a};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,a);var d=this.graphics;d.clear();d.beginFill(this._fillColor,this._fillAlpha);0<this._strokeAlpha&&d.lineStyle(this._strokeWeight,this._strokeColor,this._strokeAlpha,!0,"normal","square","miter");d.drawRect(0,0,
a,b);d.endFill()};return b}(e.UIComponent);e.Rect=f;f.prototype.__class__="egret.gui.Rect"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this.hostComponentKey="egret.gui.Button"}__extends(b,c);return b}(d.ButtonBase);d.Button=f;f.prototype.__class__="egret.gui.Button"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this.hostComponentKey="egret.gui.ToggleButton"}__extends(b,c);return b}(d.ToggleButtonBase);d.ToggleButton=f;f.prototype.__class__="egret.gui.ToggleButton"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this.hostComponentKey="egret.gui.CheckBox"}__extends(b,c);return b}(d.ToggleButtonBase);d.CheckBox=f;f.prototype.__class__="egret.gui.CheckBox"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.radioButtons=[];this._enabled=!0;this._name="_radioButtonGroup"+b.groupCount;b.groupCount++}__extends(b,c);Object.defineProperty(b.prototype,"enabled",{get:function(){return this._enabled},set:function(a){if(this._enabled!=a)for(this._enabled=a,a=0;a<this.numRadioButtons;a++)this.getRadioButtonAt(a).invalidateSkinState()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"numRadioButtons",{get:function(){return this.radioButtons.length},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedValue",{get:function(){return this.selection?null!=this.selection.value?this.selection.value:this.selection.label:null},set:function(a){this._selectedValue=a;if(null==a)this._setSelection(null,!1);else for(var b=this.numRadioButtons,c=0;c<b;c++){var d=this.getRadioButtonAt(c);if(d.value==a||d.label==a){this.changeSelection(c,!1);this._selectedValue=null;e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT);break}}},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"selection",{get:function(){return this._selection},set:function(a){this._selection!=a&&this._setSelection(a,!1)},enumerable:!0,configurable:!0});b.prototype.getRadioButtonAt=function(a){return 0<=a&&a<this.numRadioButtons?this.radioButtons[a]:null};b.prototype._addInstance=function(a){function b(a,c){var d=a.parent,f=c.parent;if(!d||!f)return 0;var k=a instanceof e.UIComponent?a.nestLevel:-1,s=c instanceof e.UIComponent?c.nestLevel:-1,r=0,p=0;d==
f&&(r="getElementIndex"in d&&"ownerChanged"in a?d.getElementIndex(a):d.getChildIndex(a),p="getElementIndex"in f&&"ownerChanged"in c?f.getElementIndex(c):f.getChildIndex(c));return k>s||r>p?1:k<s||p>r?-1:a==c?0:b(d,f)}a.addEventListener(d.Event.REMOVED,this.radioButton_removedHandler,this);this.radioButtons.push(a);this.radioButtons.sort(b);for(var c=0;c<this.radioButtons.length;c++)this.radioButtons[c]._indexNumber=c;this._selectedValue&&(this.selectedValue=this._selectedValue);!0==a.selected&&(this.selection=
a);a._radioButtonGroup=this;a.invalidateSkinState();this.dispatchEventWith("numRadioButtonsChanged")};b.prototype._removeInstance=function(a){this.doRemoveInstance(a,!1)};b.prototype.doRemoveInstance=function(a,b){"undefined"===typeof b&&(b=!0);if(a){for(var c=!1,e=0;e<this.numRadioButtons;e++){var f=this.getRadioButtonAt(e);c?f._indexNumber-=1:f==a&&(b&&a.addEventListener(d.Event.ADDED,this.radioButton_addedHandler,this),a==this._selection&&(this._selection=null),a._radioButtonGroup=null,a.invalidateSkinState(),
this.radioButtons.splice(e,1),c=!0,e--)}c&&this.dispatchEventWith("numRadioButtonsChanged")}};b.prototype._setSelection=function(a,b){"undefined"===typeof b&&(b=!0);if(this._selection!=a){if(a)for(var c=this.numRadioButtons,f=0;f<c;f++){if(a==this.getRadioButtonAt(f)){this.changeSelection(f,b);break}}else this.selection&&(this._selection.selected=!1,this._selection=null,b&&this.dispatchEventWith(d.Event.CHANGE));e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT)}};b.prototype.changeSelection=
function(a,b){"undefined"===typeof b&&(b=!0);var c=this.getRadioButtonAt(a);c&&c!=this._selection&&(this._selection&&(this._selection.selected=!1),this._selection=c,this._selection.selected=!0,b&&this.dispatchEventWith(d.Event.CHANGE))};b.prototype.radioButton_addedHandler=function(a){if(a=a.target)a.removeEventListener(d.Event.ADDED,this.radioButton_addedHandler,this),this._addInstance(a)};b.prototype.radioButton_removedHandler=function(a){if(a=a.target)a.removeEventListener(d.Event.REMOVED,this.radioButton_removedHandler,
this),this.doRemoveInstance(a)};b.groupCount=0;return b}(d.EventDispatcher);e.RadioButtonGroup=f;f.prototype.__class__="egret.gui.RadioButtonGroup"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._indexNumber=0;this._radioButtonGroup=null;this.groupChanged=!1;this._groupName="radioGroup";this.hostComponentKey="egret.gui.RadioButton";this.groupName="radioGroup"}__extends(b,c);Object.defineProperty(b.prototype,"enabled",{get:function(){return this._enabled?!this._radioButtonGroup||this._radioButtonGroup.enabled:!1},set:function(a){this._setEnabled(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"group",{get:function(){if(!this._group&&this._groupName){b.automaticRadioButtonGroups||(b.automaticRadioButtonGroups={});var a=b.automaticRadioButtonGroups[this._groupName];a||(a=new d.RadioButtonGroup,a._name=this._groupName,b.automaticRadioButtonGroups[this._groupName]=a);this._group=a}return this._group},set:function(a){this._group!=a&&(this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._groupName=(this._group=a)?this.group._name:"radioGroup",this.groupChanged=!0,this.invalidateProperties(),
this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"groupName",{get:function(){return this._groupName},set:function(a){a&&""!=a&&(this._groupName=a,this._radioButtonGroup&&this._radioButtonGroup._removeInstance(this),this._group=null,this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});b.prototype._setSelected=function(a){c.prototype._setSelected.call(this,a);this.invalidateDisplayList()};Object.defineProperty(b.prototype,
"value",{get:function(){return this._value},set:function(a){this._value!=a&&(this._value=a,this.selected&&this.group&&d.UIEvent.dispatchUIEvent(this.group,d.UIEvent.VALUE_COMMIT))},enumerable:!0,configurable:!0});b.prototype.commitProperties=function(){this.groupChanged&&(this.addToGroup(),this.groupChanged=!1);c.prototype.commitProperties.call(this)};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b);this.group&&(this.selected?this._group.selection=this:this.group.selection==
this&&(this._group.selection=null))};b.prototype.buttonReleased=function(){this.enabled&&!this.selected&&(this._radioButtonGroup||this.addToGroup(),c.prototype.buttonReleased.call(this),this.group._setSelection(this))};b.prototype.addToGroup=function(){var a=this.group;a&&a._addInstance(this);return a};return b}(d.ToggleButtonBase);d.RadioButton=f;f.prototype.__class__="egret.gui.RadioButton"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.elementsContentChanged=this.createChildrenCalled=!1;this._elementsContent=[]}__extends(b,c);b.prototype.createChildren=function(){c.prototype.createChildren.call(this);this.createChildrenCalled=!0;this.elementsContentChanged&&(this.elementsContentChanged=!1,this.setElementsContent(this._elementsContent))};b.prototype._getElementsContent=function(){return this._elementsContent};Object.defineProperty(b.prototype,"elementsContent",
{set:function(a){null==a&&(a=[]);if(a!=this._elementsContent)if(this.createChildrenCalled)this.setElementsContent(a);else{this.elementsContentChanged=!0;for(var b=this._elementsContent.length-1;0<=b;b--)this._elementRemoved(this._elementsContent[b],b);this._elementsContent=a}},enumerable:!0,configurable:!0});b.prototype.setElementsContent=function(a){var b;for(b=this._elementsContent.length-1;0<=b;b--)this._elementRemoved(this._elementsContent[b],b);this._elementsContent=a.concat();a=this._elementsContent.length;
for(b=0;b<a;b++){var c=this._elementsContent[b];c.parent&&"removeElement"in c.parent?c.parent.removeElement(c):c.owner&&"removeElement"in c.owner&&c.owner.removeElement(c);this._elementAdded(c,b)}};Object.defineProperty(b.prototype,"numElements",{get:function(){return this._elementsContent.length},enumerable:!0,configurable:!0});b.prototype.getElementAt=function(a){this.checkForRangeError(a);return this._elementsContent[a]};b.prototype.checkForRangeError=function(a,b){"undefined"===typeof b&&(b=!1);
var c=this._elementsContent.length-1;b&&c++;if(0>a||a>c)throw new RangeError('\u7d22\u5f15:"'+a+'"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4');};b.prototype.addElement=function(a){var b=this.numElements;a.parent==this&&(b=this.numElements-1);return this.addElementAt(a,b)};b.prototype.addElementAt=function(a,b){if(a==this)return a;this.checkForRangeError(b,!0);var c=a.owner;if(c==this||a.parent==this)return this.setElementIndex(a,b),a;c&&"removeElement"in c&&a.owner.removeElement(a);
this._elementsContent.splice(b,0,a);this.elementsContentChanged||this._elementAdded(a,b);return a};b.prototype.removeElement=function(a){return this.removeElementAt(this.getElementIndex(a))};b.prototype.removeElementAt=function(a){this.checkForRangeError(a);var b=this._elementsContent[a];this.elementsContentChanged||this._elementRemoved(b,a);this._elementsContent.splice(a,1);return b};b.prototype.removeAllElements=function(){for(var a=this.numElements-1;0<=a;a--)this.removeElementAt(a)};b.prototype.getElementIndex=
function(a){return this._elementsContent.indexOf(a)};b.prototype.setElementIndex=function(a,b){this.checkForRangeError(b);var c=this.getElementIndex(a);-1!=c&&c!=b&&(this.elementsContentChanged||this._elementRemoved(a,c,!1),this._elementsContent.splice(c,1),this._elementsContent.splice(b,0,a),this.elementsContentChanged||this._elementAdded(a,b,!1))};b.prototype.swapElements=function(a,b){this.swapElementsAt(this.getElementIndex(a),this.getElementIndex(b))};b.prototype.swapElementsAt=function(a,b){this.checkForRangeError(a);
this.checkForRangeError(b);if(a>b){var c=b;b=a;a=c}else if(a==b)return;var c=this._elementsContent,d=c[a],e=c[b];this.elementsContentChanged||(this._elementRemoved(d,a,!1),this._elementRemoved(e,b,!1));c[a]=e;c[b]=d;this.elementsContentChanged||(this._elementAdded(e,a,!1),this._elementAdded(d,b,!1))};b.prototype._elementAdded=function(a,b,c){"undefined"===typeof c&&(c=!0);a instanceof d.DisplayObject&&this._addToDisplayListAt(a,b,c);c&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,
e.ElementExistenceEvent.ELEMENT_ADD,a,b);this.invalidateSize();this.invalidateDisplayList()};b.prototype._elementRemoved=function(a,b,c){"undefined"===typeof c&&(c=!0);c&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,a,b);a instanceof d.DisplayObject&&a.parent==this&&this._removeFromDisplayList(a,c);this.invalidateSize();this.invalidateDisplayList()};b.prototype.addChild=function(a){throw Error("addChild()"+
b.errorStr+"addElement()\u4ee3\u66ff");};b.prototype.addChildAt=function(a,c){throw Error("addChildAt()"+b.errorStr+"addElementAt()\u4ee3\u66ff");};b.prototype.removeChild=function(a){throw Error("removeChild()"+b.errorStr+"removeElement()\u4ee3\u66ff");};b.prototype.removeChildAt=function(a){throw Error("removeChildAt()"+b.errorStr+"removeElementAt()\u4ee3\u66ff");};b.prototype.setChildIndex=function(a,c){throw Error("setChildIndex()"+b.errorStr+"setElementIndex()\u4ee3\u66ff");};b.prototype.swapChildren=
function(a,c){throw Error("swapChildren()"+b.errorStr+"swapElements()\u4ee3\u66ff");};b.prototype.swapChildrenAt=function(a,c){throw Error("swapChildrenAt()"+b.errorStr+"swapElementsAt()\u4ee3\u66ff");};b.errorStr="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";return b}(e.GroupBase);e.Group=f;f.prototype.__class__="egret.gui.Group"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._createAllChildren=!1;this.proposedSelectedIndex=b.NO_PROPOSED_SELECTION;this._selectedIndex=-1;this.childOrderingChanged=this.notifyTabBar=!1;this._setLayout(new e.BasicLayout)}__extends(b,c);Object.defineProperty(b.prototype,"layout",{get:function(){return this._layout},set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"createAllChildren",{get:function(){return this._createAllChildren},set:function(a){if(this._createAllChildren!=
a&&(this._createAllChildren=a)){a=this._getElementsContent();for(var b=a.length,c=0;c<b;c++){var e=a[c];e instanceof d.DisplayObject&&e.parent!=this&&(this.childOrderingChanged=!0,this._addToDisplayList(e))}this.childOrderingChanged&&this.invalidateProperties()}},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedChild",{get:function(){var a=this.selectedIndex;return 0<=a&&a<this.numElements?this.getElementAt(a):null},set:function(a){a=this.getElementIndex(a);0<=a&&a<this.numElements&&
this._setSelectedIndex(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedIndex",{get:function(){return this.proposedSelectedIndex!=b.NO_PROPOSED_SELECTION?this.proposedSelectedIndex:this._selectedIndex},set:function(a){this._setSelectedIndex(a)},enumerable:!0,configurable:!0});b.prototype._setSelectedIndex=function(a,b){"undefined"===typeof b&&(b=!0);a!=this.selectedIndex&&(this.proposedSelectedIndex=a,this.invalidateProperties(),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT),
this.notifyTabBar=this.notifyTabBar||b)};b.prototype._elementAdded=function(a,b,c){"undefined"===typeof c&&(c=!0);this._createAllChildren&&a instanceof d.DisplayObject&&this._addToDisplayListAt(a,b,c);c&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,a,b);a.visible=!1;a.includeInLayout=!1;-1==this.selectedIndex?this._setSelectedIndex(b,!1):b<=this.selectedIndex&&this.initialized&&this._setSelectedIndex(this.selectedIndex+
1);this.dispatchCoEvent(e.CollectionEventKind.ADD,b,-1,[a.name])};b.prototype._elementRemoved=function(a,b,d){"undefined"===typeof d&&(d=!0);c.prototype._elementRemoved.call(this,a,b,d);a.visible=!0;a.includeInLayout=!0;b==this.selectedIndex?0<this.numElements?0==b?(this.proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this._setSelectedIndex(-1):b<this.selectedIndex&&this._setSelectedIndex(this.selectedIndex-1);this.dispatchCoEvent(e.CollectionEventKind.REMOVE,b,-1,
[a.name])};b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this.proposedSelectedIndex!=b.NO_PROPOSED_SELECTION&&(this.commitSelection(this.proposedSelectedIndex),this.proposedSelectedIndex=b.NO_PROPOSED_SELECTION);if(this.childOrderingChanged){this.childOrderingChanged=!1;for(var a=this._getElementsContent(),e=a.length,f=0;f<e;f++){var n=a[f];n instanceof d.DisplayObject&&n.parent==this&&this._addToDisplayList(n)}}this.notifyTabBar&&(this.notifyTabBar=!0,this.dispatchEventWith("IndexChanged"))};
b.prototype.commitSelection=function(a){0<=a&&a<this.numElements?(this._selectedIndex=a,this._selectedChild&&this._selectedChild.parent==this&&(this._selectedChild.visible=!1,this._selectedChild.includeInLayout=!1),this._selectedChild=this.getElementAt(this._selectedIndex),this._selectedChild.visible=!0,this._selectedChild.includeInLayout=!0,this._selectedChild.parent!=this&&this._selectedChild instanceof d.DisplayObject&&(this._addToDisplayList(this._selectedChild),this.childOrderingChanged||(this.childOrderingChanged=
!0))):(this._selectedChild=null,this._selectedIndex=-1);this.invalidateSize();this.invalidateDisplayList()};Object.defineProperty(b.prototype,"length",{get:function(){return this.numElements},enumerable:!0,configurable:!0});b.prototype.getItemAt=function(a){return(a=this.getElementAt(a))?a.name:""};b.prototype.getItemIndex=function(a){for(var b=this._getElementsContent(),c=b.length,d=0;d<c;d++)if(b[d].name===a)return d;return-1};b.prototype.dispatchCoEvent=function(a,b,c,d,f){"undefined"===typeof a&&
(a=null);"undefined"===typeof b&&(b=-1);"undefined"===typeof c&&(c=-1);"undefined"===typeof d&&(d=null);"undefined"===typeof f&&(f=null);e.CollectionEvent.dispatchCollectionEvent(this,e.CollectionEvent.COLLECTION_CHANGE,a,b,c,d,f)};b.NO_PROPOSED_SELECTION=-2;return b}(e.Group);e.ViewStack=f;f.prototype.__class__="egret.gui.ViewStack"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.maxWidth=1E4;this.minWidth=0;this.maxHeight=1E4;this.minHeight=0;this.height=this.width=NaN;this._initialized=!1;this._elementsContent=[];this._states=[];this.initialized=!1}__extends(b,c);b.prototype.createChildren=function(){};Object.defineProperty(b.prototype,"hostComponent",{get:function(){return this._hostComponent},set:function(a){this._setHostComponent(a)},enumerable:!0,configurable:!0});b.prototype._setHostComponent=
function(a){if(this._hostComponent!=a){var b;if(this._hostComponent)for(b=this._elementsContent.length-1;0<=b;b--)this._elementRemoved(this._elementsContent[b],b);this._hostComponent=a;this._initialized||(this._initialized=!0,this.createChildren());if(this._hostComponent){a=this._elementsContent.length;for(b=0;b<a;b++)this._elementAdded(this._elementsContent[b],b);this.initializeStates();this.currentStateChanged&&this.commitCurrentState()}}};b.prototype._getElementsContent=function(){return this._elementsContent};
Object.defineProperty(b.prototype,"elementsContent",{set:function(a){null==a&&(a=[]);if(a!=this._elementsContent)if(this._hostComponent){var b;for(b=this._elementsContent.length-1;0<=b;b--)this._elementRemoved(this._elementsContent[b],b);this._elementsContent=a.concat();a=this._elementsContent.length;for(b=0;b<a;b++){var c=this._elementsContent[b];c.parent&&"removeElement"in c.parent?c.parent.removeElement(c):c.owner&&"removeElement"in c.owner&&c.owner.removeElement(c);this._elementAdded(c,b)}}else this._elementsContent=
a.concat()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"numElements",{get:function(){return this._elementsContent.length},enumerable:!0,configurable:!0});b.prototype.getElementAt=function(a){this.checkForRangeError(a);return this._elementsContent[a]};b.prototype.checkForRangeError=function(a,b){"undefined"===typeof b&&(b=!1);var c=this._elementsContent.length-1;b&&c++;if(0>a||a>c)throw new RangeError('\u7d22\u5f15:"'+a+'"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4');
};b.prototype.addElement=function(a){var b=this.numElements;a.owner==this&&(b=this.numElements-1);return this.addElementAt(a,b)};b.prototype.addElementAt=function(a,b){this.checkForRangeError(b,!0);var c=a.owner;if(c==this)return this.setElementIndex(a,b),a;c&&"removeElement"in c&&c.removeElement(a);this._elementsContent.splice(b,0,a);this._hostComponent?this._elementAdded(a,b):a.ownerChanged(this);return a};b.prototype.removeElement=function(a){return this.removeElementAt(this.getElementIndex(a))};
b.prototype.removeElementAt=function(a){this.checkForRangeError(a);var b=this._elementsContent[a];this._hostComponent?this._elementRemoved(b,a):b.ownerChanged(null);this._elementsContent.splice(a,1);return b};b.prototype.getElementIndex=function(a){return this._elementsContent.indexOf(a)};b.prototype.setElementIndex=function(a,b){this.checkForRangeError(b);var c=this.getElementIndex(a);-1!=c&&c!=b&&(this._hostComponent&&this._elementRemoved(a,c,!1),this._elementsContent.splice(c,1),this._elementsContent.splice(b,
0,a),this._hostComponent&&this._elementAdded(a,b,!1))};b.prototype._elementAdded=function(a,b,c){"undefined"===typeof c&&(c=!0);a.ownerChanged(this);a instanceof d.DisplayObject&&this._hostComponent._addToDisplayListAt(a,b,c);c&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_ADD)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_ADD,a,b);this._hostComponent.invalidateSize();this._hostComponent.invalidateDisplayList()};b.prototype._elementRemoved=function(a,
b,c){"undefined"===typeof c&&(c=!0);c&&this.hasEventListener(e.ElementExistenceEvent.ELEMENT_REMOVE)&&e.ElementExistenceEvent.dispatchElementExistenceEvent(this,e.ElementExistenceEvent.ELEMENT_REMOVE,a,b);a instanceof d.DisplayObject&&a.parent==this._hostComponent&&this._hostComponent._removeFromDisplayList(a,c);a.ownerChanged(null);this._hostComponent.invalidateSize();this._hostComponent.invalidateDisplayList()};Object.defineProperty(b.prototype,"states",{get:function(){return this._states},set:function(a){this._setStates(a)},
enumerable:!0,configurable:!0});b.prototype._setStates=function(a){a||(a=[]);if("string"==typeof a[0])for(var b=a.length,c=0;c<b;c++){var d=new e.State(a[c],[]);a[c]=d}this._states=a;this.currentStateChanged=!0;this.requestedCurrentState=this._currentState;this.hasState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState())};Object.defineProperty(b.prototype,"currentState",{get:function(){return this.currentStateChanged?this.requestedCurrentState:this._currentState?this._currentState:
this.getDefaultState()},set:function(a){a||(a=this.getDefaultState());a!=this.currentState&&a&&this.currentState&&(this.requestedCurrentState=a,this.currentStateChanged=!0,this._hostComponent&&this.commitCurrentState())},enumerable:!0,configurable:!0});b.prototype.hasState=function(a){return null!=this.getState(a)};b.prototype.getDefaultState=function(){return 0<this._states.length?this._states[0].name:null};b.prototype.commitCurrentState=function(){if(this.currentStateChanged){this.currentStateChanged=
!1;this.getState(this.requestedCurrentState)||(this.requestedCurrentState=this.getDefaultState());var a=this._currentState?this._currentState:"";this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGING)&&e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGING,a,this.requestedCurrentState?this.requestedCurrentState:"");this.removeState(this._currentState);(this._currentState=this.requestedCurrentState)&&this.applyState(this._currentState);this.hasEventListener(e.StateChangeEvent.CURRENT_STATE_CHANGE)&&
e.StateChangeEvent.dispatchStateChangeEvent(this,e.StateChangeEvent.CURRENT_STATE_CHANGE,a,this._currentState?this._currentState:"")}};b.prototype.getState=function(a){if(!a)return null;for(var b=this._states,c=b.length,d=0;d<c;d++){var e=b[d];if(e.name==a)return e}return null};b.prototype.removeState=function(a){if(a=this.getState(a)){a=a.overrides;for(var b=a.length-1;0<=b;b--)a[b].remove(this)}};b.prototype.applyState=function(a){if(a=this.getState(a)){a=a.overrides;for(var b=a.length,c=0;c<b;c++)a[c].apply(this)}};
b.prototype.initializeStates=function(){if(!this.initialized){this.initialized=!0;for(var a=this._states,b=a.length,c=0;c<b;c++)a[c].initialize(this)}};return b}(d.EventDispatcher);e.Skin=f;f.prototype.__class__="egret.gui.Skin"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.useVirtualLayoutChanged=!1;this.rendererToClassMap=[];this.freeRenderers=[];this.dataProviderChanged=this.createNewRendererFlag=!1;this.recyclerDic=[];this.typicalItemChanged=this.virtualLayoutUnderway=this.itemRendererSkinNameChange=!1;this.indexToRenderer=[];this.renderersBeingUpdated=this.cleanFreeRenderer=!1}__extends(b,c);Object.defineProperty(b.prototype,"layout",{get:function(){return this._layout},set:function(a){a!=
this.layout&&(this.layout&&(this.layout.typicalLayoutRect=null,this.layout.removeEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)),this.layout&&a&&this.layout.useVirtualLayout!=a.useVirtualLayout&&this.changeUseVirtualLayout(),this._setLayout(a),a&&(a.typicalLayoutRect=this.typicalLayoutRect,a.addEventListener("useVirtualLayoutChanged",this.layout_useVirtualLayoutChangedHandler,this)))},enumerable:!0,configurable:!0});b.prototype.layout_useVirtualLayoutChangedHandler=
function(a){this.changeUseVirtualLayout()};b.prototype.setVirtualElementIndicesInView=function(a,b){if(this.layout&&this.layout.useVirtualLayout){this.virtualRendererIndices=[];for(var c=a;c<=b;c++)this.virtualRendererIndices.push(c);for(var d in this.indexToRenderer)d=parseInt(d),-1==this.virtualRendererIndices.indexOf(d)&&this.freeRendererByIndex(d)}};b.prototype.getVirtualElementAt=function(a){if(0>a||a>=this.dataProvider.length)return null;var b=this.indexToRenderer[a];if(!b){var b=this.dataProvider.getItemAt(a),
c=this.createVirtualRenderer(a);this.indexToRenderer[a]=c;this.updateRenderer(c,a,b);this.createNewRendererFlag&&("validateNow"in c&&c.validateNow(),this.createNewRendererFlag=!1,e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,c,a,b));b=c}return b};b.prototype.freeRendererByIndex=function(a){if(this.indexToRenderer[a]){var b=this.indexToRenderer[a];delete this.indexToRenderer[a];b&&b instanceof d.DisplayObject&&this.doFreeRenderer(b)}};b.prototype.doFreeRenderer=
function(a){var b=this.rendererToClassMap[a.hashCode].hashCode;this.freeRenderers[b]||(this.freeRenderers[b]=[]);this.freeRenderers[b].push(a);a.visible=!1};b.prototype.invalidateSize=function(){this.createNewRendererFlag||c.prototype.invalidateSize.call(this)};b.prototype.createVirtualRenderer=function(a){a=this.dataProvider.getItemAt(a);a=this.itemToRendererClass(a);var b=a.hashCode,c=this.freeRenderers;if(c[b]&&0<c[b].length)return a=c[b].pop(),a.visible=!0,a;this.createNewRendererFlag=!0;return this.createOneRenderer(a)};
b.prototype.createOneRenderer=function(a){var b,c=a.hashCode,e=this.recyclerDic[c];e&&(b=e.pop(),0==e.length&&delete this.recyclerDic[c]);b||(b=a.newInstance(),this.rendererToClassMap[b.hashCode]=a);if(!(b&&b instanceof d.DisplayObject))return null;this._itemRendererSkinName&&this.setItemRenderSkinName(b);this._addToDisplayList(b);b.setLayoutBoundsSize(NaN,NaN);return b};b.prototype.setItemRenderSkinName=function(a){a&&(a?a._skinNameExplicitlySet||(a.skinName=this._itemRendererSkinName):a&&!a.skinName&&
(a.skinName=this._itemRendererSkinName))};b.prototype.finishVirtualLayout=function(){if(this.virtualLayoutUnderway){var a=this.virtualLayoutUnderway=!1,b;for(b in this.freeRenderers)if(0<this.freeRenderers[b].length){a=!0;break}a&&(this.cleanTimer||(this.cleanTimer=new d.Timer(3E3,1),this.cleanTimer.addEventListener(d.TimerEvent.TIMER,this.cleanAllFreeRenderer,this)),this.cleanTimer.reset(),this.cleanTimer.start())}};b.prototype.cleanAllFreeRenderer=function(a){var b=this.freeRenderers,c;for(c in b)for(var d=
b[c],e=d.length,f=0;f<e;f++)a=d[f],a.visible=!0,this.recycle(a);this.freeRenderers=[];this.cleanFreeRenderer=!1};b.prototype.getElementIndicesInView=function(){return this.layout&&this.layout.useVirtualLayout?this.virtualRendererIndices?this.virtualRendererIndices:[]:c.prototype.getElementIndicesInView.call(this)};b.prototype.changeUseVirtualLayout=function(){this.cleanFreeRenderer=this.useVirtualLayoutChanged=!0;this.removeDataProviderListener();this.invalidateProperties()};Object.defineProperty(b.prototype,
"dataProvider",{get:function(){return this._dataProvider},set:function(a){this._dataProvider!=a&&(this.removeDataProviderListener(),this._dataProvider=a,this.cleanFreeRenderer=this.dataProviderChanged=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList())},enumerable:!0,configurable:!0});b.prototype.removeDataProviderListener=function(){this._dataProvider&&this._dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this)};b.prototype.onCollectionChange=
function(a){switch(a.kind){case e.CollectionEventKind.ADD:this.itemAddedHandler(a.items,a.location);break;case e.CollectionEventKind.MOVE:this.itemMovedHandler(a.items[0],a.location,a.oldLocation);break;case e.CollectionEventKind.REMOVE:this.itemRemovedHandler(a.items,a.location);break;case e.CollectionEventKind.UPDATE:this.itemUpdatedHandler(a.items[0],a.location);break;case e.CollectionEventKind.REPLACE:this.itemRemoved(a.oldItems[0],a.location);this.itemAdded(a.items[0],a.location);break;case e.CollectionEventKind.RESET:case e.CollectionEventKind.REFRESH:if(this.layout&&
this.layout.useVirtualLayout)for(var b in this.indexToRenderer)b=parseInt(b),this.freeRendererByIndex(b);this.dataProviderChanged=!0;this.invalidateProperties()}this.invalidateSize();this.invalidateDisplayList()};b.prototype.itemAddedHandler=function(a,b){for(var c=a.length,d=0;d<c;d++)this.itemAdded(a[d],b+d);this.resetRenderersIndices()};b.prototype.itemMovedHandler=function(a,b,c){this.itemRemoved(a,c);this.itemAdded(a,b);this.resetRenderersIndices()};b.prototype.itemRemovedHandler=function(a,
b){for(var c=a.length-1;0<=c;c--)this.itemRemoved(a[c],b+c);this.resetRenderersIndices()};b.prototype.itemAdded=function(a,b){this.layout&&this.layout.elementAdded(b);if(this.layout&&this.layout.useVirtualLayout){var c=this.virtualRendererIndices;if(c){for(var d=c.length,f=0;f<d;f++){var h=c[f];h>=b&&(c[f]=h+1)}this.indexToRenderer.splice(b,0,null)}}else c=this.itemToRendererClass(a),c=this.createOneRenderer(c),this.indexToRenderer.splice(b,0,c),c&&(this.updateRenderer(c,b,a),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,
e.RendererExistenceEvent.RENDERER_ADD,c,b,a))};b.prototype.itemRemoved=function(a,b){this.layout&&this.layout.elementRemoved(b);var c=this.virtualRendererIndices;if(c&&0<c.length){for(var f=-1,l=c.length,h=0;h<l;h++){var m=c[h];m==b?f=h:m>b&&(c[h]=m-1)}-1!=f&&c.splice(f,1)}c=this.indexToRenderer[b];this.indexToRenderer.length>b&&this.indexToRenderer.splice(b,1);e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,c,b,a);c&&c instanceof d.DisplayObject&&
this.recycle(c)};b.prototype.recycle=function(a){this._removeFromDisplayList(a);"ownerChanged"in a&&a.ownerChanged(null);var b=this.rendererToClassMap[a.hashCode].hashCode;this.recyclerDic[b]||(this.recyclerDic[b]=new d.Recycler);this.recyclerDic[b].push(a)};b.prototype.resetRenderersIndices=function(){if(0!=this.indexToRenderer.length)if(this.layout&&this.layout.useVirtualLayout)for(var a=this.virtualRendererIndices,b=a.length,c=0;c<b;c++){var d=a[c];this.resetRendererItemIndex(d)}else for(a=this.indexToRenderer.length,
d=0;d<a;d++)this.resetRendererItemIndex(d)};b.prototype.itemUpdatedHandler=function(a,b){if(!this.renderersBeingUpdated){var c=this.indexToRenderer[b];c&&this.updateRenderer(c,b,a)}};b.prototype.resetRendererItemIndex=function(a){var b=this.indexToRenderer[a];b&&(b.itemIndex=a)};Object.defineProperty(b.prototype,"itemRenderer",{get:function(){return this._itemRenderer},set:function(a){this._itemRenderer!==a&&(this._itemRenderer=a,this.cleanFreeRenderer=this.typicalItemChanged=this.itemRendererChanged=
!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"itemRendererSkinName",{get:function(){return this._itemRendererSkinName},set:function(a){this._itemRendererSkinName!=a&&(this._itemRendererSkinName=a)&&this.initialized&&(this.itemRendererSkinNameChange=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"itemRendererFunction",{get:function(){return this._itemRendererFunction},
set:function(a){this._itemRendererFunction!=a&&(this._itemRendererFunction=a,this.typicalItemChanged=this.itemRendererChanged=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0});b.prototype.itemToRendererClass=function(a){null!=this._itemRendererFunction?(a=this._itemRendererFunction(a),a||(a=this._itemRenderer)):a=this._itemRenderer;return a?a:b.defaultRendererFactory};b.prototype.createChildren=function(){if(!this.layout){var a=new e.VerticalLayout;
a.gap=0;a.horizontalAlign=d.HorizontalAlign.CONTENT_JUSTIFY;this.layout=a}c.prototype.createChildren.call(this)};b.prototype.commitProperties=function(){if(this.itemRendererChanged||this.dataProviderChanged||this.useVirtualLayoutChanged)this.removeAllRenderers(),this.layout&&this.layout.clearVirtualLayoutCache(),this.setTypicalLayoutRect(null),this.itemRendererChanged=this.useVirtualLayoutChanged=!1,this._dataProvider&&this._dataProvider.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,
this),this.layout&&this.layout.useVirtualLayout?(this.invalidateSize(),this.invalidateDisplayList()):this.createRenderers(),this.dataProviderChanged&&(this.dataProviderChanged=!1,this.verticalScrollPosition=this.horizontalScrollPosition=0);c.prototype.commitProperties.call(this);this.typicalItemChanged&&(this.typicalItemChanged=!1,this._dataProvider&&0<this._dataProvider.length&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize()));if(this.itemRendererSkinNameChange){this.itemRendererSkinNameChange=
!1;for(var a=this.indexToRenderer.length,b=0;b<a;b++)this.setItemRenderSkinName(this.indexToRenderer[b]);var d=this.freeRenderers,f;for(f in d){var l=d[f];if(l)for(a=l.length,b=0;b<a;b++)this.setItemRenderSkinName(l[b])}}};b.prototype.measure=function(){this.layout&&this.layout.useVirtualLayout&&this.ensureTypicalLayoutElement();c.prototype.measure.call(this)};b.prototype.updateDisplayList=function(a,b){this._layoutInvalidateDisplayListFlag&&this.layout&&this.layout.useVirtualLayout&&(this.virtualLayoutUnderway=
!0,this.ensureTypicalLayoutElement());c.prototype.updateDisplayList.call(this,a,b);this.virtualLayoutUnderway&&this.finishVirtualLayout()};b.prototype.ensureTypicalLayoutElement=function(){!this.layout.typicalLayoutRect&&this._dataProvider&&0<this._dataProvider.length&&(this.typicalItem=this._dataProvider.getItemAt(0),this.measureRendererSize())};b.prototype.measureRendererSize=function(){if(this.typicalItem){var a=this.itemToRendererClass(this.typicalItem);if(a=this.createOneRenderer(a)){this.createNewRendererFlag=
!0;this.updateRenderer(a,0,this.typicalItem);"validateNow"in a&&a.validateNow();var b=new d.Rectangle(0,0,a.preferredWidth,a.preferredHeight);this.recycle(a);this.setTypicalLayoutRect(b);this.createNewRendererFlag=!1}else this.setTypicalLayoutRect(null)}else this.setTypicalLayoutRect(null)};b.prototype.setTypicalLayoutRect=function(a){this.typicalLayoutRect=a;this.layout&&(this.layout.typicalLayoutRect=a)};b.prototype.removeAllRenderers=function(){for(var a=this.indexToRenderer.length,b,c=0;c<a;c++)if(b=
this.indexToRenderer[c])this.recycle(b),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_REMOVE,b,b.itemIndex,b.data);this.indexToRenderer=[];this.virtualRendererIndices=null;this.cleanFreeRenderer&&this.cleanAllFreeRenderer()};b.prototype.createRenderers=function(){if(this._dataProvider)for(var a=0,b=this._dataProvider.length,c=0;c<b;c++){var d=this._dataProvider.getItemAt(c),f=this.itemToRendererClass(d);if(f=this.createOneRenderer(f))this.indexToRenderer[a]=
f,this.updateRenderer(f,a,d),e.RendererExistenceEvent.dispatchRendererExistenceEvent(this,e.RendererExistenceEvent.RENDERER_ADD,f,a,d),a++}};b.prototype.updateRenderer=function(a,b,c){this.renderersBeingUpdated=!0;this._rendererOwner?a=this._rendererOwner.updateRenderer(a,b,c):("ownerChanged"in a&&a.ownerChanged(this),a.itemIndex=b,a.label=this.itemToLabel(c),a.data=c);this.renderersBeingUpdated=!1;return a};b.prototype.itemToLabel=function(a){return a?a.toString():" "};b.prototype.getElementAt=function(a){return this.indexToRenderer[a]};
b.prototype.getElementIndex=function(a){return a?this.indexToRenderer.indexOf(a):-1};Object.defineProperty(b.prototype,"numElements",{get:function(){return this._dataProvider?this._dataProvider.length:0},enumerable:!0,configurable:!0});b.prototype.addChild=function(a){throw Error("addChild()"+b.errorStr+"addElement()\u4ee3\u66ff");};b.prototype.addChildAt=function(a,c){throw Error("addChildAt()"+b.errorStr+"addElementAt()\u4ee3\u66ff");};b.prototype.removeChild=function(a){throw Error("removeChild()"+
b.errorStr+"removeElement()\u4ee3\u66ff");};b.prototype.removeChildAt=function(a){throw Error("removeChildAt()"+b.errorStr+"removeElementAt()\u4ee3\u66ff");};b.prototype.setChildIndex=function(a,c){throw Error("setChildIndex()"+b.errorStr+"setElementIndex()\u4ee3\u66ff");};b.prototype.swapChildren=function(a,c){throw Error("swapChildren()"+b.errorStr+"swapElements()\u4ee3\u66ff");};b.prototype.swapChildrenAt=function(a,c){throw Error("swapChildrenAt()"+b.errorStr+"swapElementsAt()\u4ee3\u66ff");};
b.defaultRendererFactory=new e.ClassFactory(e.ItemRenderer);b.errorStr="\u5728\u6b64\u7ec4\u4ef6\u4e2d\u4e0d\u53ef\u7528\uff0c\u82e5\u6b64\u7ec4\u4ef6\u4e3a\u5bb9\u5668\u7c7b\uff0c\u8bf7\u4f7f\u7528";return b}(e.GroupBase);e.DataGroup=f;f.prototype.__class__="egret.gui.DataGroup"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this.contentGroupProperties={};this.hostComponentKey="egret.gui.SkinnableContainer"}__extends(b,c);b.prototype._getCurrentContentGroup=function(){return null==this.contentGroup?(null==this._placeHolderGroup&&(this._placeHolderGroup=new d.Group,this._placeHolderGroup.visible=!1,this._addToDisplayList(this._placeHolderGroup)),this._placeHolderGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,
this),this._placeHolderGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this._placeHolderGroup):this.contentGroup};Object.defineProperty(b.prototype,"elementsContent",{set:function(a){this._getCurrentContentGroup().elementsContent=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"numElements",{get:function(){return this._getCurrentContentGroup().numElements},enumerable:!0,configurable:!0});b.prototype.getElementAt=function(a){return this._getCurrentContentGroup().getElementAt(a)};
b.prototype.addElement=function(a){return this._getCurrentContentGroup().addElement(a)};b.prototype.addElementAt=function(a,b){return this._getCurrentContentGroup().addElementAt(a,b)};b.prototype.removeElement=function(a){return this._getCurrentContentGroup().removeElement(a)};b.prototype.removeElementAt=function(a){return this._getCurrentContentGroup().removeElementAt(a)};b.prototype.removeAllElements=function(){this._getCurrentContentGroup().removeAllElements()};b.prototype.getElementIndex=function(a){return this._getCurrentContentGroup().getElementIndex(a)};
b.prototype.setElementIndex=function(a,b){this._getCurrentContentGroup().setElementIndex(a,b)};b.prototype.swapElements=function(a,b){this._getCurrentContentGroup().swapElements(a,b)};b.prototype.swapElementsAt=function(a,b){this._getCurrentContentGroup().swapElementsAt(a,b)};Object.defineProperty(b.prototype,"layout",{get:function(){return null!=this.contentGroup?this.contentGroup.layout:this.contentGroupProperties.layout},set:function(a){null!=this.contentGroup?this.contentGroup.layout=a:this.contentGroupProperties.layout=
a},enumerable:!0,configurable:!0});b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);if(b==this.contentGroup){void 0!==this.contentGroupProperties.layout&&(this.contentGroup.layout=this.contentGroupProperties.layout,this.contentGroupProperties={});if(this._placeHolderGroup){this._placeHolderGroup.removeEventListener(d.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this);this._placeHolderGroup.removeEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE,
this._contentGroup_elementRemovedHandler,this);for(var f=this._placeHolderGroup._getElementsContent().concat(),n=this._placeHolderGroup.numElements;0<n;n--){var l=this._placeHolderGroup.removeElementAt(0);l.ownerChanged(null)}this._removeFromDisplayList(this._placeHolderGroup);this.contentGroup.elementsContent=f;for(n=f.length-1;0<=n;n--)l=f[n],l.ownerChanged(this);this._placeHolderGroup=null}this.contentGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,
this);this.contentGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}};b.prototype.partRemoved=function(a,b){c.prototype.partRemoved.call(this,a,b);if(b==this.contentGroup&&(this.contentGroup.removeEventListener(d.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this),this.contentGroup.removeEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this),this.contentGroupProperties.layout=
this.contentGroup.layout,this.contentGroup.layout=null,0<this.contentGroup.numElements)){for(this._placeHolderGroup=new d.Group;0<this.contentGroup.numElements;)this._placeHolderGroup.addElement(this.contentGroup.getElementAt(0));this._placeHolderGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_ADD,this._contentGroup_elementAddedHandler,this);this._placeHolderGroup.addEventListener(d.ElementExistenceEvent.ELEMENT_REMOVE,this._contentGroup_elementRemovedHandler,this)}};b.prototype._contentGroup_elementAddedHandler=
function(a){a.element.ownerChanged(this);this.dispatchEvent(a)};b.prototype._contentGroup_elementRemovedHandler=function(a){a.element.ownerChanged(null);this.dispatchEvent(a)};return b}(d.SkinnableComponent);d.SkinnableContainer=f;f.prototype.__class__="egret.gui.SkinnableContainer"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._dataGroupProperties={};this.hostComponentKey="egret.gui.SkinnableDataContainer"}__extends(b,c);b.prototype.updateRenderer=function(a,b,c){"ownerChanged"in a&&a.ownerChanged(this);a.itemIndex=b;a.label=this.itemToLabel(c);a.data=c;return a};b.prototype.itemToLabel=function(a){return null!==a?a.toString():" "};Object.defineProperty(b.prototype,"dataProvider",{get:function(){return this._getDataProvider()},set:function(a){this._setDataProvider(a)},
enumerable:!0,configurable:!0});b.prototype._getDataProvider=function(){return null!=this.dataGroup?this.dataGroup.dataProvider:this._dataGroupProperties.dataProvider};b.prototype._setDataProvider=function(a){null==this.dataGroup?this._dataGroupProperties.dataProvider=a:(this.dataGroup.dataProvider=a,this._dataGroupProperties.dataProvider=!0)};Object.defineProperty(b.prototype,"itemRenderer",{get:function(){return this.dataGroup?this.dataGroup.itemRenderer:this._dataGroupProperties.itemRenderer},
set:function(a){null==this.dataGroup?this._dataGroupProperties.itemRenderer=a:(this.dataGroup.itemRenderer=a,this._dataGroupProperties.itemRenderer=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"itemRendererSkinName",{get:function(){return this.dataGroup?this.dataGroup.itemRendererSkinName:this._dataGroupProperties.itemRendererSkinName},set:function(a){null==this.dataGroup?this._dataGroupProperties.itemRendererSkinName=a:(this.dataGroup.itemRendererSkinName=a,this._dataGroupProperties.itemRendererSkinName=
!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"itemRendererFunction",{get:function(){return this.dataGroup?this.dataGroup.itemRendererFunction:this._dataGroupProperties.itemRendererFunction},set:function(a){null==this.dataGroup?this._dataGroupProperties.itemRendererFunction=a:(this.dataGroup.itemRendererFunction=a,this._dataGroupProperties.itemRendererFunction=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"layout",{get:function(){return this.dataGroup?
this.dataGroup.layout:this._dataGroupProperties.layout},set:function(a){this._setLayout(a)},enumerable:!0,configurable:!0});b.prototype._setLayout=function(a){null==this.dataGroup?this._dataGroupProperties.layout=a:(this.dataGroup.layout=a,this._dataGroupProperties.layout=!0)};b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);if(b==this.dataGroup){var f={};void 0!==this._dataGroupProperties.layout&&(this.dataGroup.layout=this._dataGroupProperties.layout,f.layout=!0);void 0!==
this._dataGroupProperties.dataProvider&&(this.dataGroup.dataProvider=this._dataGroupProperties.dataProvider,f.dataProvider=!0);void 0!==this._dataGroupProperties.itemRenderer&&(this.dataGroup.itemRenderer=this._dataGroupProperties.itemRenderer,f.itemRenderer=!0);void 0!==this._dataGroupProperties.itemRendererSkinName&&(this.dataGroup.itemRendererSkinName=this._dataGroupProperties.itemRendererSkinName,f.itemRendererSkinName=!0);void 0!==this._dataGroupProperties.itemRendererFunction&&(this.dataGroup.itemRendererFunction=
this._dataGroupProperties.itemRendererFunction,f.itemRendererFunction=!0);this.dataGroup._rendererOwner=this;this._dataGroupProperties=f;this.hasEventListener(d.RendererExistenceEvent.RENDERER_ADD)&&this.dataGroup.addEventListener(d.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this);this.hasEventListener(d.RendererExistenceEvent.RENDERER_REMOVE)&&this.dataGroup.addEventListener(d.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this)}};b.prototype.partRemoved=function(a,b){c.prototype.partRemoved.call(this,
a,b);if(b==this.dataGroup){this.dataGroup.removeEventListener(d.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this);this.dataGroup.removeEventListener(d.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this);var f={};this._dataGroupProperties.layout&&(f.layout=this.dataGroup.layout);this._dataGroupProperties.dataProvider&&(f.dataProvider=this.dataGroup.dataProvider);this._dataGroupProperties.itemRenderer&&(f.itemRenderer=this.dataGroup.itemRenderer);this._dataGroupProperties.itemRendererSkinName&&
(f.itemRendererSkinName=this.dataGroup.itemRendererSkinName);this._dataGroupProperties.itemRendererFunction&&(f.itemRendererFunction=this.dataGroup.itemRendererFunction);this._dataGroupProperties=f;this.dataGroup._rendererOwner=null;this.dataGroup.dataProvider=null;this.dataGroup.layout=null}};b.prototype.addEventListener=function(a,b,f,n,l){"undefined"===typeof n&&(n=!1);"undefined"===typeof l&&(l=0);c.prototype.addEventListener.call(this,a,b,f,n,l);a==d.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&
this.dataGroup.addEventListener(d.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this);a==d.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&this.dataGroup.addEventListener(d.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this)};b.prototype.removeEventListener=function(a,b,f,n){"undefined"===typeof n&&(n=!1);c.prototype.removeEventListener.call(this,a,b,f,n);a==d.RendererExistenceEvent.RENDERER_ADD&&this.dataGroup&&(this.hasEventListener(d.RendererExistenceEvent.RENDERER_ADD)||
this.dataGroup.removeEventListener(d.RendererExistenceEvent.RENDERER_ADD,this.dispatchEvent,this));a==d.RendererExistenceEvent.RENDERER_REMOVE&&this.dataGroup&&(this.hasEventListener(d.RendererExistenceEvent.RENDERER_REMOVE)||this.dataGroup.removeEventListener(d.RendererExistenceEvent.RENDERER_REMOVE,this.dispatchEvent,this))};return b}(d.SkinnableComponent);d.SkinnableDataContainer=f;f.prototype.__class__="egret.gui.SkinnableDataContainer"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._doingWholesaleChanges=!1;this._labelField="label";this.requireSelectionChanged=this._requireSelection=!1;this._proposedSelectedIndex=b.NO_PROPOSED_SELECTION;this._selectedIndex=b.NO_SELECTION;this.selectedIndexAdjusted=this._useVirtualLayout=this._dispatchChangeAfterSelection=this._allowCustomSelectedItem=!1}__extends(b,c);b.prototype._setDataProvider=function(a){this.dataProvider&&this.dataProvider.removeEventListener(e.CollectionEvent.COLLECTION_CHANGE,
this.dataProvider_collectionChangeHandler,this);this._doingWholesaleChanges=this.dataProviderChanged=!0;a&&a.addEventListener(e.CollectionEvent.COLLECTION_CHANGE,this.dataProvider_collectionChangeHandler,this);c.prototype._setDataProvider.call(this,a);this.invalidateProperties()};Object.defineProperty(b.prototype,"layout",{get:function(){return this.dataGroup?this.dataGroup.layout:this._dataGroupProperties.layout},set:function(a){a&&this.useVirtualLayout&&(a.useVirtualLayout=!0);this._setLayout(a)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"labelField",{get:function(){return this._labelField},set:function(a){this._setLabelField(a)},enumerable:!0,configurable:!0});b.prototype._setLabelField=function(a){a!=this._labelField&&(this._labelField=a,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())};Object.defineProperty(b.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(a){this._setLabelFunction(a)},enumerable:!0,configurable:!0});
b.prototype._setLabelFunction=function(a){a!=this._labelFunction&&(this._labelFunction=a,this.labelFieldOrFunctionChanged=!0,this.invalidateProperties())};Object.defineProperty(b.prototype,"requireSelection",{get:function(){return this._requireSelection},set:function(a){this._setRequireSelection(a)},enumerable:!0,configurable:!0});b.prototype._setRequireSelection=function(a){a!=this._requireSelection&&(this._requireSelection=a)&&(this.requireSelectionChanged=!0,this.invalidateProperties())};Object.defineProperty(b.prototype,
"selectedIndex",{get:function(){return this._getSelectedIndex()},set:function(a){this._setSelectedIndex(a,!1)},enumerable:!0,configurable:!0});b.prototype._getSelectedIndex=function(){return this._proposedSelectedIndex!=b.NO_PROPOSED_SELECTION?this._proposedSelectedIndex:this._selectedIndex};b.prototype._setSelectedIndex=function(a,b){"undefined"===typeof b&&(b=!1);a!=this.selectedIndex&&(b&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||b),this._proposedSelectedIndex=a,this.invalidateProperties())};
Object.defineProperty(b.prototype,"selectedItem",{get:function(){return void 0!==this._pendingSelectedItem?this._pendingSelectedItem:this._allowCustomSelectedItem&&this.selectedIndex==b.CUSTOM_SELECTED_ITEM?this._selectedItem:this.selectedIndex==b.NO_SELECTION||null==this.dataProvider?void 0:this.dataProvider.length>this.selectedIndex?this.dataProvider.getItemAt(this.selectedIndex):void 0},set:function(a){this._setSelectedItem(a,!1)},enumerable:!0,configurable:!0});b.prototype._setSelectedItem=function(a,
b){"undefined"===typeof b&&(b=!1);this.selectedItem!==a&&(b&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||b),this._pendingSelectedItem=a,this.invalidateProperties())};Object.defineProperty(b.prototype,"useVirtualLayout",{get:function(){return this._getUseVirtualLayout()},set:function(a){this._setUseVirtualLayout(a)},enumerable:!0,configurable:!0});b.prototype._getUseVirtualLayout=function(){return this.layout?this.layout.useVirtualLayout:this._useVirtualLayout};b.prototype._setUseVirtualLayout=
function(a){a!=this.useVirtualLayout&&(this._useVirtualLayout=a,this.layout&&(this.layout.useVirtualLayout=a))};b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this.dataProviderChanged&&(this._doingWholesaleChanges=this.dataProviderChanged=!1,0<=this.selectedIndex&&this.dataProvider&&this.selectedIndex<this.dataProvider.length?this.itemSelected(this.selectedIndex,!0):this.requireSelection?this._proposedSelectedIndex=0:this._setSelectedIndex(-1,!1));this.requireSelectionChanged&&
(this.requireSelectionChanged=!1,this.requireSelection&&this.selectedIndex==b.NO_SELECTION&&this.dataProvider&&0<this.dataProvider.length&&(this._proposedSelectedIndex=0));void 0!==this._pendingSelectedItem&&(this._proposedSelectedIndex=this.dataProvider?this.dataProvider.getItemIndex(this._pendingSelectedItem):b.NO_SELECTION,this._allowCustomSelectedItem&&-1==this._proposedSelectedIndex&&(this._proposedSelectedIndex=b.CUSTOM_SELECTED_ITEM,this._selectedItem=this._pendingSelectedItem),this._pendingSelectedItem=
void 0);var a=!1;this._proposedSelectedIndex!=b.NO_PROPOSED_SELECTION&&(a=this.commitSelection());this.selectedIndexAdjusted&&(this.selectedIndexAdjusted=!1,a||e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT));if(this.labelFieldOrFunctionChanged){if(null!=this.dataGroup)if(this.layout&&this.layout.useVirtualLayout)for(var d=this.dataGroup.getElementIndicesInView(),f=d.length,n=0;n<f;n++)a=d[n],this.updateRendererLabelProperty(a);else for(d=this.dataGroup.numElements,a=0;a<d;a++)this.updateRendererLabelProperty(a);
this.labelFieldOrFunctionChanged=!1}};b.prototype.updateRendererLabelProperty=function(a){if(a=this.dataGroup.getElementAt(a))a.label=this.itemToLabel(a.data)};b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.dataGroup&&(this._useVirtualLayout&&this.dataGroup.layout&&(this.dataGroup.layout.useVirtualLayout=!0),this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.addEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,
this.dataGroup_rendererRemoveHandler,this))};b.prototype.partRemoved=function(a,b){c.prototype.partRemoved.call(this,a,b);b==this.dataGroup&&(this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_ADD,this.dataGroup_rendererAddHandler,this),this.dataGroup.removeEventListener(e.RendererExistenceEvent.RENDERER_REMOVE,this.dataGroup_rendererRemoveHandler,this))};b.prototype.updateRenderer=function(a,b,d){this.itemSelected(b,this._isItemIndexSelected(b));return c.prototype.updateRenderer.call(this,
a,b,d)};b.prototype.itemToLabel=function(a){if(null!=this._labelFunction)return this._labelFunction(a);if("string"==typeof a)return a;if(a instanceof d.XML)try{0!=a[this.labelField].length()&&(a=a[this.labelField])}catch(b){}else if(a instanceof Object)try{null!=a[this.labelField]&&(a=a[this.labelField])}catch(c){}if("string"==typeof a)return a;try{if(null!==a)return a.toString()}catch(e){}return" "};b.prototype.itemSelected=function(a,b){if(this.dataGroup){var c=this.dataGroup.getElementAt(a);null!=
c&&(c.selected=b)}};b.prototype._isItemIndexSelected=function(a){return a==this.selectedIndex};b.prototype.commitSelection=function(a){"undefined"===typeof a&&(a=!0);var c=this.dataProvider?this.dataProvider.length-1:-1,d=this._selectedIndex;if(!this._allowCustomSelectedItem||this._proposedSelectedIndex!=b.CUSTOM_SELECTED_ITEM)if(this._proposedSelectedIndex<b.NO_SELECTION&&(this._proposedSelectedIndex=b.NO_SELECTION),this._proposedSelectedIndex>c&&(this._proposedSelectedIndex=c),this.requireSelection&&
this._proposedSelectedIndex==b.NO_SELECTION&&this.dataProvider&&0<this.dataProvider.length)return this._proposedSelectedIndex=b.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=!1;c=this._proposedSelectedIndex;if(this._dispatchChangeAfterSelection&&!e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGING,this._selectedIndex,this._proposedSelectedIndex,!0))return this.itemSelected(this._proposedSelectedIndex,!1),this._proposedSelectedIndex=b.NO_PROPOSED_SELECTION,this._dispatchChangeAfterSelection=
!1;this._selectedIndex=c;this._proposedSelectedIndex=b.NO_PROPOSED_SELECTION;d!=b.NO_SELECTION&&this.itemSelected(d,!1);this._selectedIndex!=b.NO_SELECTION&&this.itemSelected(this._selectedIndex,!0);a&&(this._dispatchChangeAfterSelection&&(e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGE,d,this._selectedIndex),this._dispatchChangeAfterSelection=!1),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT));return!0};b.prototype.adjustSelection=function(a,c){this._proposedSelectedIndex!=
b.NO_PROPOSED_SELECTION?this._proposedSelectedIndex=a:this._selectedIndex=a;this.selectedIndexAdjusted=!0;this.invalidateProperties()};b.prototype.itemAdded=function(a){this._doingWholesaleChanges||(this.selectedIndex==b.NO_SELECTION?this.requireSelection&&this.adjustSelection(a,!0):a<=this.selectedIndex&&this.adjustSelection(this.selectedIndex+1,!0))};b.prototype.itemRemoved=function(a){this.selectedIndex==b.NO_SELECTION||this._doingWholesaleChanges||(a==this.selectedIndex?this.requireSelection&&
this.dataProvider&&0<this.dataProvider.length?0==a?(this._proposedSelectedIndex=0,this.invalidateProperties()):this._setSelectedIndex(0,!1):this.adjustSelection(-1,!1):a<this.selectedIndex&&this.adjustSelection(this.selectedIndex-1,!1))};b.prototype.dataGroup_rendererAddHandler=function(a){a=a.renderer;null!=a&&(a.addEventListener(d.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),a.addEventListener(d.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))};b.prototype.dataGroup_rendererRemoveHandler=
function(a){a=a.renderer;null!=a&&(a.removeEventListener(d.TouchEvent.TOUCH_ROLL_OVER,this.item_mouseEventHandler,this),a.removeEventListener(d.TouchEvent.TOUCH_ROLL_OUT,this.item_mouseEventHandler,this))};b.prototype.item_mouseEventHandler=function(a){var c=a.type,c=b.TYPE_MAP[c];this.hasEventListener(c)&&this._dispatchListEvent(a,c,a.currentTarget)};b.prototype._dispatchListEvent=function(a,b,c){var d=-1,d=c?c.itemIndex:this.dataGroup.getElementIndex(a.currentTarget),f=this.dataProvider.getItemAt(d);
e.ListEvent.dispatchListEvent(this,b,a,d,f,c)};b.prototype.dataProvider_collectionChangeHandler=function(a){var c=a.items;if(a.kind==e.CollectionEventKind.ADD)for(var c=c.length,d=0;d<c;d++)this.itemAdded(a.location+d);else if(a.kind==e.CollectionEventKind.REMOVE)for(c=c.length,d=c-1;0<=d;d--)this.itemRemoved(a.location+d);else a.kind==e.CollectionEventKind.MOVE?(this.itemRemoved(a.oldLocation),this.itemAdded(a.location)):a.kind==e.CollectionEventKind.RESET?0==this.dataProvider.length?this._setSelectedIndex(b.NO_SELECTION,
!1):(this.dataProviderChanged=!0,this.invalidateProperties()):a.kind==e.CollectionEventKind.REFRESH&&this._setSelectedIndex(b.NO_SELECTION,!1)};b.NO_SELECTION=-1;b.NO_PROPOSED_SELECTION=-2;b.CUSTOM_SELECTED_ITEM=-3;b.TYPE_MAP={rollOver:"itemRollOver",rollOut:"itemRollOut"};return b}(e.SkinnableDataContainer);e.ListBase=f;f.prototype.__class__="egret.gui.ListBase"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._title="";this.hostComponentKey="egret.gui.Panel";this.touchEnabled=!1}__extends(b,c);Object.defineProperty(b.prototype,"title",{get:function(){return this._title},set:function(a){this._title=a;this.titleDisplay&&(this.titleDisplay.text=this.title)},enumerable:!0,configurable:!0});b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.titleDisplay&&(this.titleDisplay.text=this.title)};return b}(d.SkinnableContainer);
d.Panel=f;f.prototype.__class__="egret.gui.Panel"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._autoBackToStage=this._showCloseButton=!0;this.hostComponentKey="egret.gui.TitleWindow";this.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.onWindowMouseDown,this,!0,100)}__extends(b,c);b.prototype.onWindowMouseDown=function(a){this.enabled&&this.isPopUp&&a.target!=this.closeButton&&e.PopUpManager.bringToFront(this)};Object.defineProperty(b.prototype,"showCloseButton",{get:function(){return this._showCloseButton},set:function(a){this._showCloseButton!=
a&&(this._showCloseButton=a,this.closeButton&&(this.closeButton.visible=this._showCloseButton))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"autoBackToStage",{get:function(){return this._autoBackToStage},set:function(a){this._autoBackToStage=a},enumerable:!0,configurable:!0});b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.moveArea?this.moveArea.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):b==this.closeButton&&
(this.closeButton.addEventListener(d.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this),this.closeButton.visible=this._showCloseButton)};b.prototype.partRemoved=function(a,b){c.prototype.partRemoved.call(this,a,b);b==this.moveArea?this.moveArea.removeEventListener(d.TouchEvent.TOUCH_BEGIN,this.moveArea_mouseDownHandler,this):b==this.closeButton&&this.closeButton.removeEventListener(d.TouchEvent.TOUCH_TAP,this.closeButton_clickHandler,this)};b.prototype.closeButton_clickHandler=function(a){e.CloseEvent.dispatchCloseEvent(this,
e.CloseEvent.CLOSE)};b.prototype.moveArea_mouseDownHandler=function(a){this.enabled&&this.isPopUp&&(a=this.globalToLocal(a.stageX,a.stageY,d.Point.identity),this._offsetPointX=a.x,this._offsetPointY=a.y,this._includeInLayout=!1,e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this),e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,
this))};b.prototype.moveArea_mouseMoveHandler=function(a){a=this.globalToLocal(a.stageX,a.stageY,d.Point.identity);this.x+=a.x-this._offsetPointX;this.y+=a.y-this._offsetPointY};b.prototype.moveArea_mouseUpHandler=function(a){e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_MOVE,this.moveArea_mouseMoveHandler,this);e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.moveArea_mouseUpHandler,this);e.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,this.moveArea_mouseUpHandler,
this);this._autoBackToStage&&this.adjustPosForStage();e.LayoutUtil.adjustRelativeByXY(this);this.includeInLayout=!0};b.prototype.adjustPosForStage=function(){if(this.moveArea&&this.stage){var a=this.moveArea.localToGlobal(0,0),b=a.x,c=a.y;35>a.x+this.moveArea.width&&(b=35-this.moveArea.width);a.x>this.stage.stageWidth-20&&(b=this.stage.stageWidth-20);20>a.y+this.moveArea.height&&(c=20-this.moveArea.height);a.y>this.stage.stageHeight-20&&(c=this.stage.stageHeight-20);this.x+=b-a.x;this.y+=c-a.y}};
return b}(e.Panel);e.TitleWindow=f;f.prototype.__class__="egret.gui.TitleWindow"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._contentText=this._secondButtonLabel=this._firstButtonLabel="";this.hostComponentKey="egret.gui.Alert"}__extends(b,c);b.show=function(a,c,d,f,l,h,m){"undefined"===typeof a&&(a="");"undefined"===typeof c&&(c="");"undefined"===typeof d&&(d=null);"undefined"===typeof f&&(f="\u786e\u5b9a");"undefined"===typeof l&&(l="");"undefined"===typeof h&&(h=!0);"undefined"===typeof m&&(m=!0);var q=new b;q.contentText=a;q.title=c;q._firstButtonLabel=
f;q._secondButtonLabel=l;q.closeHandler=d;e.PopUpManager.addPopUp(q,h,m);return q};Object.defineProperty(b.prototype,"firstButtonLabel",{get:function(){return this._firstButtonLabel},set:function(a){this._firstButtonLabel!=a&&(this._firstButtonLabel=a,this.firstButton&&(this.firstButton.label=a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"secondButtonLabel",{get:function(){return this._secondButtonLabel},set:function(a){this._secondButtonLabel!=a&&(this._secondButtonLabel=
a,!this.secondButton||null!=a&&""!=a||(this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"contentText",{get:function(){return this._contentText},set:function(a){this._contentText!=a&&(this._contentText=a,this.contentDisplay&&(this.contentDisplay.text=a))},enumerable:!0,configurable:!0});b.prototype.onClose=function(a){e.PopUpManager.removePopUp(this);if(null!=this.closeHandler){var c=
new e.CloseEvent(e.CloseEvent.CLOSE);switch(a.currentTarget){case this.firstButton:c.detail=b.FIRST_BUTTON;break;case this.secondButton:c.detail=b.SECOND_BUTTON}this.closeHandler(c)}};b.prototype.closeButton_clickHandler=function(a){c.prototype.closeButton_clickHandler.call(this,a);e.PopUpManager.removePopUp(this);a=new e.CloseEvent(e.CloseEvent.CLOSE,!1,!1,b.CLOSE_BUTTON);null!=this.closeHandler&&this.closeHandler(a)};b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.contentDisplay?
this.contentDisplay.text=this._contentText:b==this.firstButton?(this.firstButton.label=this._firstButtonLabel,this.firstButton.addEventListener(d.TouchEvent.TOUCH_TAP,this.onClose,this)):b==this.secondButton&&(this.secondButton.label=this._secondButtonLabel,this.secondButton.includeInLayout=this.secondButton.visible=""!=this._secondButtonLabel&&null!=this._secondButtonLabel,this.secondButton.addEventListener(d.TouchEvent.TOUCH_TAP,this.onClose,this))};b.prototype.partRemoved=function(a,b){c.prototype.partRemoved.call(this,
a,b);b==this.firstButton?this.firstButton.removeEventListener(d.TouchEvent.TOUCH_TAP,this.onClose,this):b==this.secondButton&&this.secondButton.removeEventListener(d.TouchEvent.TOUCH_TAP,this.onClose,this)};b.FIRST_BUTTON="firstButton";b.SECOND_BUTTON="secondButton";b.CLOSE_BUTTON="closeButton";return b}(e.TitleWindow);e.Alert=f;f.prototype.__class__="egret.gui.Alert"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._slideDuration=500;this._direction=e.ProgressBarDirection.LEFT_TO_RIGHT;this.animationValue=0;this.trackResizedOrMoved=!1;this.hostComponentKey="egret.gui.ProgressBar"}__extends(b,c);Object.defineProperty(b.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(a){this._labelFunction!=a&&(this._labelFunction=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});b.prototype.valueToLabel=
function(a,b){return null!=this.labelFunction?this._labelFunction(a,b):a+" / "+b};Object.defineProperty(b.prototype,"slideDuration",{get:function(){return this._slideDuration},set:function(a){this._slideDuration!=a&&(this._slideDuration=a,this.animator&&this.animator.isPlaying&&(this.animator.stop(),this._setValue(this.slideToValue)))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"direction",{get:function(){return this._direction},set:function(a){this._direction!=a&&(this._direction=
a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"value",{get:function(){return this._getValue()},set:function(a){this._getValue()!=a&&(this._setValue(a),0<this._slideDuration&&this.stage?(this.validateProperties(),this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,this)),this.animator.isPlaying&&(this.animationValue=this.slideToValue,this.invalidateDisplayList(),this.animator.stop()),this.slideToValue=this.nearestValidValue(a,
this.snapInterval),this.slideToValue!=this.animationValue&&(a=this._slideDuration*(Math.abs(this.animationValue-this.slideToValue)/(this.maximum-this.minimum)),this.animator.duration=Infinity===a?0:a,this.animator.motionPaths=[{prop:"value",from:this.animationValue,to:this.slideToValue}],this.animator.play())):this.animationValue=this._getValue())},enumerable:!0,configurable:!0});b.prototype.animationUpdateHandler=function(a){a=this.nearestValidValue(a.currentValue.value,this.snapInterval);this.animationValue=
Math.min(this.maximum,Math.max(this.minimum,a));this.invalidateDisplayList()};b.prototype.setValue=function(a){c.prototype.setValue.call(this,a);this.invalidateDisplayList()};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b);this.updateSkinDisplayList()};b.prototype.partAdded=function(a,b){b==this.track&&this.track instanceof e.UIComponent&&(this.track.addEventListener(e.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.addEventListener(e.MoveEvent.MOVE,
this.onTrackResizeOrMove,this))};b.prototype.partRemoved=function(a,b){b==this.track&&this.track instanceof e.UIComponent&&(this.track.removeEventListener(e.ResizeEvent.RESIZE,this.onTrackResizeOrMove,this),this.track.removeEventListener(e.MoveEvent.MOVE,this.onTrackResizeOrMove,this))};b.prototype.onTrackResizeOrMove=function(a){this.trackResizedOrMoved=!0;this.invalidateProperties()};b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this.trackResizedOrMoved&&(this.trackResizedOrMoved=
!1,this.updateSkinDisplayList())};b.prototype.updateSkinDisplayList=function(){this.trackResizedOrMoved=!1;var a=this.value;this.animator&&this.animator.isPlaying?a=this.animationValue:(a=this.value,isNaN(a)&&(a=0));var b=isNaN(this.maximum)?0:this.maximum;if(this.thumb&&this.track){var c=isNaN(this.track.width)?0:this.track.width,c=c*this.track.scaleX,f=isNaN(this.track.height)?0:this.track.height,f=f*this.track.scaleY,l=Math.round(a/b*c);if(isNaN(l)||0>l||Infinity===l)l=0;var h=Math.round(a/b*f);
if(isNaN(h)||0>h||Infinity===h)h=0;var m=this.track.localToGlobal(0,0),q=this.globalToLocal(m.x,m.y,d.Point.identity),m=q.x,q=q.y;switch(this._direction){case e.ProgressBarDirection.LEFT_TO_RIGHT:this.thumb.width=l;this.thumb.height=f;this.thumb.x=m;break;case e.ProgressBarDirection.RIGHT_TO_LEFT:this.thumb.width=l;this.thumb.height=f;this.thumb.x=m+c-l;break;case e.ProgressBarDirection.TOP_TO_BOTTOM:this.thumb.width=c;this.thumb.height=h;this.thumb.y=q;break;case e.ProgressBarDirection.BOTTOM_TO_TOP:this.thumb.width=
c,this.thumb.height=h,this.thumb.y=q+f-h}}this.labelDisplay&&(this.labelDisplay.text=this.valueToLabel(a,b))};return b}(e.Range);e.ProgressBar=f;f.prototype.__class__="egret.gui.ProgressBar"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(d){var f=function(){function c(){}c.LEFT_TO_RIGHT="leftToRight";c.RIGHT_TO_LEFT="rightToLeft";c.TOP_TO_BOTTOM="topToBottom";c.BOTTOM_TO_TOP="bottomToTop";return c}();d.ProgressBarDirection=f;f.prototype.__class__="egret.gui.ProgressBarDirection"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.hostComponentKey="egret.gui.HSlider"}__extends(b,c);b.prototype.pointToValue=function(a,b){if(!this.thumb||!this.track)return 0;var c=this.maximum-this.minimum,d=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth;return this.minimum+(0!=d?a/d*c:0)};b.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var a=this.track.layoutBoundsWidth-this.thumb.layoutBoundsWidth,b=this.maximum-this.minimum,a=0<b?
(this.pendingValue-this.minimum)/b*a:0,c=this.track.localToGlobal(a,0),b=c.x,c=c.y,e=this.thumb.parent.globalToLocal(b,c,d.Point.identity).x;this.thumb.setLayoutBoundsPosition(Math.round(e),this.thumb.layoutBoundsY);this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight.parent&&(b=this.trackHighlight.parent.globalToLocal(b,c,d.Point.identity).x-a,this.trackHighlight.x=Math.round(b),this.trackHighlight.width=Math.round(a))}};return b}(e.SliderBase);e.HSlider=f;f.prototype.__class__="egret.gui.HSlider"})(d.gui||
(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.hostComponentKey="egret.gui.VSlider"}__extends(b,c);b.prototype.pointToValue=function(a,b){if(!this.thumb||!this.track)return 0;var c=this.maximum-this.minimum,d=this.track.layoutBoundsHeight-this.thumb.layoutBoundsHeight;return this.minimum+(0!=d?(d-b)/d*c:0)};b.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var a=this.thumb.layoutBoundsHeight,b=this.track.layoutBoundsHeight-a,c=this.maximum-this.minimum,
e=this.track.localToGlobal(0,0<c?b-(this.pendingValue-this.minimum)/c*b:0),c=e.x,e=e.y,f=this.thumb.parent.globalToLocal(c,e,d.Point.identity).y;this.thumb.setLayoutBoundsPosition(this.thumb.layoutBoundsX,Math.round(f));this.showTrackHighlight&&this.trackHighlight&&this.trackHighlight._parent&&(c=this.trackHighlight._parent.globalToLocal(c,e,d.Point.identity).y,this.trackHighlight.y=Math.round(c+a),this.trackHighlight.height=Math.round(b-c))}};return b}(e.SliderBase);e.VSlider=f;f.prototype.__class__=
"egret.gui.VSlider"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._allowMultipleSelection=!1;this._selectedIndices=[];this._captureItemRenderer=!0;this.hostComponentKey="egret.gui.List";this.useVirtualLayout=!0}__extends(b,c);b.prototype.createChildren=function(){this.itemRenderer||(this.itemRenderer=e.DataGroup.defaultRendererFactory);c.prototype.createChildren.call(this)};Object.defineProperty(b.prototype,"useVirtualLayout",{get:function(){return this._getUseVirtualLayout()},set:function(a){this._setUseVirtualLayout(a)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"allowMultipleSelection",{get:function(){return this._allowMultipleSelection},set:function(a){this._allowMultipleSelection=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedIndices",{get:function(){return this._proposedSelectedIndices?this._proposedSelectedIndices:this._selectedIndices},set:function(a){this._setSelectedIndices(a,!1)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedIndex",
{get:function(){return this._proposedSelectedIndices?0<this._proposedSelectedIndices.length?this._proposedSelectedIndices[0]:-1:this._getSelectedIndex()},set:function(a){this._setSelectedIndex(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"selectedItems",{get:function(){var a=[],b=this.selectedIndices;if(b)for(var c=b.length,d=0;d<c;d++)a[d]=this.dataProvider.getItemAt(b[d]);return a},set:function(a){var b=[];if(a)for(var c=a.length,d=0;d<c;d++){var e=this.dataProvider.getItemIndex(a[d]);
-1!=e&&b.splice(0,0,e);if(-1==e){b=[];break}}this._setSelectedIndices(b,!1)},enumerable:!0,configurable:!0});b.prototype._setSelectedIndices=function(a,b){"undefined"===typeof b&&(b=!1);b&&(this._dispatchChangeAfterSelection=this._dispatchChangeAfterSelection||b);this._proposedSelectedIndices=a?a:[];this.invalidateProperties()};b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this._proposedSelectedIndices&&this.commitSelection()};b.prototype.commitSelection=function(a){"undefined"===
typeof a&&(a=!0);var b=this._selectedIndex;if(this._proposedSelectedIndices){this._proposedSelectedIndices=this._proposedSelectedIndices.filter(this.isValidIndex);if(!this.allowMultipleSelection&&0<this._proposedSelectedIndices.length){var d=[];d.push(this._proposedSelectedIndices[0]);this._proposedSelectedIndices=d}this._proposedSelectedIndex=0<this._proposedSelectedIndices.length?this._proposedSelectedIndices[0]:-1}d=c.prototype.commitSelection.call(this,!1);if(!d)return this._proposedSelectedIndices=
null,!1;this.selectedIndex>e.ListBase.NO_SELECTION&&(this._proposedSelectedIndices?-1==this._proposedSelectedIndices.indexOf(this.selectedIndex)&&this._proposedSelectedIndices.push(this.selectedIndex):this._proposedSelectedIndices=[this.selectedIndex]);this._proposedSelectedIndices&&(-1!=this._proposedSelectedIndices.indexOf(b)&&this.itemSelected(b,!0),this.commitMultipleSelection());a&&d&&(this._dispatchChangeAfterSelection&&(e.IndexChangeEvent.dispatchIndexChangeEvent(this,e.IndexChangeEvent.CHANGE,
b,this._selectedIndex),this._dispatchChangeAfterSelection=!1),e.UIEvent.dispatchUIEvent(this,e.UIEvent.VALUE_COMMIT));return d};b.prototype.isValidIndex=function(a,b,c){return this.dataProvider&&0<=a&&a<this.dataProvider.length};b.prototype.commitMultipleSelection=function(){var a=[],b=[],c,d;if(0<this._selectedIndices.length&&0<this._proposedSelectedIndices.length){d=this._proposedSelectedIndices.length;for(c=0;c<d;c++)-1==this._selectedIndices.indexOf(this._proposedSelectedIndices[c])&&b.push(this._proposedSelectedIndices[c]);
d=this._selectedIndices.length;for(c=0;c<d;c++)-1==this._proposedSelectedIndices.indexOf(this._selectedIndices[c])&&a.push(this._selectedIndices[c])}else 0<this._selectedIndices.length?a=this._selectedIndices:0<this._proposedSelectedIndices.length&&(b=this._proposedSelectedIndices);this._selectedIndices=this._proposedSelectedIndices;if(0<a.length)for(d=a.length,c=0;c<d;c++)this.itemSelected(a[c],!1);if(0<b.length)for(d=b.length,c=0;c<d;c++)this.itemSelected(b[c],!0);this._proposedSelectedIndices=
null};b.prototype._isItemIndexSelected=function(a){return this._allowMultipleSelection?-1!=this._selectedIndices.indexOf(a):c.prototype._isItemIndexSelected.call(this,a)};b.prototype.dataGroup_rendererAddHandler=function(a){c.prototype.dataGroup_rendererAddHandler.call(this,a);a=a.renderer;null!=a&&(a.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.item_mouseDownHandler,this),a.addEventListener(d.TouchEvent.TOUCH_END,this.item_mouseUpHandler,this))};b.prototype.dataGroup_rendererRemoveHandler=function(a){c.prototype.dataGroup_rendererRemoveHandler.call(this,
a);a=a.renderer;null!=a&&(a.removeEventListener(d.TouchEvent.TOUCH_BEGIN,this.item_mouseDownHandler,this),a.removeEventListener(d.TouchEvent.TOUCH_END,this.item_mouseUpHandler,this))};b.prototype.item_mouseDownHandler=function(a){if(!a.isDefaultPrevented()){var b=a.currentTarget,c;c=b?b.itemIndex:this.dataGroup.getElementIndex(a.currentTarget);this._allowMultipleSelection?this._setSelectedIndices(this.calculateSelectedIndices(c,a.shiftKey,a.ctrlKey),!0):this._setSelectedIndex(c,!0);this._captureItemRenderer&&
(this.mouseDownItemRenderer=b,e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this))}};b.prototype.calculateSelectedIndices=function(a,b,c){var d=[];if(b)if(b=0<this._selectedIndices.length?this._selectedIndices[this._selectedIndices.length-1]:0,b<a)for(;b<=a;b++)d.splice(0,0,b);else for(;b>=a;b--)d.splice(0,0,b);else if(c)if(0<this._selectedIndices.length)if(1==this._selectedIndices.length&&
this._selectedIndices[0]==a){if(!this.requireSelection)return d;d.splice(0,0,this._selectedIndices[0])}else{c=!1;for(b=0;b<this._selectedIndices.length;b++)this._selectedIndices[b]==a?c=!0:this._selectedIndices[b]!=a&&d.splice(0,0,this._selectedIndices[b]);c||d.splice(0,0,a)}else d.splice(0,0,a);else d.splice(0,0,a);return d};b.prototype.item_mouseUpHandler=function(a){var b=a.currentTarget;b==this.mouseDownItemRenderer&&this._dispatchListEvent(a,e.ListEvent.ITEM_CLICK,b)};b.prototype.stage_mouseUpHandler=
function(a){e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this);e.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this);this.mouseDownItemRenderer=null};return b}(e.ListBase);e.List=f;f.prototype.__class__="egret.gui.List"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._displayPopUp=this._popUpWidthMatchesAnchorWidth=this._popUpHeightMatchesAnchorHeight=this.addedToStage=this.popUpIsDisplayed=!1;this._popUpPosition=e.PopUpPosition.TOP_LEFT;this.inAnimation=!1;this.animator=null;this._openDuration=250;this._closeDuration=150;this.valueRange=1;this.addEventListener(d.Event.ADDED_TO_STAGE,this.addedToStageHandler,this);this.addEventListener(d.Event.REMOVED_FROM_STAGE,this.removedFromStageHandler,
this)}__extends(b,c);Object.defineProperty(b.prototype,"popUpHeightMatchesAnchorHeight",{get:function(){return this._popUpHeightMatchesAnchorHeight},set:function(a){this._popUpHeightMatchesAnchorHeight!=a&&(this._popUpHeightMatchesAnchorHeight=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"popUpWidthMatchesAnchorWidth",{get:function(){return this._popUpWidthMatchesAnchorWidth},set:function(a){this._popUpWidthMatchesAnchorWidth!=a&&(this._popUpWidthMatchesAnchorWidth=
a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"displayPopUp",{get:function(){return this._displayPopUp},set:function(a){this._displayPopUp!=a&&(this._displayPopUp=a,this.addOrRemovePopUp())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"popUp",{get:function(){return this._popUp},set:function(a){this._popUp!=a&&(this._popUp=a,this.dispatchEventWith("popUpChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"popUpPosition",{get:function(){return this._popUpPosition},set:function(a){this._popUpPosition!=a&&(this._popUpPosition=a,this.invalidateDisplayList())},enumerable:!0,configurable:!0});b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b);this.applyPopUpTransform(a,b)};b.prototype.updatePopUpTransform=function(){this.applyPopUpTransform(this.width,this.height)};b.prototype.calculatePopUpPosition=function(){var a=d.Point.identity;switch(this._popUpPosition){case e.PopUpPosition.BELOW:a.x=
0;a.y=this.height;break;case e.PopUpPosition.ABOVE:a.x=0;a.y=-this.popUp.layoutBoundsHeight;break;case e.PopUpPosition.LEFT:a.x=-this.popUp.layoutBoundsWidth;a.y=0;break;case e.PopUpPosition.RIGHT:a.x=this.width;a.y=0;break;case e.PopUpPosition.CENTER:a.x=0.5*(this.width-this.popUp.layoutBoundsWidth),a.y=0.5*(this.height-this.popUp.layoutBoundsHeight)}a=this.localToGlobal(a.x,a.y,a);return a=this.popUp.parent.globalToLocal(a.x,a.y,a)};Object.defineProperty(b.prototype,"openDuration",{get:function(){return this._openDuration},
set:function(a){this._openDuration=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"closeDuration",{get:function(){return this._closeDuration},set:function(a){this._closeDuration=a},enumerable:!0,configurable:!0});b.prototype.animationStartHandler=function(a){this.inAnimation=!0;this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!1)};b.prototype.animationUpdateHandler=function(a){var b=this.popUp._scrollRect,c=Math.round(a.currentValue.x);a=Math.round(a.currentValue.y);b?
(b.x=c,b.y=a,b.width=this.popUp.width,b.height=this.popUp.height):this.popUp._scrollRect=new d.Rectangle(c,a,this.popUp.width,this.popUp.height)};b.prototype.animationEndHandler=function(a){this.inAnimation=!1;this.popUp&&"enabled"in this.popUp&&(this.popUp.enabled=!0);this.popUp.scrollRect=null;this.popUpIsDisplayed||(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))};b.prototype.addOrRemovePopUp=function(){this.addedToStage&&this.popUp&&(null==this.popUp.parent&&this.displayPopUp?
(e.PopUpManager.addPopUp(this.popUp,!1,!1),this.popUp.ownerChanged(this),this.popUpIsDisplayed=!0,this.inAnimation&&this.animator.end(),this.initialized?(this.applyPopUpTransform(this.width,this.height),0<this._openDuration&&this.startAnimation()):d.callLater(function(){0<this.openDuration&&this.startAnimation()},this)):null==this.popUp.parent||this.displayPopUp||this.removeAndResetPopUp())};b.prototype.removeAndResetPopUp=function(){this.inAnimation&&this.animator.end();this.popUpIsDisplayed=!1;
0<this._closeDuration?this.startAnimation():(e.PopUpManager.removePopUp(this.popUp),this.popUp.ownerChanged(null))};b.prototype.applyPopUpTransform=function(a,b){if(this.popUpIsDisplayed){this.popUpWidthMatchesAnchorWidth&&(this.popUp.width=a);this.popUpHeightMatchesAnchorHeight&&(this.popUp.height=b);"validateNow"in this.popUp&&this.popUp.validateNow();var c=this.calculatePopUpPosition();this.popUp.x=c.x;this.popUp.y=c.y}};b.prototype.startAnimation=function(){this.animator||(this.animator=new e.Animation(this.animationUpdateHandler,
this),this.animator.endFunction=this.animationEndHandler,this.animator.startFunction=this.animationStartHandler);this.animator.motionPaths=this.createMotionPath();this.animator.duration=this.popUpIsDisplayed?this._openDuration:this._closeDuration;this.animator.play()};b.prototype.createMotionPath=function(){var a={prop:"x"},b={prop:"y"},c=[a,b];switch(this._popUpPosition){case e.PopUpPosition.TOP_LEFT:case e.PopUpPosition.CENTER:case e.PopUpPosition.BELOW:a.from=a.to=0;b.from=this.popUp.height;b.to=
0;this.valueRange=this.popUp.height;break;case e.PopUpPosition.ABOVE:a.from=a.to=0;b.from=-this.popUp.height;b.to=0;this.valueRange=this.popUp.height;break;case e.PopUpPosition.LEFT:b.from=b.to=0;a.from=-this.popUp.width;a.to=0;this.valueRange=this.popUp.width;break;case e.PopUpPosition.RIGHT:b.from=b.to=0;a.from=this.popUp.width;a.to=0;this.valueRange=this.popUp.width;break;default:this.valueRange=1}this.valueRange=Math.abs(this.valueRange);if(!this.popUpIsDisplayed){var d=a.from;a.from=a.to;a.to=
d;d=b.from;b.from=b.to;b.to=d}return c};b.prototype.addedToStageHandler=function(a){this.addedToStage=!0;d.callLater(this.checkPopUpState,this)};b.prototype.checkPopUpState=function(){this.addedToStage?this.addOrRemovePopUp():null!=this.popUp&&null!=this.popUp.parent&&this.removeAndResetPopUp()};b.prototype.removedFromStageHandler=function(a){this.addedToStage=!1;d.callLater(this.checkPopUpState,this)};return b}(e.UIComponent);e.PopUpAnchor=f;f.prototype.__class__="egret.gui.PopUpAnchor"})(d.gui||
(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._isOpen=!1;this._closeOnResize=!0;this._rollOverOpenDelay=NaN}__extends(b,c);Object.defineProperty(b.prototype,"openButton",{get:function(){return this._openButton},set:function(a){this._openButton!==a&&(this.removeOpenTriggers(),this._openButton=a,this.addOpenTriggers())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"dropDown",{get:function(){return this._dropDown},set:function(a){this._dropDown!==a&&
(this._dropDown=a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isOpen",{get:function(){return this._isOpen},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"closeOnResize",{get:function(){return this._closeOnResize},set:function(a){this._closeOnResize!=a&&(this.isOpen&&this.removeCloseOnResizeTrigger(),this._closeOnResize=a,this.addCloseOnResizeTrigger())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"rollOverOpenDelay",{get:function(){return this._rollOverOpenDelay},
set:function(a){this._rollOverOpenDelay!=a&&(this.removeOpenTriggers(),this._rollOverOpenDelay=a,this.addOpenTriggers())},enumerable:!0,configurable:!0});b.prototype.addOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?this.openButton.addEventListener(e.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.addEventListener(d.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))};b.prototype.removeOpenTriggers=function(){this.openButton&&(isNaN(this.rollOverOpenDelay)?
this.openButton.removeEventListener(e.UIEvent.BUTTON_DOWN,this._openButton_buttonDownHandler,this):this.openButton.removeEventListener(d.TouchEvent.TOUCH_ROLL_OVER,this._openButton_rollOverHandler,this))};b.prototype.addCloseTriggers=function(){e.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):
e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,this),this.addCloseOnResizeTrigger())};b.prototype.removeCloseTriggers=function(){e.UIGlobals.stage&&(isNaN(this.rollOverOpenDelay)?(e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_BEGIN,this.stage_mouseDownHandler,this),e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler_noRollOverOpenDelay,this)):(e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_MOVE,this.stage_mouseMoveHandler,
this),e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)),this.removeCloseOnResizeTrigger())};b.prototype.addCloseOnResizeTrigger=function(){this.closeOnResize&&e.UIGlobals.stage.addEventListener(d.Event.RESIZE,this.stage_resizeHandler,this)};b.prototype.removeCloseOnResizeTrigger=function(){this.closeOnResize&&e.UIGlobals.stage.removeEventListener(d.Event.RESIZE,this.stage_resizeHandler,
this)};b.prototype.isTargetOverDropDownOrOpenButton=function(a){if(a){if(this.openButton&&this.openButton.contains(a))return!0;if(null!=this.hitAreaAdditions)for(var b=0;b<this.hitAreaAdditions.length;b++)if(this.hitAreaAdditions[b]==a||this.hitAreaAdditions[b]instanceof d.DisplayObjectContainer&&this.hitAreaAdditions[b].contains(a))return!0;if(this.dropDown instanceof d.DisplayObjectContainer){if(this.dropDown.contains(a))return!0}else if(a==this.dropDown)return!0}return!1};b.prototype.openDropDown=
function(){this.openDropDownHelper()};b.prototype.openDropDownHelper=function(){this.isOpen||(this.addCloseTriggers(),this._isOpen=!0,this.openButton&&this.openButton._setKeepDown(!0),e.UIEvent.dispatchUIEvent(this,e.UIEvent.OPEN))};b.prototype.closeDropDown=function(a){if(this.isOpen){this._isOpen=!1;this.openButton&&this.openButton._setKeepDown(!1);var b=new e.UIEvent(e.UIEvent.CLOSE,!1,!0);a||b.preventDefault();this.dispatchEvent(b);this.removeCloseTriggers()}};b.prototype._openButton_buttonDownHandler=
function(a){this.isOpen?this.closeDropDown(!0):(this.mouseIsDown=!0,this.openDropDownHelper())};b.prototype._openButton_rollOverHandler=function(a){0==this.rollOverOpenDelay?this.openDropDownHelper():(this.openButton.addEventListener(d.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this),this.rollOverOpenDelayTimer=new d.Timer(this.rollOverOpenDelay,1),this.rollOverOpenDelayTimer.addEventListener(d.TimerEvent.TIMER_COMPLETE,this.rollOverDelay_timerCompleteHandler,this),this.rollOverOpenDelayTimer.start())};
b.prototype.openButton_rollOutHandler=function(a){this.rollOverOpenDelayTimer&&this.rollOverOpenDelayTimer.running&&(this.rollOverOpenDelayTimer.stop(),this.rollOverOpenDelayTimer=null);this.openButton.removeEventListener(d.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this)};b.prototype.rollOverDelay_timerCompleteHandler=function(a){this.openButton.removeEventListener(d.TouchEvent.TOUCH_ROLL_OUT,this.openButton_rollOutHandler,this);this.rollOverOpenDelayTimer=null;this.openDropDownHelper()};
b.prototype.stage_mouseDownHandler=function(a){if(this.mouseIsDown)this.mouseIsDown=!1;else if(!this.dropDown||this.dropDown&&(a.target==this.dropDown||this.dropDown instanceof d.DisplayObjectContainer&&!this.dropDown.contains(a.target))){var b=a.target;if(!(this.openButton&&b&&this.openButton.contains(b))){if(null!=this.hitAreaAdditions)for(b=0;b<this.hitAreaAdditions.length;b++)if(this.hitAreaAdditions[b]==a.target||this.hitAreaAdditions[b]instanceof d.DisplayObjectContainer&&this.hitAreaAdditions[b].contains(a.target))return;
this.closeDropDown(!0)}}};b.prototype.stage_mouseMoveHandler=function(a){this.isTargetOverDropDownOrOpenButton(a.target)||(a instanceof d.TouchEvent&&a.touchDown?(e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):this.closeDropDown(!0))};b.prototype.stage_mouseUpHandler_noRollOverOpenDelay=function(a){this.mouseIsDown&&(this.mouseIsDown=!1)};b.prototype.stage_mouseUpHandler=
function(a){this.isTargetOverDropDownOrOpenButton(a.target)?(e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.stage_mouseUpHandler,this),e.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,this.stage_mouseUpHandler,this)):this.closeDropDown(!0)};b.prototype.stage_resizeHandler=function(a){this.closeDropDown(!0)};b.prototype.stage_mouseWheelHandler=function(a){!this.dropDown||this.dropDown.contains(a.target)&&a.isDefaultPrevented()||this.closeDropDown(!1)};return b}(d.EventDispatcher);
e.DropDownController=f;f.prototype.__class__="egret.gui.DropDownController"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._labelChanged=!1;this._userProposedSelectedIndex=d.ListBase.NO_SELECTION;this._captureItemRenderer=!1;this.dropDownController=new d.DropDownController}__extends(b,c);b.prototype._setDataProvider=function(a){this.dataProvider!==a&&(c.prototype._setDataProvider.call(this,a),this._labelChanged=!0,this.invalidateProperties())};b.prototype._setLabelField=function(a){this.labelField!=a&&(c.prototype._setLabelField.call(this,a),this._labelChanged=
!0,this.invalidateProperties())};b.prototype._setLabelFunction=function(a){this.labelFunction!=a&&(c.prototype._setLabelFunction.call(this,a),this._labelChanged=!0,this.invalidateProperties())};Object.defineProperty(b.prototype,"dropDownController",{get:function(){return this._dropDownController},set:function(a){this._dropDownController!=a&&(this._dropDownController=a,this._dropDownController.addEventListener(d.UIEvent.OPEN,this._dropDownController_openHandler,this),this._dropDownController.addEventListener(d.UIEvent.CLOSE,
this.dropDownController_closeHandler,this),this.openButton&&(this._dropDownController.openButton=this.openButton),this.dropDown&&(this._dropDownController.dropDown=this.dropDown))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isDropDownOpen",{get:function(){return this.dropDownController?this.dropDownController.isOpen:!1},enumerable:!0,configurable:!0});b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);this._labelChanged&&(this._labelChanged=!1,
this.updateLabelDisplay())};b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.openButton?this.dropDownController&&(this.dropDownController.openButton=this.openButton):b==this.dropDown&&this.dropDownController&&(this.dropDownController.dropDown=this.dropDown)};b.prototype.partRemoved=function(a,b){this.dropDownController&&(b==this.openButton&&(this.dropDownController.openButton=null),b==this.dropDown&&(this.dropDownController.dropDown=null));c.prototype.partRemoved.call(this,
a,b)};b.prototype.getCurrentSkinState=function(){return this.enabled?this.isDropDownOpen?"open":"normal":"disabled"};b.prototype.commitSelection=function(a){"undefined"===typeof a&&(a=!0);a=c.prototype.commitSelection.call(this,a);this.updateLabelDisplay();return a};b.prototype._isItemIndexSelected=function(a){return this._userProposedSelectedIndex==a};b.prototype.openDropDown=function(){this.dropDownController.openDropDown()};b.prototype.closeDropDown=function(a){this.dropDownController.closeDropDown(a)};
b.prototype.updateLabelDisplay=function(a){};b.prototype._changeHighlightedSelection=function(a,b){this.itemSelected(this._userProposedSelectedIndex,!1);this._userProposedSelectedIndex=a;this.itemSelected(this._userProposedSelectedIndex,!0)};b.prototype.dataProvider_collectionChangeHandler=function(a){c.prototype.dataProvider_collectionChangeHandler.call(this,a);this._labelChanged=!0;this.invalidateProperties()};b.prototype.item_mouseDownHandler=function(a){c.prototype.item_mouseDownHandler.call(this,
a);this._dispatchListEvent(a,d.ListEvent.ITEM_CLICK,a.currentTarget);this._userProposedSelectedIndex=this.selectedIndex;this.closeDropDown(!0)};b.prototype._dropDownController_openHandler=function(a){this.addEventListener(d.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,this);this._userProposedSelectedIndex=this.selectedIndex;this.invalidateSkinState()};b.prototype._open_updateCompleteHandler=function(a){this.removeEventListener(d.UIEvent.UPDATE_COMPLETE,this._open_updateCompleteHandler,
this);d.UIEvent.dispatchUIEvent(this,d.UIEvent.OPEN)};b.prototype.dropDownController_closeHandler=function(a){this.addEventListener(d.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this);this.invalidateSkinState();a.isDefaultPrevented()?this._changeHighlightedSelection(this.selectedIndex):this._setSelectedIndex(this._userProposedSelectedIndex,!0)};b.prototype.close_updateCompleteHandler=function(a){this.removeEventListener(d.UIEvent.UPDATE_COMPLETE,this.close_updateCompleteHandler,this);
d.UIEvent.dispatchUIEvent(this,d.UIEvent.CLOSE)};b.PAGE_SIZE=5;return b}(d.List);d.DropDownListBase=f;f.prototype.__class__="egret.gui.DropDownListBase"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this.iconFieldOrFunctionChanged=!1;this.hostComponentKey="egret.gui.Tree"}__extends(b,c);b.prototype.createChildren=function(){this.itemRenderer||(this.itemRenderer=b.defaultTreeRendererFactory);c.prototype.createChildren.call(this)};b.prototype.updateRenderer=function(a,b,d){if("hasChildren"in a&&"hasChildren"in this.dataProvider){var e=this.dataProvider;a.hasChildren=e.hasChildren(d);a.opened=e.isItemOpen(d);a.depth=e.getDepth(d);
a.iconSkinName=this.itemToIcon(d)}return c.prototype.updateRenderer.call(this,a,b,d)};b.prototype.itemToIcon=function(a){if(!a)return null;if(null!=this._iconFunction)return this._iconFunction(a);var b;if(a instanceof Object)try{a[this.iconField]&&(b=a[this.iconField])}catch(c){}return b};b.prototype.dataGroup_rendererAddHandler=function(a){c.prototype.dataGroup_rendererAddHandler.call(this,a);a.renderer&&"hasChildren"in a.renderer&&a.renderer.addEventListener(d.TreeEvent.ITEM_OPENING,this.onItemOpening,
this)};b.prototype.onItemOpening=function(a){var b=a.itemRenderer,c=a.item,f=this._getDataProvider();b&&f&&"hasChildren"in f&&this.dispatchEvent(a)&&(a=!b.opened,f.expandItem(c,a),d.TreeEvent.dispatchTreeEvent(this,a?d.TreeEvent.ITEM_OPEN:d.TreeEvent.ITEM_CLOSE,b.itemIndex,c,b))};b.prototype.dataGroup_rendererRemoveHandler=function(a){c.prototype.dataGroup_rendererRemoveHandler.call(this,a);a.renderer&&"hasChildren"in a.renderer&&a.renderer.removeEventListener(d.TreeEvent.ITEM_OPENING,this.onItemOpening,
this)};Object.defineProperty(b.prototype,"iconField",{get:function(){return this._iconField},set:function(a){this._iconField!=a&&(this._iconField=a,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"iconFunction",{get:function(){return this._iconFunction},set:function(a){this._iconFunction!=a&&(this._iconFunction=a,this.iconFieldOrFunctionChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});b.prototype.expandItem=
function(a,b){"undefined"===typeof b&&(b=!0);var c=this._getDataProvider();c&&"hasChildren"in c&&c.expandItem(a,b)};b.prototype.isItemOpen=function(a){var b=this._getDataProvider();return b&&"hasChildren"in b?b.isItemOpen(a):!1};b.prototype.dataProvider_collectionChangeHandler=function(a){c.prototype.dataProvider_collectionChangeHandler.call(this,a);if(a.kind==d.CollectionEventKind.OPEN||a.kind==d.CollectionEventKind.CLOSE){var b=this.dataGroup?this.dataGroup.getElementAt(a.location):null;b&&(this.updateRenderer(b,
a.location,a.items[0]),a.kind==d.CollectionEventKind.CLOSE&&this.layout&&this.layout.useVirtualLayout&&(this.layout.clearVirtualLayoutCache(),this.invalidateSize()))}};b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);if(this.iconFieldOrFunctionChanged){if(null!=this.dataGroup){var a;if(this.layout&&this.layout.useVirtualLayout)for(var b=this.dataGroup.getElementIndicesInView(),d=b.length,e=0;e<d;e++)a=b[e],this.updateRendererIconProperty(a);else for(b=this.dataGroup.numElements,
a=0;a<b;a++)this.updateRendererIconProperty(a)}this.iconFieldOrFunctionChanged=!1}};b.prototype.updateRendererIconProperty=function(a){if(a=this.dataGroup.getElementAt(a))a.iconSkinName=this.itemToIcon(a.data)};b.defaultTreeRendererFactory=new d.ClassFactory(d.TreeItemRenderer);return b}(d.List);d.Tree=f;f.prototype.__class__="egret.gui.Tree"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._prompt="";this.hostComponentKey="egret.gui.DropDownList"}__extends(b,c);Object.defineProperty(b.prototype,"prompt",{get:function(){return this._prompt},set:function(a){this._prompt!=a&&(this._prompt=a,this._labelChanged=!0,this.invalidateProperties())},enumerable:!0,configurable:!0});b.prototype.partAdded=function(a,b){c.prototype.partAdded.call(this,a,b);b==this.labelDisplay&&(this._labelChanged=!0,this.invalidateProperties())};
b.prototype.updateLabelDisplay=function(a){"undefined"===typeof a&&(a=void 0);this.labelDisplay&&(void 0==a&&(a=this.selectedItem),this.labelDisplay.text=null!=a&&void 0!=a?this.itemToLabel(a):this._prompt)};return b}(d.DropDownListBase);d.DropDownList=f;f.prototype.__class__="egret.gui.DropDownList"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var f=function(c){function b(){c.call(this);this._allowDeselection=!0;this.hostComponentKey="egret.gui.TabBarButton"}__extends(b,c);Object.defineProperty(b.prototype,"allowDeselection",{get:function(){return this._allowDeselection},set:function(a){this._allowDeselection=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"data",{get:function(){return this._data},set:function(a){this._data=a;this.dispatchEventWith("dataChange")},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"itemIndex",{get:function(){return this._itemIndex},set:function(a){this._itemIndex=a},enumerable:!0,configurable:!0});b.prototype._setLabel=function(a){a!=this._getLabel()&&(c.prototype._setLabel.call(this,a),this.labelDisplay&&(this.labelDisplay.text=this._getLabel()))};b.prototype.buttonReleased=function(){this.selected&&!this.allowDeselection||c.prototype.buttonReleased.call(this)};return b}(d.ToggleButtonBase);d.TabBarButton=f;f.prototype.__class__="egret.gui.TabBarButton"})(d.gui||
(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.hostComponentKey="egret.gui.TabBar";this.requireSelection=!0}__extends(b,c);b.prototype.c=function(a){a!=this._requireSelection&&(c.prototype._setRequireSelection.call(this,a),this.requireSelectionChanged_tabBar=!0,this.invalidateProperties())};b.prototype._setDataProvider=function(a){this.dataProvider instanceof e.ViewStack&&(this.dataProvider.removeEventListener("IndexChanged",this.onViewStackIndexChange,this),this.removeEventListener(e.IndexChangeEvent.CHANGE,
this.onIndexChanged,this));a instanceof e.ViewStack&&(a.addEventListener("IndexChanged",this.onViewStackIndexChange,this),this.addEventListener(e.IndexChangeEvent.CHANGE,this.onIndexChanged,this));c.prototype._setDataProvider.call(this,a)};b.prototype.onIndexChanged=function(a){this.dataProvider._setSelectedIndex(a.newIndex,!1)};b.prototype.onViewStackIndexChange=function(a){this._setSelectedIndex(this.dataProvider.selectedIndex,!1)};b.prototype.commitProperties=function(){c.prototype.commitProperties.call(this);
if(this.requireSelectionChanged_tabBar&&this.dataGroup){this.requireSelectionChanged_tabBar=!1;for(var a=this.dataGroup.numElements,b=0;b<a;b++){var d=this.dataGroup.getElementAt(b);d&&(d.allowDeselection=!this.requireSelection)}}};b.prototype.dataGroup_rendererAddHandler=function(a){c.prototype.dataGroup_rendererAddHandler.call(this,a);if(a=a.renderer)a.addEventListener(d.TouchEvent.TOUCH_TAP,this.item_clickHandler,this),a instanceof e.TabBarButton&&(a.allowDeselection=!this.requireSelection)};b.prototype.dataGroup_rendererRemoveHandler=
function(a){c.prototype.dataGroup_rendererRemoveHandler.call(this,a);(a=a.renderer)&&a.removeEventListener(d.TouchEvent.TOUCH_TAP,this.item_clickHandler,this)};b.prototype.item_clickHandler=function(a){var b=a.currentTarget,c;c=b?b.itemIndex:this.dataGroup.getElementIndex(a.currentTarget);c==this.selectedIndex?this.requireSelection||this._setSelectedIndex(e.ListBase.NO_SELECTION,!0):this._setSelectedIndex(c,!0);this._dispatchListEvent(a,e.ListEvent.ITEM_CLICK,b)};return b}(e.ListBase);e.TabBar=f;
f.prototype.__class__="egret.gui.TabBar"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._horizontalScrollPolicy=this._verticalScrollPolicy="auto";this.ignoreTouchBegin=!1;this._velocityY=this._velocityX=0;this._previousVelocityX=[];this._previousVelocityY=[]}__extends(b,c);b.prototype.measure=function(){this._viewport&&(this.measuredWidth=this._viewport.preferredWidth,this.measuredHeight=this._viewport.preferredHeight)};b.prototype.updateDisplayList=function(a,b){this._viewport.setLayoutBoundsSize(a,b)};Object.defineProperty(b.prototype,
"verticalScrollPolicy",{get:function(){return this._verticalScrollPolicy},set:function(a){this._verticalScrollPolicy=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"horizontalScrollPolicy",{get:function(){return this._horizontalScrollPolicy},set:function(a){this._horizontalScrollPolicy=a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"viewport",{get:function(){return this._viewport},set:function(a){a!=this._viewport&&(this.uninstallViewport(),this._viewport=
a,this.installViewport(),this.dispatchEventWith("viewportChanged"))},enumerable:!0,configurable:!0});b.prototype.installViewport=function(){this.viewport&&(this.viewport.clipAndEnableScrolling=!0,this.viewport.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.viewport.addEventListener(d.TouchEvent.TOUCH_BEGIN,this.onTouchBeginCapture,this,!0),this.viewport.addEventListener(d.TouchEvent.TOUCH_END,this.onTouchEndCapture,this,!0),this._addToDisplayListAt(this.viewport,0))};b.prototype.uninstallViewport=
function(){this.viewport&&(this.viewport.clipAndEnableScrolling=!1,this.viewport.removeEventListener(d.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.viewport.removeEventListener(d.TouchEvent.TOUCH_BEGIN,this.onTouchBeginCapture,this,!0),this.viewport.removeEventListener(d.TouchEvent.TOUCH_END,this.onTouchEndCapture,this,!0),this._removeFromDisplayList(this.viewport))};b.prototype.onTouchEndCapture=function(a){this.delayTouchBeginEvent&&(a.stopPropagation(),this.delayTouchEndEvent=this.cloneTouchEvent(a),
this.onTouchBeginTimer(),this.touchEndTimer||(this.touchEndTimer=new d.Timer(100,1),this.touchEndTimer.addEventListener(d.TimerEvent.TIMER_COMPLETE,this.onTouchEndTimer,this)),this.touchEndTimer.start())};b.prototype.onTouchEndTimer=function(a){this.touchEndTimer.stop();a=this.delayTouchEndEvent;this.delayTouchEndEvent=null;this.dispatchPropagationEvent(a)};b.prototype.dispatchPropagationEvent=function(a){for(var b=[],c=a._target;c;)b.push(c),c=c.parent;for(var d=this._viewport,e=1;;e+=2){c=b[e];
if(!c||c===d)break;b.unshift(c)}c=b.indexOf(a._target);this._dispatchPropagationEvent(a,b,c)};b.prototype.onTouchBeginCapture=function(a){var c=this.checkScrollPolicy();if(c){for(var e=a.target;e!=this;){if(e instanceof b&&(c=e.checkScrollPolicy()))return;e=e.parent}this.delayTouchEndEvent&&(this.delayTouchEndEvent=null,this.touchEndTimer.stop());a.stopPropagation();this.delayTouchBeginEvent=this.cloneTouchEvent(a);this.touchBeginTimer||(this.touchBeginTimer=new d.Timer(100,1),this.touchBeginTimer.addEventListener(d.TimerEvent.TIMER_COMPLETE,
this.onTouchBeginTimer,this));this.touchBeginTimer.start();this.onTouchBegin(a)}};b.prototype.cloneTouchEvent=function(a){var b=new d.TouchEvent(a._type,a._bubbles,a.cancelable);b.touchPointID=a.touchPointID;b._stageX=a._stageX;b._stageY=a._stageY;b.ctrlKey=a.ctrlKey;b.altKey=a.altKey;b.shiftKey=a.shiftKey;b.touchDown=a.touchDown;b._isDefaultPrevented=!1;b._target=a._target;return b};b.prototype.onTouchBeginTimer=function(a){this.touchBeginTimer.stop();a=this.delayTouchBeginEvent;this.delayTouchBeginEvent=
null;this.dispatchPropagationEvent(a)};b.prototype.checkScrollPolicy=function(){var a=this._viewport,b;switch(this._horizontalScrollPolicy){case "auto":b=a.contentWidth>a.width?!0:!1;break;case "on":b=!0;break;case "off":b=!1}this._horizontalCanScroll=b;var c;switch(this._verticalScrollPolicy){case "auto":c=a.contentHeight>a.height?!0:!1;break;case "on":c=!0;break;case "off":c=!1}this._verticalCanScroll=c;return b||c};b.prototype.onTouchBegin=function(a){if(!a.isDefaultPrevented()&&this.checkScrollPolicy()){this.verticalAnimator&&
this.verticalAnimator.isPlaying&&this.verticalAnimator.stop();this.horizontalAnimator&&this.horizontalAnimator.isPlaying&&this.horizontalAnimator.stop();var b=this._viewport,c=b.horizontalScrollPosition,b=b.verticalScrollPosition;this._offsetPointX=c+a.stageX;this._offsetPointY=b+a.stageY;this._velocityY=this._velocityX=0;this._previousVelocityX.length=0;this._previousVelocityY.length=0;this._previousTouchTime=d.getTimer();this._previousTouchX=this._startTouchX=this._currentTouchX=a.stageX;this._previousTouchY=
this._startTouchY=this._currentTouchY=a.stageY;this._startHorizontalScrollPosition=c;this._startVerticalScrollPosition=b;e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_MOVE,this.onTouchMove,this);e.UIGlobals.stage.addEventListener(d.TouchEvent.TOUCH_END,this.onTouchEnd,this);e.UIGlobals.stage.addEventListener(d.Event.LEAVE_STAGE,this.onTouchEnd,this);this.addEventListener(d.Event.ENTER_FRAME,this.enterFrameHandler,this);a.preventDefault()}};b.prototype.onTouchMove=function(a){this._currentTouchX=
a.stageX;this._currentTouchY=a.stageY;this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop());var b=this._viewport;if(this._horizontalCanScroll){var c=this._offsetPointX-a.stageX;0>c&&(c*=0.5);c>b.contentWidth-b.width&&(c=0.5*(c+b.contentWidth-b.width));b.horizontalScrollPosition=c}this._verticalCanScroll&&(a=this._offsetPointY-a.stageY,0>a&&(a*=0.5),a>b.contentHeight-b.height&&(a=0.5*(a+b.contentHeight-b.height)),b.verticalScrollPosition=a)};b.prototype.onTouchEnd=
function(a){e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_MOVE,this.onTouchMove,this);e.UIGlobals.stage.removeEventListener(d.TouchEvent.TOUCH_END,this.onTouchEnd,this);e.UIGlobals.stage.removeEventListener(d.Event.LEAVE_STAGE,this.onTouchEnd,this);this.removeEventListener(d.Event.ENTER_FRAME,this.enterFrameHandler,this);this._horizontalCanScroll&&this.checkHorizontalScrollPosition();this._verticalCanScroll&&this.checkVerticalScrollPosition()};b.easeOut=function(a){a-=1;return a*a*a+1};
b.prototype.enterFrameHandler=function(a){a=d.getTimer();var b=a-this._previousTouchTime;0<b&&(this._previousVelocityX[this._previousVelocityX.length]=this._velocityX,4<this._previousVelocityX.length&&this._previousVelocityX.shift(),this._previousVelocityY[this._previousVelocityY.length]=this._velocityY,4<this._previousVelocityY.length&&this._previousVelocityY.shift(),this._velocityX=(this._currentTouchX-this._previousTouchX)/b,this._velocityY=(this._currentTouchY-this._previousTouchY)/b,this._previousTouchTime=
a,this._previousTouchX=this._currentTouchX,this._previousTouchY=this._currentTouchY);a=Math.abs(this._currentTouchX-this._startTouchX);b=Math.abs(this._currentTouchY-this._startTouchY);this._horizontalCanScroll&&0.04<=a&&(this._startTouchX=this._currentTouchX,this._startHorizontalScrollPosition=this._viewport.horizontalScrollPosition);this._verticalCanScroll&&0.04<=b&&(this._startTouchY=this._currentTouchY,this._startVerticalScrollPosition=this._viewport.verticalScrollPosition)};b.prototype.checkHorizontalScrollPosition=
function(){for(var a=this._viewport,c=a.horizontalScrollPosition,a=a.contentWidth-a.width,a=Math.max(0,a),d=2.33*this._velocityX,e=this._previousVelocityX.length,f=2.33,h=0;h<e;h++)var m=b.VELOCITY_WEIGHTS[h],d=d+this._previousVelocityX.shift()*m,f=f+m;d/=f;0.02>=Math.abs(d)?this.finishScrollingHorizontally():(c=this.getAnimationDatas(d,c,a),this.throwHorizontally(c[0],c[1]))};b.prototype.checkVerticalScrollPosition=function(){for(var a=this._viewport,c=a.verticalScrollPosition,a=a.contentHeight-
a.height,d=2.33*this._velocityY,e=this._previousVelocityY.length,f=2.33,h=0;h<e;h++)var m=b.VELOCITY_WEIGHTS[h],d=d+this._previousVelocityY.shift()*m,f=f+m;d/=f;0.02>=Math.abs(d)?this.finishScrollingVertically():(c=this.getAnimationDatas(d,c,a),this.throwVertically(c[0],c[1]))};b.prototype.getAnimationDatas=function(a,c,d){var e=Math.abs(a),f=0,h=c+(a-0.02)/Math.log(0.998);if(0>h||h>d)for(h=c;0.02<Math.abs(a);)h-=a,a=0>h||h>d?0.998*a*0.95:0.998*a,f++;else f=Math.log(0.02/e)/Math.log(0.998);b.animationData||
(b.animationData=[0,0]);a=b.animationData;a[0]=h;a[1]=f;return a};b.prototype.finishScrollingHorizontally=function(a){var b=this._viewport;a=b.horizontalScrollPosition;var b=b.contentWidth-b.width,c=a;0>a&&(c=0);a>b&&(c=b);this.throwHorizontally(c,300)};b.prototype.throwHorizontally=function(a,c){"undefined"===typeof c&&(c=500);var d=this._viewport.horizontalScrollPosition;d!=a&&(this.horizontalAnimator||(this.horizontalAnimator=new e.Animation(this.horizontalUpdateHandler,this),this.horizontalAnimator.endFunction=
this.finishScrollingHorizontally,this.horizontalAnimator.easerFunction=b.easeOut),this.horizontalAnimator.isPlaying&&this.horizontalAnimator.stop(),this.horizontalAnimator.duration=c,this.horizontalAnimator.motionPaths=[{prop:"hsp",from:d,to:a}],this.horizontalAnimator.play())};b.prototype.horizontalUpdateHandler=function(a){this._viewport.horizontalScrollPosition=a.currentValue.hsp};b.prototype.finishScrollingVertically=function(a){var b=this._viewport;a=b.verticalScrollPosition;var b=b.contentHeight-
b.height,b=Math.max(0,b),c=a;0>a&&(c=0);a>b&&(c=b);this.throwVertically(c,300)};b.prototype.throwVertically=function(a,c){"undefined"===typeof c&&(c=500);var d=this._viewport.verticalScrollPosition;d!=a&&(this.verticalAnimator||(this.verticalAnimator=new e.Animation(this.verticalUpdateHandler,this),this.verticalAnimator.endFunction=this.finishScrollingVertically,this.verticalAnimator.easerFunction=b.easeOut),this.verticalAnimator.isPlaying&&this.verticalAnimator.stop(),this.verticalAnimator.duration=
c,this.verticalAnimator.motionPaths=[{prop:"vsp",from:d,to:a}],this.verticalAnimator.play())};b.prototype.verticalUpdateHandler=function(a){this._viewport.verticalScrollPosition=a.currentValue.vsp};Object.defineProperty(b.prototype,"numElements",{get:function(){return this.viewport?1:0},enumerable:!0,configurable:!0});b.prototype.throwRangeError=function(a){throw new RangeError('\u7d22\u5f15:"'+a+'"\u8d85\u51fa\u53ef\u89c6\u5143\u7d20\u7d22\u5f15\u8303\u56f4');};b.prototype.getElementAt=function(a){if(this.viewport&&
0==a)return this.viewport;this.throwRangeError(a);return null};b.prototype.getElementIndex=function(a){return null!=a&&a==this.viewport?0:-1};b.prototype.containsElement=function(a){return null!=a&&a==this.viewport?!0:!1};b.prototype.throwNotSupportedError=function(){throw Error("\u6b64\u65b9\u6cd5\u5728Scroller\u7ec4\u4ef6\u5185\u4e0d\u53ef\u7528!");};b.prototype.addElement=function(a){this.throwNotSupportedError();return null};b.prototype.addElementAt=function(a,b){this.throwNotSupportedError();
return null};b.prototype.removeElement=function(a){this.throwNotSupportedError();return null};b.prototype.removeElementAt=function(a){this.throwNotSupportedError();return null};b.prototype.removeAllElements=function(){this.throwNotSupportedError()};b.prototype.setElementIndex=function(a,b){this.throwNotSupportedError()};b.prototype.swapElements=function(a,b){this.throwNotSupportedError()};b.prototype.swapElementsAt=function(a,b){this.throwNotSupportedError()};b.prototype.addChild=function(a){this.throwNotSupportedError();
return null};b.prototype.addChildAt=function(a,b){this.throwNotSupportedError();return null};b.prototype.removeChild=function(a){this.throwNotSupportedError();return null};b.prototype.removeChildAt=function(a){this.throwNotSupportedError();return null};b.prototype.setChildIndex=function(a,b){this.throwNotSupportedError()};b.prototype.swapChildren=function(a,b){this.throwNotSupportedError()};b.prototype.swapChildrenAt=function(a,b){this.throwNotSupportedError()};b.VELOCITY_WEIGHTS=[1,1.33,1.66,2];
return b}(e.UIComponent);e.Scroller=f;f.prototype.__class__="egret.gui.Scroller"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);c.call(this,a,b,d)}__extends(b,c);b.dispatchUIEvent=function(a,c){d.Event._dispatchByTarget(b,a,c)};b.INITIALIZE="initialize";b.CREATION_COMPLETE="creationComplete";b.UPDATE_COMPLETE="updateComplete";b.BUTTON_DOWN="buttonDown";b.CHANGE_END="changeEnd";b.CHANGE_START="changeStart";b.CHANGING="changing";b.VALUE_COMMIT="valueCommit";b.SKIN_CHANGED="skinChanged";b.CONTENT_CHANGED=
"contentChanged";b.OPEN="open";b.CLOSE="close";b.PLAY_COMPLETE="playComplete";return b}(d.Event);e.UIEvent=f;f.prototype.__class__="egret.gui.UIEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f,h,m,q){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=null);"undefined"===typeof h&&(h=null);"undefined"===typeof m&&(m=null);"undefined"===typeof q&&(q=null);c.call(this,a,b,d);this.kind=e;this.property=f;this.oldValue=h;this.newValue=m;this.source=q}__extends(b,c);b.dispatchPropertyChangeEvent=function(a,c,e,f,l,h){"undefined"===typeof c&&(c=null);"undefined"===
typeof e&&(e=null);"undefined"===typeof f&&(f=null);"undefined"===typeof l&&(l=null);"undefined"===typeof h&&(h=null);var m=d.Event._getPropertyData(b);m.kind=c;m.property=e;m.oldValue=f;m.newValue=l;m.source=h;d.Event._dispatchByTarget(b,a,b.PROPERTY_CHANGE,m)};b.PROPERTY_CHANGE="propertyChange";return b}(d.Event);e.PropertyChangeEvent=f;f.prototype.__class__="egret.gui.PropertyChangeEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(d){var f=function(){function c(){}c.UPDATE="update";c.DELETE="delete";return c}();d.PropertyChangeEventKind=f;f.prototype.__class__="egret.gui.PropertyChangeEventKind"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f){"undefined"===typeof b&&(b=NaN);"undefined"===typeof d&&(d=NaN);"undefined"===typeof e&&(e=!1);"undefined"===typeof f&&(f=!1);c.call(this,a,e,f);this.oldX=b;this.oldY=d}__extends(b,c);b.dispatchMoveEvent=function(a,c,e){"undefined"===typeof c&&(c=NaN);"undefined"===typeof e&&(e=NaN);var f=d.Event._getPropertyData(b);f.oldX=c;f.oldY=e;d.Event._dispatchByTarget(b,a,b.MOVE,f)};b.MOVE="move";return b}(d.Event);e.MoveEvent=f;f.prototype.__class__=
"egret.gui.MoveEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f){"undefined"===typeof b&&(b=NaN);"undefined"===typeof d&&(d=NaN);"undefined"===typeof e&&(e=!1);"undefined"===typeof f&&(f=!1);c.call(this,a,e,f);this.oldWidth=b;this.oldHeight=d}__extends(b,c);b.dispatchResizeEvent=function(a,c,e){"undefined"===typeof c&&(c=NaN);"undefined"===typeof e&&(e=NaN);var f=d.Event._getPropertyData(b);f.oldWidth=c;f.oldHeight=e;d.Event._dispatchByTarget(b,a,b.RESIZE,f)};b.RESIZE="resize";return b}(d.Event);
e.ResizeEvent=f;f.prototype.__class__="egret.gui.ResizeEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=null);c.call(this,a,b,d);this.partName=e;this.instance=f}__extends(b,c);b.dispatchSkinPartEvent=function(a,c,e,f){"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=null);var l=d.Event._getPropertyData(b);l.partName=e;l.instance=f;d.Event._dispatchByTarget(b,a,c,l)};b.PART_ADDED="partAdded";b.PART_REMOVED=
"partRemoved";return b}(d.Event);e.SkinPartEvent=f;f.prototype.__class__="egret.gui.SkinPartEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=-1);c.call(this,a,b,d);this.detail=e}__extends(b,c);b.dispatchCloseEvent=function(a,c,e){"undefined"===typeof e&&(e=-1);var f=d.Event._getPropertyData(b);f.detail=e;d.Event._dispatchByTarget(b,a,c,f)};b.CLOSE="close";return b}(d.Event);e.CloseEvent=f;f.prototype.__class__="egret.gui.CloseEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f,h,m,q){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=-1);"undefined"===typeof h&&(h=-1);"undefined"===typeof m&&(m=null);"undefined"===typeof q&&(q=null);c.call(this,a,b,d);this.kind=e;this.location=f;this.oldLocation=h;this.items=m?m:[];this.oldItems=q?q:[]}__extends(b,c);b.dispatchCollectionEvent=function(a,c,e,f,l,h,m){"undefined"===typeof e&&(e=null);"undefined"===
typeof f&&(f=-1);"undefined"===typeof l&&(l=-1);"undefined"===typeof h&&(h=null);"undefined"===typeof m&&(m=null);var q=d.Event._getPropertyData(b);q.kind=e;q.location=f;q.oldLocation=l;q.items=h;q.oldItems=m;d.Event._dispatchByTarget(b,a,c,q)};b.COLLECTION_CHANGE="collectionChange";return b}(d.Event);e.CollectionEvent=f;f.prototype.__class__="egret.gui.CollectionEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(d){var f=function(){function c(){}c.ADD="add";c.MOVE="move";c.REFRESH="refresh";c.REMOVE="remove";c.REPLACE="replace";c.RESET="reset";c.UPDATE="update";c.OPEN="open";c.CLOSE="close";return c}();d.CollectionEventKind=f;f.prototype.__class__="egret.gui.CollectionEventKind"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=-1);c.call(this,a,b,d);this.element=e;this.index=f}__extends(b,c);b.dispatchElementExistenceEvent=function(a,c,e,f){"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=-1);var l=d.Event._getPropertyData(b);l.element=e;l.index=f;d.Event._dispatchByTarget(b,a,c,l)};b.ELEMENT_ADD="elementAdd";b.ELEMENT_REMOVE=
"elementRemove";return b}(d.Event);e.ElementExistenceEvent=f;f.prototype.__class__="egret.gui.ElementExistenceEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=-1);"undefined"===typeof f&&(f=-1);c.call(this,a,b,d);this.oldIndex=e;this.newIndex=f}__extends(b,c);b.dispatchIndexChangeEvent=function(a,c,e,f,l){"undefined"===typeof e&&(e=-1);"undefined"===typeof f&&(f=-1);"undefined"===typeof l&&(l=!1);var h=d.Event._getPropertyData(b);h.oldIndex=e;h.newIndex=f;return d.Event._dispatchByTarget(b,a,c,h,!1,l)};
b.CHANGE="change";b.CHANGING="changing";return b}(d.Event);e.IndexChangeEvent=f;f.prototype.__class__="egret.gui.IndexChangeEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f,h,m,q,s,r,p,t,D){"undefined"===typeof b&&(b=!0);"undefined"===typeof d&&(d=!0);"undefined"===typeof e&&(e=0);"undefined"===typeof f&&(f=0);"undefined"===typeof h&&(h=0);"undefined"===typeof m&&(m=!1);"undefined"===typeof q&&(q=!1);"undefined"===typeof s&&(s=!1);"undefined"===typeof r&&(r=!1);"undefined"===typeof p&&(p=-1);"undefined"===typeof t&&(t=null);"undefined"===typeof D&&(D=null);c.call(this,a,b,d,e,f,h,m,q,s,r);this.itemIndex=
p;this.item=t;this.itemRenderer=D}__extends(b,c);b.dispatchListEvent=function(a,c,e,f,l,h){"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=-1);"undefined"===typeof l&&(l=null);"undefined"===typeof h&&(h=null);var m=d.Event._getPropertyData(b);m.touchPointID=e.touchPointID;m._stageX=e.stageX;m._stageY=e.stageY;m.ctrlKey=e.ctrlKey;m.altKey=e.altKey;m.shiftKey=e.shiftKey;m.touchDown=e.touchDown;m.itemIndex=f;m.item=l;m.itemRenderer=h;d.Event._dispatchByTarget(b,a,c,m)};b.ITEM_ROLL_OUT="itemRollOut";
b.ITEM_ROLL_OVER="itemRollOver";b.ITEM_CLICK="itemClick";return b}(d.TouchEvent);e.ListEvent=f;f.prototype.__class__="egret.gui.ListEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=!1);c.call(this,a,b,d);this.popUp=e;this.modal=f}__extends(b,c);b.dispatchPopUpEvent=function(a,c,e,f){"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=!1);var l=d.Event._getPropertyData(b);l.popUp=e;l.modal=f;d.Event._dispatchByTarget(b,a,c,l)};b.ADD_POPUP="addPopUp";b.REMOVE_POPUP="removePopUp";b.BRING_TO_FRONT=
"bringToFront";return b}(d.Event);e.PopUpEvent=f;f.prototype.__class__="egret.gui.PopUpEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f,h){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=-1);"undefined"===typeof h&&(h=null);c.call(this,a,b,d);this.renderer=e;this.index=f;this.data=h}__extends(b,c);b.dispatchRendererExistenceEvent=function(a,c,e,f,l){"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=-1);"undefined"===typeof l&&(l=null);var h=d.Event._getPropertyData(b);h.renderer=e;h.index=
f;h.data=l;d.Event._dispatchByTarget(b,a,c,h)};b.RENDERER_ADD="rendererAdd";b.RENDERER_REMOVE="rendererRemove";return b}(d.Event);e.RendererExistenceEvent=f;f.prototype.__class__="egret.gui.RendererExistenceEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=null);c.call(this,a,b,d);this.oldState=e;this.newState=f}__extends(b,c);b.dispatchStateChangeEvent=function(a,c,e,f){"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=null);var l=d.Event._getPropertyData(b);l.oldState=e;l.newState=f;d.Event._dispatchByTarget(b,a,c,l)};b.CURRENT_STATE_CHANGE="currentStateChange";
b.CURRENT_STATE_CHANGING="currentStateChanging";return b}(d.Event);e.StateChangeEvent=f;f.prototype.__class__="egret.gui.StateChangeEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!1);c.call(this,a,b,d)}__extends(b,c);b.dispatchTrackBaseEvent=function(a,c){d.Event._dispatchByTarget(b,a,c)};b.THUMB_DRAG="thumbDrag";b.THUMB_PRESS="thumbPress";b.THUMB_RELEASE="thumbRelease";return b}(d.Event);e.TrackBaseEvent=f;f.prototype.__class__="egret.gui.TrackBaseEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(a,b,d,e,f,h){"undefined"===typeof b&&(b=!1);"undefined"===typeof d&&(d=!0);"undefined"===typeof e&&(e=-1);"undefined"===typeof f&&(f=null);"undefined"===typeof h&&(h=null);c.call(this,a,b,d);this.item=f;this.itemRenderer=h;this.itemIndex=e}__extends(b,c);b.dispatchTreeEvent=function(a,c,e,f,l,h){"undefined"===typeof e&&(e=-1);"undefined"===typeof f&&(f=null);"undefined"===typeof l&&(l=null);"undefined"===typeof h&&(h=!1);var m=d.Event._getPropertyData(b);
m.itemIndex=e;m.item=f;m.itemRenderer=l;m.opening=h;d.Event._dispatchByTarget(b,a,c,m)};b.ITEM_CLOSE="itemClose";b.ITEM_OPEN="itemOpen";b.ITEM_OPENING="itemOpening";return b}(d.Event);e.TreeEvent=f;f.prototype.__class__="egret.gui.TreeEvent"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._useVirtualLayout=!1}__extends(b,c);Object.defineProperty(b.prototype,"target",{get:function(){return this._target},set:function(a){this._target!=a&&(this._target=a,this.clearVirtualLayoutCache())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"useVirtualLayout",{get:function(){return this._useVirtualLayout},set:function(a){this._useVirtualLayout!=a&&(this._useVirtualLayout=a,this.dispatchEventWith("useVirtualLayoutChanged"),
this._useVirtualLayout&&!a&&this.clearVirtualLayoutCache(),this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"typicalLayoutRect",{get:function(){return this._typicalLayoutRect},set:function(a){this._typicalLayoutRect!=a&&(this._typicalLayoutRect=a,this.target&&this.target.invalidateSize())},enumerable:!0,configurable:!0});b.prototype.scrollPositionChanged=function(){};b.prototype.clearVirtualLayoutCache=function(){};b.prototype.elementAdded=
function(a){};b.prototype.elementRemoved=function(a){};b.prototype.measure=function(){};b.prototype.updateDisplayList=function(a,b){};return b}(d.EventDispatcher);e.LayoutBase=f;f.prototype.__class__="egret.gui.LayoutBase"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._mouseWheelSpeed=20}__extends(b,c);Object.defineProperty(b.prototype,"useVirtualLayout",{set:function(a){},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"mouseWheelSpeed",{get:function(){return this._mouseWheelSpeed},set:function(a){0==a&&(a=1);this._mouseWheelSpeed=a},enumerable:!0,configurable:!0});b.prototype.getElementBoundsLeftOfScrollRect=function(a){var b=new d.Rectangle;b.x=a.x-this._mouseWheelSpeed;
b.right=a.x;return b};b.prototype.getElementBoundsRightOfScrollRect=function(a){var b=new d.Rectangle;b.x=a.right;b.right=a.right+this._mouseWheelSpeed;return b};b.prototype.getElementBoundsAboveScrollRect=function(a){var b=new d.Rectangle;b.y=a.y-this._mouseWheelSpeed;b.bottom=a.y;return b};b.prototype.getElementBoundsBelowScrollRect=function(a){var b=new d.Rectangle;b.y=a.bottom;b.bottom=a.bottom+this._mouseWheelSpeed;return b};b.prototype.measure=function(){c.prototype.measure.call(this);if(null!=
this.target){for(var a=0,b=0,d=this.target.numElements,e=0;e<d;e++){var f=this.target.getElementAt(e);if(f&&f.includeInLayout){var h=f.horizontalCenter,m=f.verticalCenter,q=f.left,s=f.right,r=f.top,p=f.bottom;isNaN(q)||isNaN(s)?isNaN(h)?isNaN(q)&&isNaN(s)?h=f.preferredX:(h=isNaN(q)?0:q,h+=isNaN(s)?0:s):h=2*Math.abs(h):h=q+s;isNaN(r)||isNaN(p)?isNaN(m)?isNaN(r)&&isNaN(p)?m=f.preferredY:(m=isNaN(r)?0:r,m+=isNaN(p)?0:p):m=2*Math.abs(m):m=r+p;p=f.preferredHeight;a=Math.ceil(Math.max(a,h+f.preferredWidth));
b=Math.ceil(Math.max(b,m+p))}}this.target.measuredWidth=a;this.target.measuredHeight=b}};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b);if(null!=this.target){for(var d=this.target.numElements,e=0,f=0,h=0;h<d;h++){var m=this.target.getElementAt(h);if(null!=m&&m.includeInLayout){var q=m.horizontalCenter,s=m.verticalCenter,r=m.left,p=m.right,t=m.top,D=m.bottom,A=m.percentWidth,y=m.percentHeight,C=NaN,w=NaN;isNaN(r)||isNaN(p)?isNaN(A)||(C=Math.round(a*Math.min(0.01*
A,1))):C=a-p-r;isNaN(t)||isNaN(D)?isNaN(y)||(w=Math.round(b*Math.min(0.01*y,1))):w=b-D-t;m.setLayoutBoundsSize(C,w);A=m.layoutBoundsWidth;y=m.layoutBoundsHeight;w=C=NaN;C=isNaN(q)?isNaN(r)?isNaN(p)?m.layoutBoundsX:a-A-p:r:Math.round((a-A)/2+q);w=isNaN(s)?isNaN(t)?isNaN(D)?m.layoutBoundsY:b-y-D:t:Math.round((b-y)/2+s);m.setLayoutBoundsPosition(C,w);e=Math.max(e,C+A);f=Math.max(f,w+y)}}this.target.setContentSize(e,f)}};return b}(e.LayoutBase);e.BasicLayout=f;f.prototype.__class__="egret.gui.BasicLayout"})(d.gui||
(d.gui={}))})(egret||(egret={}));(function(d){(function(d){var f=function(){function c(){}c.LEFT="left";c.JUSTIFY_USING_GAP="justifyUsingGap";c.JUSTIFY_USING_WIDTH="justifyUsingWidth";return c}();d.ColumnAlign=f;f.prototype.__class__="egret.gui.ColumnAlign"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(d){var f=function(){function c(){}c.TOP="top";c.JUSTIFY_USING_GAP="justifyUsingGap";c.JUSTIFY_USING_HEIGHT="justifyUsingHeight";return c}();d.RowAlign=f;f.prototype.__class__="egret.gui.RowAlign"})(d.gui||(d.gui={}))})(egret||(egret={}));(function(d){(function(d){var f=function(){function c(){}c.ROWS="rows";c.COLUMNS="columns";return c}();d.TileOrientation=f;f.prototype.__class__="egret.gui.TileOrientation"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(b){function a(){b.call(this);this._horizontalAlign=d.HorizontalAlign.LEFT;this._verticalAlign=d.VerticalAlign.TOP;this._gap=6;this._padding=0;this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN;this.elementSizeTable=[];this.endIndex=this.startIndex=-1;this.indexInViewCalculated=!1;this.maxElementWidth=0}__extends(a,b);Object.defineProperty(a.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(a){this._horizontalAlign!=
a&&(this._horizontalAlign=a,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(a){this._verticalAlign!=a&&(this._verticalAlign=a,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"gap",{get:function(){return this._gap},set:function(a){this._gap!=a&&(this._gap=a,this.invalidateTargetSizeAndDisplayList(),
this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"padding",{get:function(){return this._padding},set:function(a){this._padding!=a&&(this._padding=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){this._paddingLeft!=a&&(this._paddingLeft=a,this.invalidateTargetSizeAndDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){this._paddingRight!=a&&(this._paddingRight=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){this._paddingTop!=a&&(this._paddingTop=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"paddingBottom",{get:function(){return this._paddingBottom},set:function(a){this._paddingBottom!=a&&(this._paddingBottom=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});a.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())};a.prototype.measure=function(){b.prototype.measure.call(this);this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())};a.prototype.measureVirtual=
function(){for(var a=this.typicalLayoutRect?this.typicalLayoutRect.height:22,b=Math.max(this.maxElementWidth,this.typicalLayoutRect?this.typicalLayoutRect.width:71),c=this.getElementTotalSize(),d=this.target.getElementIndicesInView(),e=d.length,f=0;f<e;f++){var q=d[f],s=this.target.getElementAt(q);if(null!=s&&s.includeInLayout)var r=s.preferredWidth,c=c+s.preferredHeight,c=c-(isNaN(this.elementSizeTable[q])?a:this.elementSizeTable[q]),b=Math.max(b,r)}f=isNaN(this._padding)?0:this._padding;a=isNaN(this._paddingLeft)?
f:this._paddingLeft;d=isNaN(this._paddingRight)?f:this._paddingRight;e=isNaN(this._paddingTop)?f:this._paddingTop;f=isNaN(this._paddingBottom)?f:this._paddingBottom;e+=f;this.target.measuredWidth=Math.ceil(b+(a+d));this.target.measuredHeight=Math.ceil(c+e)};a.prototype.measureReal=function(){for(var a=this.target.numElements,b=a,c=0,d=0,e=0;e<a;e++){var f=this.target.getElementAt(e);if(f&&f.includeInLayout)var q=f.preferredWidth,d=d+f.preferredHeight,c=Math.max(c,q);else b--}a=isNaN(this._gap)?0:
this._gap;d+=(b-1)*a;f=isNaN(this._padding)?0:this._padding;b=isNaN(this._paddingLeft)?f:this._paddingLeft;a=isNaN(this._paddingRight)?f:this._paddingRight;e=isNaN(this._paddingTop)?f:this._paddingTop;f=isNaN(this._paddingBottom)?f:this._paddingBottom;e+=f;this.target.measuredWidth=Math.ceil(c+(b+a));this.target.measuredHeight=Math.ceil(d+e)};a.prototype.updateDisplayList=function(a,c){b.prototype.updateDisplayList.call(this,a,c);this.target&&(this.useVirtualLayout?this.updateDisplayListVirtual(a,
c):this.updateDisplayListReal(a,c))};a.prototype.getStartPosition=function(a){var b=isNaN(this._padding)?0:this._padding,c=isNaN(this._paddingTop)?b:this._paddingTop,b=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var d;this.target&&(d=this.target.getElementAt(a));return d?d.y:c}d=this.typicalLayoutRect?this.typicalLayoutRect.height:22;for(var e=0;e<a;e++){var f=this.elementSizeTable[e];isNaN(f)&&(f=d);c+=f+b}return c};a.prototype.getElementSize=function(a){return this.useVirtualLayout?
(a=this.elementSizeTable[a],isNaN(a)&&(a=this.typicalLayoutRect?this.typicalLayoutRect.height:22),a):this.target?this.target.getElementAt(a).height:0};a.prototype.getElementTotalSize=function(){for(var a=isNaN(this._gap)?0:this._gap,b=this.typicalLayoutRect?this.typicalLayoutRect.height:22,c=0,d=this.target.numElements,e=0;e<d;e++){var f=this.elementSizeTable[e];isNaN(f)&&(f=b);c+=f+a}return c-a};a.prototype.elementAdded=function(a){b.prototype.elementAdded.call(this,a);this.elementSizeTable.splice(a,
0,this.typicalLayoutRect?this.typicalLayoutRect.height:22)};a.prototype.elementRemoved=function(a){b.prototype.elementRemoved.call(this,a);this.elementSizeTable.splice(a,1)};a.prototype.clearVirtualLayoutCache=function(){b.prototype.clearVirtualLayoutCache.call(this);this.elementSizeTable=[];this.maxElementWidth=0};a.prototype.findIndexAt=function(a,b,c){var d=Math.floor(0.5*(b+c)),e=this.getStartPosition(d),f=this.getElementSize(d),q=isNaN(this._gap)?0:this._gap;return a>=e&&a<e+f+q?d:b==c?-1:a<
e?this.findIndexAt(a,b,Math.max(b,d-1)):this.findIndexAt(a,Math.min(d+1,c),c)};a.prototype.scrollPositionChanged=function(){b.prototype.scrollPositionChanged.call(this);this.useVirtualLayout&&this.getIndexInView()&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())};a.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements||isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=
-1,!1;var a=isNaN(this._padding)?0:this._padding,b=isNaN(this._paddingTop)?a:this._paddingTop,c=isNaN(this._paddingBottom)?a:this._paddingBottom,a=this.target.numElements,d=this.getStartPosition(a-1)+this.elementSizeTable[a-1]+c,e=this.target.verticalScrollPosition;if(e>d-c)return this.endIndex=this.startIndex=-1,!1;c=this.target.verticalScrollPosition+this.target.height;if(c<b)return this.endIndex=this.startIndex=-1,!1;b=this.startIndex;d=this.endIndex;this.startIndex=this.findIndexAt(e,0,a-1);-1==
this.startIndex&&(this.startIndex=0);this.endIndex=this.findIndexAt(c,0,a-1);-1==this.endIndex&&(this.endIndex=a-1);return b!=this.startIndex||d!=this.endIndex};a.prototype.updateDisplayListVirtual=function(a,b){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var c=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingLeft)?c:this._paddingLeft,f=isNaN(this._paddingRight)?c:this._paddingRight,m=isNaN(this._paddingBottom)?c:this._paddingBottom,q=isNaN(this._gap)?0:
this._gap,s=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)e=this.getStartPosition(s)-q+m,this.target.setContentSize(this.target.contentWidth,Math.ceil(e));else{this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var r=this._horizontalAlign==d.HorizontalAlign.JUSTIFY||this._horizontalAlign==d.HorizontalAlign.CONTENT_JUSTIFY,p=this._horizontalAlign==d.HorizontalAlign.CONTENT_JUSTIFY,t=0;r||(this._horizontalAlign==d.HorizontalAlign.CENTER?t=0.5:this._horizontalAlign==
d.HorizontalAlign.RIGHT&&(t=1));var D=Math.max(0,a-e-f),A=Math.ceil(D),y,C=this.typicalLayoutRect?this.typicalLayoutRect.height:22,c=Math.max(this.typicalLayoutRect?this.typicalLayoutRect.width:71,this.maxElementWidth);if(p){for(var w=this.startIndex;w<=this.endIndex;w++)(y=this.target.getVirtualElementAt(w))&&y.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,y.preferredWidth));A=Math.ceil(Math.max(D,this.maxElementWidth))}for(var E=0,u=0,w=0,z=!1,x=this.startIndex;x<=this.endIndex;x++)if(E=
0,y=this.target.getVirtualElementAt(x))y.includeInLayout?(r?(E=e,y.setLayoutBoundsSize(A,NaN)):(E=(D-y.layoutBoundsWidth)*t,E=0<E?E:0,E=e+E),p||(this.maxElementWidth=Math.max(this.maxElementWidth,y.preferredWidth)),w=Math.max(w,y.layoutBoundsWidth),z||(u=isNaN(this.elementSizeTable[x])?C:this.elementSizeTable[x],u!=y.layoutBoundsHeight&&(z=!0)),0==x&&0<this.elementSizeTable.length&&this.elementSizeTable[x]!=y.layoutBoundsHeight&&(this.typicalLayoutRect=null),this.elementSizeTable[x]=y.layoutBoundsHeight,
u=this.getStartPosition(x),y.setLayoutBoundsPosition(Math.round(E),Math.round(u))):this.elementSizeTable[x]=0;w+=e+f;e=this.getStartPosition(s)-q+m;this.target.setContentSize(Math.ceil(w),Math.ceil(e));(z||c<this.maxElementWidth)&&this.target.invalidateSize()}};a.prototype.updateDisplayListReal=function(b,e){var f=isNaN(this._padding)?0:this._padding,l=isNaN(this._paddingLeft)?f:this._paddingLeft,h=isNaN(this._paddingRight)?f:this._paddingRight,m=isNaN(this._paddingTop)?f:this._paddingTop,f=isNaN(this._paddingBottom)?
f:this._paddingBottom,q=isNaN(this._gap)?0:this._gap,s=Math.max(0,b-l-h),r=Math.max(0,e-m-f),p=this._verticalAlign==d.VerticalAlign.JUSTIFY,t=this._horizontalAlign==d.HorizontalAlign.JUSTIFY||this._horizontalAlign==d.HorizontalAlign.CONTENT_JUSTIFY,D=0;t||(this._horizontalAlign==d.HorizontalAlign.CENTER?D=0.5:this._horizontalAlign==d.HorizontalAlign.RIGHT&&(D=1));var A=this.target.numElements,y=A,C=l,w=m,E,u,z=0,C=0,x=[],B,v=r;for(E=0;E<A;E++)(u=this.target.getElementAt(E))&&u.includeInLayout?(this.maxElementWidth=
Math.max(this.maxElementWidth,u.preferredWidth),p?z+=u.preferredHeight:isNaN(u.percentHeight)?v-=u.preferredHeight:(C+=u.percentHeight,B=new c,B.layoutElement=u,B.percent=u.percentHeight,B.min=u.minHeight,B.max=u.maxHeight,x.push(B))):y--;var v=v-(y-1)*q,v=0<v?v:0,G=r-z-q*(y-1),F,I=y,H=[];if(p){if(0>G){F=v/y;for(E=0;E<A;E++)(u=this.target.getElementAt(E))&&u.includeInLayout&&(u=u.preferredHeight,u<=F&&(v-=u,I--));v=0<v?v:0}}else if(0<C){a.flexChildrenProportionally(r,v,C,x);r=0;u=x.length;for(E=0;E<
u;E++)B=x[E],C=Math.round(B.size+r),r+=B.size-C,H[B.layoutElement.hashCode]=C,v-=C;v=0<v?v:0}this._verticalAlign==d.VerticalAlign.MIDDLE?w=m+0.5*v:this._verticalAlign==d.VerticalAlign.BOTTOM&&(w=m+v);x=l;u=y=0;B=Math.ceil(s);this._horizontalAlign==d.HorizontalAlign.CONTENT_JUSTIFY&&(B=Math.ceil(Math.max(s,this.maxElementWidth)));r=0;y=NaN;for(E=0;E<A;E++)C=0,(u=this.target.getElementAt(E))&&u.includeInLayout&&(y=NaN,p?(C=NaN,0<G?C=v*u.preferredHeight/z:0>G&&u.preferredHeight>F&&(C=v/I),isNaN(C)||
(y=Math.round(C+r),r+=C-y)):y=H[u.hashCode],t?(C=l,u.setLayoutBoundsSize(B,y)):(C=NaN,isNaN(u.percentWidth)||(C=Math.min(100,u.percentWidth),C=Math.round(s*C*0.01)),u.setLayoutBoundsSize(C,y),C=(s-u.layoutBoundsWidth)*D,C=0<C?C:0,C=l+C),u.setLayoutBoundsPosition(Math.round(C),Math.round(w)),y=Math.ceil(u.layoutBoundsWidth),u=Math.ceil(u.layoutBoundsHeight),x=Math.max(x,C+y),m=Math.max(m,w+u),w+=u+q);this.target.setContentSize(Math.ceil(x+h),Math.ceil(m+f))};a.flexChildrenProportionally=function(a,
b,c,d){var e=d.length,f;do{f=!0;var q=b-a*c/100;0<q?b-=q:q=0;for(var s=b/c,r=0;r<e;r++){var p=d[r],t=p.percent*s;if(t<p.min){f=p.min;p.size=f;d[r]=d[--e];d[e]=p;c-=p.percent;q>=f||(b-=f-q);f=!1;break}else if(t>p.max){f=p.max;p.size=f;d[r]=d[--e];d[e]=p;c-=p.percent;q>=f||(b-=f-q);f=!1;break}else p.size=t}}while(!f)};return a}(e.LayoutBase);e.VerticalLayout=f;f.prototype.__class__="egret.gui.VerticalLayout";var c=function(){return function(){this.size=0}}();c.prototype.__class__="ChildInfo"})(d.gui||
(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(b){function a(){b.call(this);this._horizontalAlign=d.HorizontalAlign.LEFT;this._verticalAlign=d.VerticalAlign.TOP;this._gap=6;this._padding=0;this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN;this.elementSizeTable=[];this.endIndex=this.startIndex=-1;this.indexInViewCalculated=!1;this.maxElementHeight=0}__extends(a,b);Object.defineProperty(a.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(a){this._horizontalAlign!=
a&&(this._horizontalAlign=a,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(a){this._verticalAlign!=a&&(this._verticalAlign=a,this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"gap",{get:function(){return this._gap},set:function(a){this._gap!=a&&(this._gap=a,this.invalidateTargetSizeAndDisplayList(),
this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"padding",{get:function(){return this._padding},set:function(a){this._padding!=a&&(this._padding=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){this._paddingLeft!=a&&(this._paddingLeft=a,this.invalidateTargetSizeAndDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){this._paddingRight!=a&&(this._paddingRight=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){this._paddingTop!=a&&(this._paddingTop=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"paddingBottom",{get:function(){return this._paddingBottom},set:function(a){this._paddingBottom!=a&&(this._paddingBottom=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});a.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())};a.prototype.measure=function(){b.prototype.measure.call(this);this.target&&(this.useVirtualLayout?this.measureVirtual():this.measureReal())};a.prototype.measureVirtual=
function(){for(var a=this.typicalLayoutRect?this.typicalLayoutRect.height:22,b=this.typicalLayoutRect?this.typicalLayoutRect.width:71,c=this.getElementTotalSize(),a=Math.max(this.maxElementHeight,a),d=this.target.getElementIndicesInView(),e=d.length,f=0;f<e;f++){var q=d[f],s=this.target.getElementAt(q);if(null!=s&&s.includeInLayout)var r=s.preferredHeight,c=c+s.preferredWidth,c=c-(isNaN(this.elementSizeTable[q])?b:this.elementSizeTable[q]),a=Math.max(a,r)}f=isNaN(this._padding)?0:this._padding;b=
isNaN(this._paddingLeft)?f:this._paddingLeft;d=isNaN(this._paddingRight)?f:this._paddingRight;e=isNaN(this._paddingTop)?f:this._paddingTop;f=isNaN(this._paddingBottom)?f:this._paddingBottom;e+=f;this.target.measuredWidth=Math.ceil(c+(b+d));this.target.measuredHeight=Math.ceil(a+e)};a.prototype.measureReal=function(){for(var a=this.target.numElements,b=a,c=0,d=0,e=0;e<a;e++){var f=this.target.getElementAt(e);if(f&&f.includeInLayout)var q=f.preferredHeight,c=c+f.preferredWidth,d=Math.max(d,q);else b--}a=
isNaN(this._gap)?0:this._gap;c+=(b-1)*a;f=isNaN(this._padding)?0:this._padding;b=isNaN(this._paddingLeft)?f:this._paddingLeft;a=isNaN(this._paddingRight)?f:this._paddingRight;e=isNaN(this._paddingTop)?f:this._paddingTop;f=isNaN(this._paddingBottom)?f:this._paddingBottom;e+=f;this.target.measuredWidth=Math.ceil(c+(b+a));this.target.measuredHeight=Math.ceil(d+e)};a.prototype.updateDisplayList=function(a,c){b.prototype.updateDisplayList.call(this,a,c);this.target&&(this.useVirtualLayout?this.updateDisplayListVirtual(a,
c):this.updateDisplayListReal(a,c))};a.prototype.getStartPosition=function(a){var b=isNaN(this._padding)?0:this._padding,c=isNaN(this._paddingLeft)?b:this._paddingLeft,b=isNaN(this._gap)?0:this._gap;if(!this.useVirtualLayout){var d;this.target&&(d=this.target.getElementAt(a));return d?d.x:c}d=this.typicalLayoutRect?this.typicalLayoutRect.width:71;for(var e=0;e<a;e++){var f=this.elementSizeTable[e];isNaN(f)&&(f=d);c+=f+b}return c};a.prototype.getElementSize=function(a){return this.useVirtualLayout?
(a=this.elementSizeTable[a],isNaN(a)&&(a=this.typicalLayoutRect?this.typicalLayoutRect.width:71),a):this.target?this.target.getElementAt(a).width:0};a.prototype.getElementTotalSize=function(){for(var a=this.typicalLayoutRect?this.typicalLayoutRect.width:71,b=isNaN(this._gap)?0:this._gap,c=0,d=this.target.numElements,e=0;e<d;e++){var f=this.elementSizeTable[e];isNaN(f)&&(f=a);c+=f+b}return c-b};a.prototype.elementAdded=function(a){this.useVirtualLayout&&(b.prototype.elementAdded.call(this,a),this.elementSizeTable.splice(a,
0,this.typicalLayoutRect?this.typicalLayoutRect.width:71))};a.prototype.elementRemoved=function(a){this.useVirtualLayout&&(b.prototype.elementRemoved.call(this,a),this.elementSizeTable.splice(a,1))};a.prototype.clearVirtualLayoutCache=function(){this.useVirtualLayout&&(b.prototype.clearVirtualLayoutCache.call(this),this.elementSizeTable=[],this.maxElementHeight=0)};a.prototype.findIndexAt=function(a,b,c){var d=Math.floor(0.5*(b+c)),e=this.getStartPosition(d),f=this.getElementSize(d),q=isNaN(this._gap)?
0:this._gap;return a>=e&&a<e+f+q?d:b==c?-1:a<e?this.findIndexAt(a,b,Math.max(b,d-1)):this.findIndexAt(a,Math.min(d+1,c),c)};a.prototype.scrollPositionChanged=function(){b.prototype.scrollPositionChanged.call(this);this.useVirtualLayout&&this.getIndexInView()&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())};a.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements||isNaN(this.target.width)||0==this.target.width||isNaN(this.target.height)||0==this.target.height)return this.startIndex=
this.endIndex=-1,!1;var a=isNaN(this._padding)?0:this._padding,b=isNaN(this._paddingLeft)?a:this._paddingLeft,c=isNaN(this._paddingRight)?a:this._paddingRight;isNaN(this._paddingTop);isNaN(this._paddingBottom);var a=this.target.numElements,d=this.getStartPosition(a-1)+this.elementSizeTable[a-1]+c,e=this.target.horizontalScrollPosition;if(e>d-c)return this.endIndex=this.startIndex=-1,!1;c=this.target.horizontalScrollPosition+this.target.width;if(c<b)return this.endIndex=this.startIndex=-1,!1;b=this.startIndex;
d=this.endIndex;this.startIndex=this.findIndexAt(e,0,a-1);-1==this.startIndex&&(this.startIndex=0);this.endIndex=this.findIndexAt(c,0,a-1);-1==this.endIndex&&(this.endIndex=a-1);return b!=this.startIndex||d!=this.endIndex};a.prototype.updateDisplayListVirtual=function(a,b){this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var c=isNaN(this._padding)?0:this._padding,e=isNaN(this._paddingRight)?c:this._paddingRight,f=isNaN(this._paddingTop)?c:this._paddingTop,m=isNaN(this._paddingBottom)?
c:this._paddingBottom,q=isNaN(this._gap)?0:this._gap,s=this.target.numElements;if(-1==this.startIndex||-1==this.endIndex)e=this.getStartPosition(s)-q+e,this.target.setContentSize(Math.ceil(e),this.target.contentHeight);else{this.target.setVirtualElementIndicesInView(this.startIndex,this.endIndex);var r=this._verticalAlign==d.VerticalAlign.JUSTIFY||this._verticalAlign==d.VerticalAlign.CONTENT_JUSTIFY,p=this._verticalAlign==d.VerticalAlign.CONTENT_JUSTIFY,t=0;r||(this._verticalAlign==d.VerticalAlign.MIDDLE?
t=0.5:this._verticalAlign==d.VerticalAlign.BOTTOM&&(t=1));var D=Math.max(0,b-f-m),A=Math.ceil(D),y,C=this.typicalLayoutRect?this.typicalLayoutRect.width:71,c=Math.max(this.typicalLayoutRect?this.typicalLayoutRect.height:22,this.maxElementHeight);if(p){for(var w=this.startIndex;w<=this.endIndex;w++)(y=this.target.getVirtualElementAt(w))&&y.includeInLayout&&(this.maxElementHeight=Math.max(this.maxElementHeight,y.preferredHeight));A=Math.ceil(Math.max(D,this.maxElementHeight))}for(var E=0,u=0,w=0,z=
!1,x=this.startIndex;x<=this.endIndex;x++)if(u=0,y=this.target.getVirtualElementAt(x))y.includeInLayout?(r?(u=f,y.setLayoutBoundsSize(NaN,A)):(u=(D-y.layoutBoundsHeight)*t,u=0<u?u:0,u=f+u),p||(this.maxElementHeight=Math.max(this.maxElementHeight,y.preferredHeight)),w=Math.max(w,y.layoutBoundsHeight),z||(E=isNaN(this.elementSizeTable[x])?C:this.elementSizeTable[x],E!=y.layoutBoundsWidth&&(z=!0)),0==x&&0<this.elementSizeTable.length&&this.elementSizeTable[x]!=y.layoutBoundsWidth&&(this.typicalLayoutRect=
null),this.elementSizeTable[x]=y.layoutBoundsWidth,E=this.getStartPosition(x),y.setLayoutBoundsPosition(Math.round(E),Math.round(u))):this.elementSizeTable[x]=0;w+=f+m;e=this.getStartPosition(s)-q+e;this.target.setContentSize(Math.ceil(e),Math.ceil(w));(z||c<this.maxElementHeight)&&this.target.invalidateSize()}};a.prototype.updateDisplayListReal=function(b,e){var f=isNaN(this._padding)?0:this._padding,l=isNaN(this._paddingLeft)?f:this._paddingLeft,h=isNaN(this._paddingRight)?f:this._paddingRight,
m=isNaN(this._paddingTop)?f:this._paddingTop,f=isNaN(this._paddingBottom)?f:this._paddingBottom,q=isNaN(this._gap)?0:this._gap,s=Math.max(0,b-l-h),r=Math.max(0,e-m-f),p=this._horizontalAlign==d.HorizontalAlign.JUSTIFY,t=this._verticalAlign==d.VerticalAlign.JUSTIFY||this._verticalAlign==d.VerticalAlign.CONTENT_JUSTIFY,D=0;t||(this._verticalAlign==d.VerticalAlign.MIDDLE?D=0.5:this._verticalAlign==d.VerticalAlign.BOTTOM&&(D=1));var A=this.target.numElements,y=A,C=l,w=m,E,u,z=0,w=0,x=[],B,v=s;for(E=0;E<
A;E++)(u=this.target.getElementAt(E))&&u.includeInLayout?(this.maxElementHeight=Math.max(this.maxElementHeight,u.preferredHeight),p?z+=u.preferredWidth:isNaN(u.percentWidth)?v-=u.preferredWidth:(w+=u.percentWidth,B=new c,B.layoutElement=u,B.percent=u.percentWidth,B.min=u.minWidth,B.max=u.maxWidth,x.push(B))):y--;var v=v-q*(y-1),v=0<v?v:0,G=s-z-q*(y-1),F,I=y,H=[];if(p){if(0>G){F=v/y;for(E=0;E<A;E++)(u=this.target.getElementAt(E))&&u.includeInLayout&&(u=u.preferredWidth,u<=F&&(v-=u,I--));v=0<v?v:0}}else if(0<
w){a.flexChildrenProportionally(s,v,w,x);s=0;u=x.length;for(E=0;E<u;E++)B=x[E],w=Math.round(B.size+s),s+=B.size-w,H[B.layoutElement.hashCode]=w,v-=w;v=0<v?v:0}this._horizontalAlign==d.HorizontalAlign.CENTER?C=l+0.5*v:this._horizontalAlign==d.HorizontalAlign.RIGHT&&(C=l+v);x=m;u=y=0;B=Math.ceil(r);this._verticalAlign==d.VerticalAlign.CONTENT_JUSTIFY&&(B=Math.ceil(Math.max(r,this.maxElementHeight)));for(E=s=0;E<A;E++)w=0,(u=this.target.getElementAt(E))&&u.includeInLayout&&(y=NaN,p?(w=NaN,0<G?w=v*u.preferredWidth/
z:0>G&&u.preferredWidth>F&&(w=v/I),isNaN(w)||(y=Math.round(w+s),s+=w-y)):y=H[u.hashCode],t?(w=m,u.setLayoutBoundsSize(y,B)):(w=NaN,isNaN(u.percentHeight)||(w=Math.min(100,u.percentHeight),w=Math.round(r*w*0.01)),u.setLayoutBoundsSize(y,w),w=(r-u.layoutBoundsHeight)*D,w=0<w?w:0,w=m+w),u.setLayoutBoundsPosition(Math.round(C),Math.round(w)),y=Math.ceil(u.layoutBoundsWidth),u=Math.ceil(u.layoutBoundsHeight),l=Math.max(l,C+y),x=Math.max(x,w+u),C+=y+q);this.target.setContentSize(Math.ceil(l+h),Math.ceil(x+
f))};a.flexChildrenProportionally=function(a,b,c,d){var e=d.length,f;do{f=!0;var q=b-a*c/100;0<q?b-=q:q=0;for(var s=b/c,r=0;r<e;r++){var p=d[r],t=p.percent*s;if(t<p.min){f=p.min;p.size=f;d[r]=d[--e];d[e]=p;c-=p.percent;q>=f||(b-=f-q);f=!1;break}else if(t>p.max){f=p.max;p.size=f;d[r]=d[--e];d[e]=p;c-=p.percent;q>=f||(b-=f-q);f=!1;break}else p.size=t}}while(!f)};return a}(e.LayoutBase);e.HorizontalLayout=f;f.prototype.__class__="egret.gui.HorizontalLayout";var c=function(){return function(){this.size=
0}}();c.prototype.__class__="ChildInfo"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this.explicitHorizontalGap=NaN;this._horizontalGap=6;this.explicitVerticalGap=NaN;this._verticalGap=6;this._columnCount=-1;this._requestedColumnCount=0;this._rowCount=-1;this._requestedRowCount=0;this._rowHeight=this.explicitRowHeight=this._columnWidth=this.explicitColumnWidth=NaN;this._padding=0;this._paddingBottom=this._paddingTop=this._paddingRight=this._paddingLeft=NaN;this._horizontalAlign=d.HorizontalAlign.JUSTIFY;this._verticalAlign=
d.VerticalAlign.JUSTIFY;this._columnAlign=e.ColumnAlign.LEFT;this._rowAlign=e.RowAlign.TOP;this._orientation=e.TileOrientation.ROWS;this.maxElementHeight=this.maxElementWidth=0;this.endIndex=this.startIndex=-1;this.indexInViewCalculated=!1}__extends(b,c);Object.defineProperty(b.prototype,"horizontalGap",{get:function(){return this._horizontalGap},set:function(a){a!=this._horizontalGap&&(this._horizontalGap=this.explicitHorizontalGap=a,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&
this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"verticalGap",{get:function(){return this._verticalGap},set:function(a){a!=this._verticalGap&&(this._verticalGap=this.explicitVerticalGap=a,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("gapChanged")&&this.dispatchEventWith("gapChanged"))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"columnCount",{get:function(){return this._columnCount},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"requestedColumnCount",{get:function(){return this._requestedColumnCount},set:function(a){this._requestedColumnCount!=a&&(this._columnCount=this._requestedColumnCount=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"rowCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"requestedRowCount",{get:function(){return this._requestedRowCount},set:function(a){this._requestedRowCount!=
a&&(this._rowCount=this._requestedRowCount=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(a){a!=this._columnWidth&&(this._columnWidth=this.explicitColumnWidth=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(a){a!=this._rowHeight&&(this._rowHeight=
this.explicitRowHeight=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"padding",{get:function(){return this._padding},set:function(a){this._padding!=a&&(this._padding=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(a){this._paddingLeft!=a&&(this._paddingLeft=a,this.invalidateTargetSizeAndDisplayList())},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(a){this._paddingRight!=a&&(this._paddingRight=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(a){this._paddingTop!=a&&(this._paddingTop=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"paddingBottom",{get:function(){return this._paddingBottom},set:function(a){this._paddingBottom!=a&&(this._paddingBottom=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(a){this._horizontalAlign!=a&&(this._horizontalAlign=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"verticalAlign",{get:function(){return this._verticalAlign},
set:function(a){this._verticalAlign!=a&&(this._verticalAlign=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"columnAlign",{get:function(){return this._columnAlign},set:function(a){this._columnAlign!=a&&(this._columnAlign=a,this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"rowAlign",{get:function(){return this._rowAlign},set:function(a){this._rowAlign!=a&&(this._rowAlign=a,
this.invalidateTargetSizeAndDisplayList())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"orientation",{get:function(){return this._orientation},set:function(a){this._orientation!=a&&(this._orientation=a,this.invalidateTargetSizeAndDisplayList(),this.hasEventListener("orientationChanged")&&this.dispatchEventWith("orientationChanged"))},enumerable:!0,configurable:!0});b.prototype.invalidateTargetSizeAndDisplayList=function(){this.target&&(this.target.invalidateSize(),this.target.invalidateDisplayList())};
b.prototype.measure=function(){if(this.target){var a=this._columnCount,b=this._rowCount,c=this._columnWidth,d=this._rowHeight,e=0,f=0;this.calculateRowAndColumn(this.target.explicitWidth,this.target.explicitHeight);var m=0<this._requestedColumnCount?this._requestedColumnCount:this._columnCount,q=0<this._requestedRowCount?this._requestedRowCount:this._rowCount,s=isNaN(this._horizontalGap)?0:this._horizontalGap,r=isNaN(this._verticalGap)?0:this._verticalGap;0<m&&(e=m*(this._columnWidth+s)-s);0<q&&(f=
q*(this._rowHeight+r)-r);r=isNaN(this._padding)?0:this._padding;m=isNaN(this._paddingLeft)?r:this._paddingLeft;q=isNaN(this._paddingRight)?r:this._paddingRight;s=isNaN(this._paddingTop)?r:this._paddingTop;r=isNaN(this._paddingBottom)?r:this._paddingBottom;s+=r;this.target.measuredWidth=Math.ceil(e+(m+q));this.target.measuredHeight=Math.ceil(f+s);this._columnCount=a;this._rowCount=b;this._columnWidth=c;this._rowHeight=d}};b.prototype.calculateRowAndColumn=function(a,b){var c=isNaN(this._horizontalGap)?
0:this._horizontalGap,d=isNaN(this._verticalGap)?0:this._verticalGap;this._rowCount=this._columnCount=-1;for(var f=this.target.numElements,h=f,m=0;m<h;m++){var q=this.target.getElementAt(m);q&&!q.includeInLayout&&f--}if(0==f)this._rowCount=this._columnCount=0;else{(isNaN(this.explicitColumnWidth)||isNaN(this.explicitRowHeight))&&this.updateMaxElementSize();isNaN(this.explicitColumnWidth)?this._columnWidth=this.maxElementWidth:this._columnWidth=this.explicitColumnWidth;isNaN(this.explicitRowHeight)?
this._rowHeight=this.maxElementHeight:this._rowHeight=this.explicitRowHeight;h=this._columnWidth+c;0>=h&&(h=1);m=this._rowHeight+d;0>=m&&(m=1);var q=this.orientation==e.TileOrientation.COLUMNS,s=!isNaN(a),r=!isNaN(b),p=isNaN(this._padding)?0:this._padding,t=isNaN(this._paddingLeft)?p:this._paddingLeft,D=isNaN(this._paddingRight)?p:this._paddingRight,A=isNaN(this._paddingTop)?p:this._paddingTop,p=isNaN(this._paddingBottom)?p:this._paddingBottom;0<this._requestedColumnCount||0<this._requestedRowCount?
(0<this._requestedRowCount&&(this._rowCount=Math.min(this._requestedRowCount,f)),0<this._requestedColumnCount&&(this._columnCount=Math.min(this._requestedColumnCount,f))):s||r?!s||r&&q?(c=Math.max(0,b-A-p),this._rowCount=Math.floor((c+d)/m),this._rowCount=Math.max(1,Math.min(this._rowCount,f))):(d=Math.max(0,a-t-D),this._columnCount=Math.floor((d+c)/h),this._columnCount=Math.max(1,Math.min(this._columnCount,f))):(c=Math.sqrt(f*h*m),q?this._rowCount=Math.max(1,Math.round(c/m)):this._columnCount=Math.max(1,
Math.round(c/h)));-1==this._rowCount&&(this._rowCount=Math.max(1,Math.ceil(f/this._columnCount)));-1==this._columnCount&&(this._columnCount=Math.max(1,Math.ceil(f/this._rowCount)));0<this._requestedColumnCount&&0<this._requestedRowCount&&(this.orientation==e.TileOrientation.ROWS?this._rowCount=Math.max(1,Math.ceil(f/this._requestedColumnCount)):this._columnCount=Math.max(1,Math.ceil(f/this._requestedRowCount)))}};b.prototype.updateMaxElementSize=function(){this.target&&(this.useVirtualLayout?this.updateMaxElementSizeVirtual():
this.updateMaxElementSizeReal())};b.prototype.updateMaxElementSizeVirtual=function(){var a=this.typicalLayoutRect?this.typicalLayoutRect.height:22;this.maxElementWidth=Math.max(this.maxElementWidth,this.typicalLayoutRect?this.typicalLayoutRect.width:22);this.maxElementHeight=Math.max(this.maxElementHeight,a);if(-1!=this.startIndex&&-1!=this.endIndex)for(a=this.startIndex;a<=this.endIndex;a++){var b=this.target.getVirtualElementAt(a);b&&b.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,
b.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,b.preferredHeight))}};b.prototype.updateMaxElementSizeReal=function(){for(var a=this.target.numElements,b=0;b<a;b++){var c=this.target.getElementAt(b);c&&c.includeInLayout&&(this.maxElementWidth=Math.max(this.maxElementWidth,c.preferredWidth),this.maxElementHeight=Math.max(this.maxElementHeight,c.preferredHeight))}};b.prototype.clearVirtualLayoutCache=function(){c.prototype.clearVirtualLayoutCache.call(this);this.maxElementHeight=
this.maxElementWidth=0};b.prototype.scrollPositionChanged=function(){c.prototype.scrollPositionChanged.call(this);this.useVirtualLayout&&this.getIndexInView()&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())};b.prototype.getIndexInView=function(){if(!this.target||0==this.target.numElements)return this.startIndex=this.endIndex=-1,!1;var a=this.target.numElements;if(!this.useVirtualLayout)return this.startIndex=0,this.endIndex=a-1,!1;if(isNaN(this.target.width)||0==this.target.width||
isNaN(this.target.height)||0==this.target.height)return this.startIndex=this.endIndex=-1,!1;var b=this.startIndex,c=this.endIndex,d=isNaN(this._padding)?0:this._padding,f=isNaN(this._paddingLeft)?d:this._paddingLeft,d=isNaN(this._paddingTop)?d:this._paddingTop,h=isNaN(this._horizontalGap)?0:this._horizontalGap,m=isNaN(this._verticalGap)?0:this._verticalGap;if(this.orientation==e.TileOrientation.COLUMNS){h=this._columnWidth+h;if(0>=h)return this.startIndex=0,this.endIndex=a-1,!1;m=this.target.horizontalScrollPosition+
this.target.width;d=Math.floor((this.target.horizontalScrollPosition-f)/h);0>d&&(d=0);f=Math.ceil((m-f)/h);0>f&&(f=0);this.startIndex=Math.min(a-1,Math.max(0,d*this._rowCount));this.endIndex=Math.min(a-1,Math.max(0,f*this._rowCount-1))}else{h=this._rowHeight+m;if(0>=h)return this.startIndex=0,this.endIndex=a-1,!1;m=this.target.verticalScrollPosition+this.target.height;f=Math.floor((this.target.verticalScrollPosition-d)/h);0>f&&(f=0);d=Math.ceil((m-d)/h);0>d&&(d=0);this.startIndex=Math.min(a-1,Math.max(0,
f*this._columnCount));this.endIndex=Math.min(a-1,Math.max(0,d*this._columnCount-1))}return this.startIndex!=b||this.endIndex!=c};b.prototype.updateDisplayList=function(a,b){c.prototype.updateDisplayList.call(this,a,b);if(this.target){var d=isNaN(this._padding)?0:this._padding,f=isNaN(this._paddingLeft)?d:this._paddingLeft,l=isNaN(this._paddingRight)?d:this._paddingRight,h=isNaN(this._paddingTop)?d:this._paddingTop,m=isNaN(this._paddingBottom)?d:this._paddingBottom,d=isNaN(this._horizontalGap)?0:this._horizontalGap,
q=isNaN(this._verticalGap)?0:this._verticalGap;if(this.indexInViewCalculated)this.indexInViewCalculated=!1;else{this.calculateRowAndColumn(a,b);if(0==this._rowCount||0==this._columnCount){this.target.setContentSize(f+l,h+m);return}this.adjustForJustify(a,b);this.getIndexInView()}this.useVirtualLayout&&(this.calculateRowAndColumn(a,b),this.adjustForJustify(a,b));if(-1==this.startIndex||-1==this.endIndex)this.target.setContentSize(0,0);else{this.target.setVirtualElementIndicesInView(this.startIndex,
this.endIndex);for(var s,r,p,t=this.orientation==e.TileOrientation.COLUMNS,D=this.startIndex,A=this.startIndex;A<=this.endIndex;A++)s=this.useVirtualLayout?this.target.getVirtualElementAt(A):this.target.getElementAt(A),null!=s&&s.includeInLayout&&(t?(r=Math.ceil((D+1)/this._rowCount)-1,p=Math.ceil((D+1)%this._rowCount)-1,-1==p&&(p=this._rowCount-1)):(r=Math.ceil((D+1)%this._columnCount)-1,-1==r&&(r=this._columnCount-1),p=Math.ceil((D+1)/this._columnCount)-1),r=r*(this._columnWidth+d)+f,p=p*(this._rowHeight+
q)+h,this.sizeAndPositionElement(s,r,p,this._columnWidth,this.rowHeight),D++);h+=m;q=(this._rowHeight+q)*this._rowCount-q;this.target.setContentSize(Math.ceil((this._columnWidth+d)*this._columnCount-d+(f+l)),Math.ceil(q+h))}}};b.prototype.sizeAndPositionElement=function(a,b,c,e,f){var h=NaN,m=NaN;this.horizontalAlign==d.HorizontalAlign.JUSTIFY?h=e:isNaN(a.percentWidth)||(h=e*a.percentWidth*0.01);this.verticalAlign==d.VerticalAlign.JUSTIFY?m=f:isNaN(a.percentHeight)||(m=f*a.percentHeight*0.01);a.setLayoutBoundsSize(Math.round(h),
Math.round(m));h=b;switch(this.horizontalAlign){case d.HorizontalAlign.RIGHT:h+=e-a.layoutBoundsWidth;break;case d.HorizontalAlign.CENTER:h=b+(e-a.layoutBoundsWidth)/2}b=c;switch(this.verticalAlign){case d.VerticalAlign.BOTTOM:b+=f-a.layoutBoundsHeight;break;case d.VerticalAlign.MIDDLE:b+=(f-a.layoutBoundsHeight)/2}a.setLayoutBoundsPosition(Math.round(h),Math.round(b))};b.prototype.adjustForJustify=function(a,b){var c=isNaN(this._padding)?0:this._padding,d=isNaN(this._paddingLeft)?c:this._paddingLeft,
f=isNaN(this._paddingRight)?c:this._paddingRight,h=isNaN(this._paddingTop)?c:this._paddingTop,c=isNaN(this._paddingBottom)?c:this._paddingBottom,d=Math.max(0,a-d-f),h=Math.max(0,b-h-c);isNaN(this.explicitVerticalGap)||(this._verticalGap=this.explicitVerticalGap);isNaN(this.explicitHorizontalGap)||(this._horizontalGap=this.explicitHorizontalGap);this._verticalGap=isNaN(this._verticalGap)?0:this._verticalGap;this._horizontalGap=isNaN(this._horizontalGap)?0:this._horizontalGap;h-=this._rowHeight*this._rowCount;
d-=this._columnWidth*this._columnCount;0<h&&(this.rowAlign==e.RowAlign.JUSTIFY_USING_GAP?(f=Math.max(1,this._rowCount-1),this._verticalGap=h/f):this.rowAlign==e.RowAlign.JUSTIFY_USING_HEIGHT&&0<this._rowCount&&(this._rowHeight+=(h-(this._rowCount-1)*this._verticalGap)/this._rowCount));0<d&&(this.columnAlign==e.ColumnAlign.JUSTIFY_USING_GAP?(f=Math.max(1,this._columnCount-1),this._horizontalGap=d/f):this.columnAlign==e.ColumnAlign.JUSTIFY_USING_WIDTH&&0<this._columnCount&&(this._columnWidth+=(d-(this._columnCount-
1)*this._horizontalGap)/this._columnCount))};return b}(e.LayoutBase);e.TileLayout=f;f.prototype.__class__="egret.gui.TileLayout"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(d){var f=function(){function c(b,a,c){this.raw_getElementAt="raw_getElementAt";this.raw_addElementAt="raw_addElementAt";this.raw_getElementIndex="raw_getElementIndex";this.raw_removeElement="raw_removeElement";this.raw_removeElementAt="raw_removeElementAt";this.raw_setElementIndex="raw_setElementIndex";this.owner=b;this.lowerBoundReference=a;this.upperBoundReference=c}Object.defineProperty(c.prototype,"numElements",{get:function(){return this.owner[this.upperBoundReference]-
this.owner[this.lowerBoundReference]},enumerable:!0,configurable:!0});c.prototype.getElementAt=function(b){return this.owner[this.raw_getElementAt](this.owner[this.lowerBoundReference]+b)};c.prototype.addElement=function(b){var a=this.owner[this.upperBoundReference];b.parent===this.owner&&a--;this.owner[this.upperBoundReference]++;this.owner[this.raw_addElementAt](b,a);b.ownerChanged(this);return b};c.prototype.addElementAt=function(b,a){this.owner[this.upperBoundReference]++;this.owner[this.raw_addElementAt](b,
this.owner[this.lowerBoundReference]+a);b.ownerChanged(this);return b};c.prototype.removeElement=function(b){var a=this.owner[this.raw_getElementIndex](b);this.owner[this.lowerBoundReference]<=a&&a<this.owner[this.upperBoundReference]&&(this.owner[this.raw_removeElement](b),this.owner[this.upperBoundReference]--);b.ownerChanged(null);return b};c.prototype.removeElementAt=function(b){b+=this.owner[this.lowerBoundReference];var a;this.owner[this.lowerBoundReference]<=b&&b<this.owner[this.upperBoundReference]&&
(a=this.owner[this.raw_removeElementAt](b),this.owner[this.upperBoundReference]--);a.ownerChanged(null);return a};c.prototype.getElementIndex=function(b){b=this.owner[this.raw_getElementIndex](b);return b-=this.owner[this.lowerBoundReference]};c.prototype.setElementIndex=function(b,a){this.owner[this.raw_setElementIndex](b,this.owner[this.lowerBoundReference]+a)};return c}();d.UILayer=f;f.prototype.__class__="egret.gui.UILayer"})(d.gui||(d.gui={}))})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(c){function b(){c.call(this);this._autoResize=!0;this._cursorIndex=this._toolTipIndex=this._topMostIndex=this._noTopMostIndex=0;this.addEventListener(d.Event.ADDED_TO_STAGE,this.onAddToStage,this);this.addEventListener(d.Event.REMOVED_FROM_STAGE,this.onRemoveFromStage,this)}__extends(b,c);b.prototype.onAddToStage=function(a){if(e.UIGlobals._uiStage)throw Error("UIStage\u662fGUI\u6839\u5bb9\u5668\uff0c\u53ea\u80fd\u6709\u4e00\u4e2a\u6b64\u5b9e\u4f8b\u5728\u663e\u793a\u5217\u8868\u4e2d\uff01");
e.UIGlobals._uiStage=this;this._autoResize&&(this.stage.addEventListener(d.Event.RESIZE,this.onResize,this),this.onResize())};b.prototype.onRemoveFromStage=function(a){e.UIGlobals._uiStage=null;this._autoResize&&this.stage.removeEventListener(d.Event.RESIZE,this.onResize,this)};b.prototype.onResize=function(a){this._setWidth(this.stage.stageWidth);this._setHeight(this.stage.stageHeight)};Object.defineProperty(b.prototype,"autoResize",{get:function(){return this._autoResize},set:function(a){this._autoResize!=
a&&(this._autoResize=a,this.stage&&(this._autoResize?(this.stage.addEventListener(d.Event.RESIZE,this.onResize,this),this.onResize()):this.stage.removeEventListener(d.Event.RESIZE,this.onResize,this)))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"x",{get:function(){return this._x},set:function(a){this._autoResize||(this._x=a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"y",{get:function(){return this._y},set:function(a){this._autoResize||(this._y=a)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return this._width},set:function(a){this._autoResize||this._setWidth(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return this._height},set:function(a){this._autoResize||this._setHeight(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"scaleX",{get:function(){return this._scaleX},set:function(a){this._autoResize||this._setScaleX(a)},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"scaleY",{get:function(){return this._scaleY},set:function(a){this._autoResize||this._setScaleY(a)},enumerable:!0,configurable:!0});b.prototype.setActualSize=function(a,b){this._autoResize||c.prototype.setActualSize.call(this,a,b)};b.prototype.setLayoutBoundsPosition=function(a,b){this._autoResize||c.prototype.setLayoutBoundsPosition.call(this,a,b)};b.prototype.setLayoutBoundsSize=function(a,b){this._autoResize||c.prototype.setLayoutBoundsSize.call(this,
a,b)};Object.defineProperty(b.prototype,"layout",{get:function(){return this._layout},set:function(a){a instanceof e.BasicLayout&&this._setLayout(a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"popUpContainer",{get:function(){this._popUpContainer||(this._popUpContainer=new e.UILayer(this,"noTopMostIndex","topMostIndex"));return this._popUpContainer},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"toolTipContainer",{get:function(){this._toolTipContainer||(this._toolTipContainer=
new e.UILayer(this,"topMostIndex","toolTipIndex"));return this._toolTipContainer},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"cursorContainer",{get:function(){this._cursorContainer||(this._cursorContainer=new e.UILayer(this,"toolTipIndex","cursorIndex"));return this._cursorContainer},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"noTopMostIndex",{get:function(){return this._noTopMostIndex},set:function(a){var b=a-this._noTopMostIndex;this._noTopMostIndex=
a;this.topMostIndex+=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"topMostIndex",{get:function(){return this._topMostIndex},set:function(a){var b=a-this._topMostIndex;this._topMostIndex=a;this.toolTipIndex+=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"toolTipIndex",{get:function(){return this._toolTipIndex},set:function(a){var b=a-this._toolTipIndex;this._toolTipIndex=a;this.cursorIndex+=b},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"cursorIndex",{get:function(){return this._cursorIndex},set:function(a){this._cursorIndex=a},enumerable:!0,configurable:!0});b.prototype.addElement=function(a){var b=this._noTopMostIndex;a.parent==this&&b--;return this.addElementAt(a,b)};b.prototype.addElementAt=function(a,b){if(a.parent==this){var d=this.getElementIndex(a);d<this._noTopMostIndex?this.noTopMostIndex--:d>=this._noTopMostIndex&&d<this._topMostIndex?this.topMostIndex--:d>=this._topMostIndex&&d<this._toolTipIndex?this.toolTipIndex--:
this.cursorIndex--}b<=this._noTopMostIndex?this.noTopMostIndex++:b>this._noTopMostIndex&&b<=this._topMostIndex?this.topMostIndex++:b>this._topMostIndex&&b<=this._toolTipIndex?this.toolTipIndex++:this.cursorIndex++;return c.prototype.addElementAt.call(this,a,b)};b.prototype.removeElement=function(a){return this.removeElementAt(c.prototype.getElementIndex.call(this,a))};b.prototype.removeElementAt=function(a){var b=c.prototype.removeElementAt.call(this,a);a<this._noTopMostIndex?this.noTopMostIndex--:
a>=this._noTopMostIndex&&a<this._topMostIndex?this.topMostIndex--:a>=this._topMostIndex&&a<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--;return b};b.prototype.removeAllElements=function(){for(;0<this._noTopMostIndex;)c.prototype.removeElementAt.call(this,0),this.noTopMostIndex--};b.prototype._elementRemoved=function(a,b,e){"undefined"===typeof e&&(e=!0);e&&d.Event.dispatchEvent(a,"removeFromUIStage");c.prototype._elementRemoved.call(this,a,b,e)};b.prototype.raw_getElementAt=function(a){return c.prototype.getElementAt.call(this,
a)};b.prototype.raw_addElement=function(a){var b=this.numElements;a.parent==this&&b--;return this.raw_addElementAt(a,b)};b.prototype.raw_addElementAt=function(a,b){if(a.parent==this){var d=this.getElementIndex(a);d<this._noTopMostIndex?this.noTopMostIndex--:d>=this._noTopMostIndex&&d<this._topMostIndex?this.topMostIndex--:d>=this._topMostIndex&&d<this._toolTipIndex?this.toolTipIndex--:this.cursorIndex--}return c.prototype.addElementAt.call(this,a,b)};b.prototype.raw_removeElement=function(a){return c.prototype.removeElementAt.call(this,
c.prototype.getElementIndex.call(this,a))};b.prototype.raw_removeElementAt=function(a){return c.prototype.removeElementAt.call(this,a)};b.prototype.raw_removeAllElements=function(){for(;0<this.numElements;)c.prototype.removeElementAt.call(this,0)};b.prototype.raw_getElementIndex=function(a){return c.prototype.getElementIndex.call(this,a)};b.prototype.raw_setElementIndex=function(a,b){c.prototype.setElementIndex.call(this,a,b)};b.prototype.raw_swapElements=function(a,b){c.prototype.swapElementsAt.call(this,
c.prototype.getElementIndex.call(this,a),c.prototype.getElementIndex.call(this,b))};b.prototype.raw_swapElementsAt=function(a,b){c.prototype.swapElementsAt.call(this,a,b)};return b}(e.Group);e.UIStage=f;f.prototype.__class__="egret.gui.UIStage"})(d.gui||(d.gui={}))})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(e){var f=function(b){function a(){b.call(this);this._popUpList=[];this.popUpDataList=[];this._modalColor=0;this._modalAlpha=0.5;this.invalidateModalFlag=!1}__extends(a,b);Object.defineProperty(a.prototype,"popUpList",{get:function(){return this._popUpList.concat()},enumerable:!0,configurable:!0});a.prototype.findPopUpData=function(a){for(var b=this.popUpDataList,c=b.length,d=0;d<c;d++){var e=b[d];if(e.popUp==a)return e}return null};a.prototype.addPopUp=function(b,d,f){"undefined"===
typeof d&&(d=!1);"undefined"===typeof f&&(f=!0);var l=e.UIGlobals.uiStage,h=this.findPopUpData(b);h?(h.modal=d,b.removeEventListener(a.REMOVE_FROM_UISTAGE,this.onRemoved,this)):(h=new c(b,d),this.popUpDataList.push(h),this._popUpList.push(b));l.popUpContainer.addElement(b);f&&this.centerPopUp(b);"isPopUp"in b&&(b.isPopUp=!0);d&&this.invalidateModal();b.addEventListener(a.REMOVE_FROM_UISTAGE,this.onRemoved,this)};a.prototype.onRemoved=function(b){for(var c=0,d=this.popUpDataList,e=d.length,f=0;f<e;f++){var m=
d[f];if(m.popUp==b.target){"isPopUp"in m.popUp&&(m.popUp.isPopUp=!1);m.popUp.removeEventListener(a.REMOVE_FROM_UISTAGE,this.onRemoved,this);this.popUpDataList.splice(c,1);this._popUpList.splice(c,1);this.invalidateModal();break}c++}};Object.defineProperty(a.prototype,"modalColor",{get:function(){return this._modalColor},set:function(a){this._modalColor!=a&&(this._modalColor=a,this.invalidateModal())},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"modalAlpha",{get:function(){return this._modalAlpha},
set:function(a){this._modalAlpha!=a&&(this._modalAlpha=a,this.invalidateModal())},enumerable:!0,configurable:!0});a.prototype.invalidateModal=function(){this.invalidateModalFlag||(this.invalidateModalFlag=!0,e.UIGlobals.stage.addEventListener(d.Event.ENTER_FRAME,this.validateModal,this),e.UIGlobals.stage.addEventListener(d.Event.RENDER,this.validateModal,this),e.UIGlobals.stage.invalidate())};a.prototype.validateModal=function(a){this.invalidateModalFlag=!1;e.UIGlobals.stage.removeEventListener(d.Event.ENTER_FRAME,
this.validateModal,this);e.UIGlobals.stage.removeEventListener(d.Event.RENDER,this.validateModal,this);this.updateModal(e.UIGlobals.uiStage)};a.prototype.updateModal=function(a){for(var b=a.popUpContainer,c=!1,d=b.numElements-1;0<=d;d--){var f=b.getElementAt(d);if((f=this.findPopUpData(f))&&f.modal){c=!0;break}}c?(this.modalMask||(this.modalMask=new e.Rect,this.modalMask.touchEnabled=!0,this.modalMask.top=this.modalMask.left=this.modalMask.right=this.modalMask.bottom=0),this.modalMask.fillColor=this._modalColor,
this.modalMask.alpha=this._modalAlpha,this.modalMask.parent==a?(b.getElementIndex(this.modalMask)<d&&d--,b.setElementIndex(this.modalMask,d)):b.addElementAt(this.modalMask,d)):this.modalMask&&this.modalMask.parent==a&&b.removeElement(this.modalMask)};a.prototype.removePopUp=function(a){a&&a.parent&&this.findPopUpData(a)&&("removeElement"in a.parent?a.parent.removeElement(a):a.parent instanceof e.UIComponent?a.parent._removeFromDisplayList(a):a instanceof d.DisplayObject&&a.parent.removeChild(a))};
a.prototype.centerPopUp=function(a){a.top=a.bottom=a.left=a.right=NaN;a.verticalCenter=a.horizontalCenter=0;var b=a.parent;b&&("validateNow"in a&&a.validateNow(),a.x=0.5*(b.width-a.layoutBoundsWidth),a.y=0.5*(b.height-a.layoutBoundsHeight))};a.prototype.bringToFront=function(a){if(this.findPopUpData(a)&&a.parent&&"popUpContainer"in a.parent){var b=a.parent;b.popUpContainer.setElementIndex(a,b.popUpContainer.numElements-1);this.invalidateModal()}};a.REMOVE_FROM_UISTAGE="removeFromUIStage";return a}(d.EventDispatcher);
e.PopUpManagerImpl=f;f.prototype.__class__="egret.gui.PopUpManagerImpl";var c=function(){return function(b,a){this.popUp=b;this.modal=a}}();c.prototype.__class__="PopUpData"})(d.gui||(d.gui={}))})(egret||(egret={}));
(function(d){(function(e){var f=function(){function c(){}c.getImpl=function(){if(!c._impl)try{c._impl=d.Injector.getInstance("egret.gui.IPopUpManager")}catch(b){c._impl=new e.PopUpManagerImpl}return c._impl};Object.defineProperty(c.prototype,"modalColor",{get:function(){return c.getImpl().modalColor},set:function(b){c.getImpl().modalColor=b},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"modalAlpha",{get:function(){return c.getImpl().modalAlpha},set:function(b){c.getImpl().modalAlpha=
b},enumerable:!0,configurable:!0});c.addPopUp=function(b,a,d){"undefined"===typeof a&&(a=!1);"undefined"===typeof d&&(d=!0);c.getImpl().addPopUp(b,a,d);e.PopUpEvent.dispatchPopUpEvent(c.getImpl(),e.PopUpEvent.ADD_POPUP,b,a)};c.removePopUp=function(b){c.getImpl().removePopUp(b);e.PopUpEvent.dispatchPopUpEvent(c.getImpl(),e.PopUpEvent.REMOVE_POPUP,b)};c.centerPopUp=function(b){c.getImpl().centerPopUp(b)};c.bringToFront=function(b){c.getImpl().bringToFront(b);e.PopUpEvent.dispatchPopUpEvent(c.getImpl(),
e.PopUpEvent.BRING_TO_FRONT,b)};Object.defineProperty(c,"popUpList",{get:function(){return c.getImpl().popUpList},enumerable:!0,configurable:!0});c.addEventListener=function(b,a,d,e,f){"undefined"===typeof e&&(e=!1);"undefined"===typeof f&&(f=0);c.getImpl().addEventListener(b,a,this,e,f)};c.removeEventListener=function(b,a,d,e){"undefined"===typeof e&&(e=!1);c.getImpl().removeEventListener(b,a,d,e)};return c}();e.PopUpManager=f;f.prototype.__class__="egret.gui.PopUpManager"})(d.gui||(d.gui={}))})(egret||
(egret={}));var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},dragonBones;
(function(d){(function(a){var b=function(){function a(b,c){"undefined"===typeof b&&(b=0);"undefined"===typeof c&&(c=0);this.x=b;this.y=c}a.prototype.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};return a}();a.Point=b;b.prototype.__class__="dragonBones.geom.Point";b=function(){return function(a,b,c,d){"undefined"===typeof a&&(a=0);"undefined"===typeof b&&(b=0);"undefined"===typeof c&&(c=0);"undefined"===typeof d&&(d=0);this.x=a;this.y=b;this.width=c;this.height=d}}();a.Rectangle=
b;b.prototype.__class__="dragonBones.geom.Rectangle";b=function(){function a(){this.a=1;this.c=this.b=0;this.d=1;this.ty=this.tx=0}a.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;this.a=d/f;this.b=-b/f;this.c=-c/f;this.d=a/f;this.tx=(c*this.ty-d*e)/f;this.ty=-(a*this.ty-b*e)/f};return a}();a.Matrix=b;b.prototype.__class__="dragonBones.geom.Matrix";b=function(){return function(){this.redOffset=this.redMultiplier=this.greenOffset=this.greenMultiplier=this.blueOffset=
this.blueMultiplier=this.alphaOffset=this.alphaMultiplier=0}}();a.ColorTransform=b;b.prototype.__class__="dragonBones.geom.ColorTransform"})(d.geom||(d.geom={}));var e=d.geom;(function(a){var b=function(){return function(a){this.type=a}}();a.Event=b;b.prototype.__class__="dragonBones.events.Event";var c=function(a){function b(c){a.call(this,c)}__extends(b,a);b.FADE_IN="fadeIn";b.FADE_OUT="fadeOut";b.START="start";b.COMPLETE="complete";b.LOOP_COMPLETE="loopComplete";b.FADE_IN_COMPLETE="fadeInComplete";
b.FADE_OUT_COMPLETE="fadeOutComplete";return b}(b);a.AnimationEvent=c;c.prototype.__class__="dragonBones.events.AnimationEvent";c=function(a){function b(c){a.call(this,c)}__extends(b,a);b.Z_ORDER_UPDATED="zOrderUpdated";return b}(b);a.ArmatureEvent=c;c.prototype.__class__="dragonBones.events.ArmatureEvent";c=function(a){function b(c){a.call(this,c)}__extends(b,a);b.ANIMATION_FRAME_EVENT="animationFrameEvent";b.BONE_FRAME_EVENT="boneFrameEvent";return b}(b);a.FrameEvent=c;c.prototype.__class__="dragonBones.events.FrameEvent";
b=function(a){function b(c){a.call(this,c)}__extends(b,a);b.SOUND="sound";b.BONE_FRAME_EVENT="boneFrameEvent";return b}(b);a.SoundEvent=b;b.prototype.__class__="dragonBones.events.SoundEvent";b=function(){function a(){}a.prototype.hasEventListener=function(a){return this._listenersMap&&this._listenersMap[a]?!0:!1};a.prototype.addEventListener=function(a,b){if(a&&b){this._listenersMap||(this._listenersMap={});var c=this._listenersMap[a];c&&this.removeEventListener(a,b);c?c.push(b):this._listenersMap[a]=
[b]}};a.prototype.removeEventListener=function(a,b){if(this._listenersMap&&a&&b){var c=this._listenersMap[a];if(c)for(var d=c.length,e=0;e<d;e++)c[e]==b&&(1==d?(c.length=0,delete this._listenersMap[a]):c.splice(e,1))}};a.prototype.removeAllEventListeners=function(a){a?delete this._listenersMap[a]:this._listenersMap=null};a.prototype.dispatchEvent=function(a){if(a){var b=this._listenersMap[a.type];if(b){a.target=this;for(var c=b.concat(),b=b.length,d=0;d<b;d++)c[d](a)}}};return a}();a.EventDispatcher=
b;b.prototype.__class__="dragonBones.events.EventDispatcher";b=function(a){function b(){a.call(this);if(b._instance)throw Error("Singleton already constructed!");}__extends(b,a);b.getInstance=function(){b._instance||(b._instance=new b);return b._instance};return b}(b);a.SoundEventManager=b;b.prototype.__class__="dragonBones.events.SoundEventManager"})(d.events||(d.events={}));var f=d.events;(function(c){var d=function(){function a(){this.timeScale=1;this.time=0.001*(new Date).getTime();this._animatableList=
[]}a.prototype.contains=function(a){return 0<=this._animatableList.indexOf(a)};a.prototype.add=function(a){a&&-1==this._animatableList.indexOf(a)&&this._animatableList.push(a)};a.prototype.remove=function(a){a=this._animatableList.indexOf(a);0<=a&&(this._animatableList[a]=null)};a.prototype.clear=function(){this._animatableList.length=0};a.prototype.advanceTime=function(a){if(0>a){var b=0.001*(new Date).getTime();a=b-this.time;this.time=b}a*=this.timeScale;b=this._animatableList.length;if(0!=b){for(var c=
0,d=0;d<b;d++){var e=this._animatableList[d];e&&(c!=d&&(this._animatableList[c]=e,this._animatableList[d]=null),e.advanceTime(a),c++)}if(c!=d){for(b=this._animatableList.length;d<b;)this._animatableList[c++]=this._animatableList[d++];this._animatableList.length=c}}};a.clock=new a;return a}();c.WorldClock=d;d.prototype.__class__="dragonBones.animation.WorldClock";var g=function(){function c(){this.transform=new b.DBTransform;this.pivot=new e.Point;this._durationTransform=new b.DBTransform;this._durationPivot=
new e.Point;this._durationColor=new e.ColorTransform}c._borrowObject=function(){return 0==c._pool.length?new c:c._pool.pop()};c._returnObject=function(a){0>c._pool.indexOf(a)&&(c._pool[c._pool.length]=a);a.clear()};c._clear=function(){for(var a=c._pool.length;a--;)c._pool[a].clear();c._pool.length=0};c.getEaseValue=function(a,b){if(1<b){var d=0.5*(1-Math.cos(a*Math.PI))-a;b-=1}else 0<b?d=Math.sin(a*c.HALF_PI)-a:0>b&&(d=1-Math.cos(a*c.HALF_PI)-a,b*=-1);return d*b+a};c.prototype.fadeIn=function(a,b,
c){this._bone=a;this._animationState=b;this._timeline=c;this._originTransform=this._timeline.originTransform;this._originPivot=this._timeline.originPivot;this._tweenColor=this._tweenTransform=!1;this._totalTime=this._animationState.totalTime;this.transform.x=0;this.transform.y=0;this.transform.scaleX=0;this.transform.scaleY=0;this.transform.skewX=0;this.transform.skewY=0;this.pivot.x=0;this.pivot.y=0;this._durationTransform.x=0;this._durationTransform.y=0;this._durationTransform.scaleX=0;this._durationTransform.scaleY=
0;this._durationTransform.skewX=0;this._durationTransform.skewY=0;this._durationPivot.x=0;this._durationPivot.y=0;this._currentFrame=null;switch(this._timeline.getFrameList().length){case 0:this._bone._arriveAtFrame(null,this,this._animationState,!1);this._updateState=0;break;case 1:this._updateState=-1;break;default:this._updateState=1}};c.prototype.fadeOut=function(){this.transform.skewX=a.TransformUtil.formatRadian(this.transform.skewX);this.transform.skewY=a.TransformUtil.formatRadian(this.transform.skewY)};
c.prototype.update=function(b){if(this._updateState)if(0<this._updateState){b=0==this._timeline.scale?1:b/this._timeline.scale;1==b&&(b=0.99999999);b+=this._timeline.offset;var d=Math.floor(b);b-=d;for(var e=this._totalTime*b,f=!1,g;!this._currentFrame||e>this._currentFramePosition+this._currentFrameDuration||e<this._currentFramePosition;)f&&this._bone._arriveAtFrame(this._currentFrame,this,this._animationState,!0),f=!0,this._currentFrame?(g=this._timeline.getFrameList().indexOf(this._currentFrame)+
1,g>=this._timeline.getFrameList().length&&(g=0),this._currentFrame=this._timeline.getFrameList()[g]):(g=0,this._currentFrame=this._timeline.getFrameList()[0]),this._currentFrameDuration=this._currentFrame.duration,this._currentFramePosition=this._currentFrame.position;f&&(this.tweenActive=0<=this._currentFrame.displayIndex,g++,g>=this._timeline.getFrameList().length&&(g=0),f=this._timeline.getFrameList()[g],0==g&&this._animationState.loop&&this._animationState.loopCount>=Math.abs(this._animationState.loop)-
1&&0.99999999<((this._currentFramePosition+this._currentFrameDuration)/this._totalTime+d-this._timeline.offset)*this._timeline.scale?(this._updateState=0,this._tweenEasing=NaN):0>this._currentFrame.displayIndex||0>f.displayIndex||!this._animationState.tweenEnabled?this._tweenEasing=NaN:isNaN(this._animationState.clip.tweenEasing)?this._tweenEasing=this._currentFrame.tweenEasing:this._tweenEasing=this._animationState.clip.tweenEasing,isNaN(this._tweenEasing)?this._tweenColor=this._tweenTransform=!1:
(this._durationTransform.x=f.transform.x-this._currentFrame.transform.x,this._durationTransform.y=f.transform.y-this._currentFrame.transform.y,this._durationTransform.skewX=f.transform.skewX-this._currentFrame.transform.skewX,this._durationTransform.skewY=f.transform.skewY-this._currentFrame.transform.skewY,this._durationTransform.scaleX=f.transform.scaleX-this._currentFrame.transform.scaleX,this._durationTransform.scaleY=f.transform.scaleY-this._currentFrame.transform.scaleY,0==g&&(this._durationTransform.skewX=
a.TransformUtil.formatRadian(this._durationTransform.skewX),this._durationTransform.skewY=a.TransformUtil.formatRadian(this._durationTransform.skewY)),this._durationPivot.x=f.pivot.x-this._currentFrame.pivot.x,this._durationPivot.y=f.pivot.y-this._currentFrame.pivot.y,this._tweenTransform=0!=this._durationTransform.x||0!=this._durationTransform.y||0!=this._durationTransform.skewX||0!=this._durationTransform.skewY||0!=this._durationTransform.scaleX||0!=this._durationTransform.scaleY||0!=this._durationPivot.x||
0!=this._durationPivot.y?!0:!1,this._currentFrame.color&&f.color?(this._durationColor.alphaOffset=f.color.alphaOffset-this._currentFrame.color.alphaOffset,this._durationColor.redOffset=f.color.redOffset-this._currentFrame.color.redOffset,this._durationColor.greenOffset=f.color.greenOffset-this._currentFrame.color.greenOffset,this._durationColor.blueOffset=f.color.blueOffset-this._currentFrame.color.blueOffset,this._durationColor.alphaMultiplier=f.color.alphaMultiplier-this._currentFrame.color.alphaMultiplier,
this._durationColor.redMultiplier=f.color.redMultiplier-this._currentFrame.color.redMultiplier,this._durationColor.greenMultiplier=f.color.greenMultiplier-this._currentFrame.color.greenMultiplier,this._durationColor.blueMultiplier=f.color.blueMultiplier-this._currentFrame.color.blueMultiplier,this._tweenColor=0!=this._durationColor.alphaOffset||0!=this._durationColor.redOffset||0!=this._durationColor.greenOffset||0!=this._durationColor.blueOffset||0!=this._durationColor.alphaMultiplier||0!=this._durationColor.redMultiplier||
0!=this._durationColor.greenMultiplier||0!=this._durationColor.blueMultiplier?!0:!1):this._currentFrame.color?(this._tweenColor=!0,this._durationColor.alphaOffset=-this._currentFrame.color.alphaOffset,this._durationColor.redOffset=-this._currentFrame.color.redOffset,this._durationColor.greenOffset=-this._currentFrame.color.greenOffset,this._durationColor.blueOffset=-this._currentFrame.color.blueOffset,this._durationColor.alphaMultiplier=1-this._currentFrame.color.alphaMultiplier,this._durationColor.redMultiplier=
1-this._currentFrame.color.redMultiplier,this._durationColor.greenMultiplier=1-this._currentFrame.color.greenMultiplier,this._durationColor.blueMultiplier=1-this._currentFrame.color.blueMultiplier):f.color?(this._tweenColor=!0,this._durationColor.alphaOffset=f.color.alphaOffset,this._durationColor.redOffset=f.color.redOffset,this._durationColor.greenOffset=f.color.greenOffset,this._durationColor.blueOffset=f.color.blueOffset,this._durationColor.alphaMultiplier=f.color.alphaMultiplier-1,this._durationColor.redMultiplier=
f.color.redMultiplier-1,this._durationColor.greenMultiplier=f.color.greenMultiplier-1,this._durationColor.blueMultiplier=f.color.blueMultiplier-1):this._tweenColor=!1),this._tweenTransform||(this._animationState.blend?(this.transform.x=this._originTransform.x+this._currentFrame.transform.x,this.transform.y=this._originTransform.y+this._currentFrame.transform.y,this.transform.skewX=this._originTransform.skewX+this._currentFrame.transform.skewX,this.transform.skewY=this._originTransform.skewY+this._currentFrame.transform.skewY,
this.transform.scaleX=this._originTransform.scaleX+this._currentFrame.transform.scaleX,this.transform.scaleY=this._originTransform.scaleY+this._currentFrame.transform.scaleY,this.pivot.x=this._originPivot.x+this._currentFrame.pivot.x,this.pivot.y=this._originPivot.y+this._currentFrame.pivot.y):(this.transform.x=this._currentFrame.transform.x,this.transform.y=this._currentFrame.transform.y,this.transform.skewX=this._currentFrame.transform.skewX,this.transform.skewY=this._currentFrame.transform.skewY,
this.transform.scaleX=this._currentFrame.transform.scaleX,this.transform.scaleY=this._currentFrame.transform.scaleY,this.pivot.x=this._currentFrame.pivot.x,this.pivot.y=this._currentFrame.pivot.y)),this._tweenColor||(this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset,this._currentFrame.color.redOffset,this._currentFrame.color.greenOffset,this._currentFrame.color.blueOffset,this._currentFrame.color.alphaMultiplier,this._currentFrame.color.redMultiplier,this._currentFrame.color.greenMultiplier,
this._currentFrame.color.blueMultiplier,!0):this._bone._isColorChanged&&this._bone._updateColor(0,0,0,0,1,1,1,1,!1)),this._bone._arriveAtFrame(this._currentFrame,this,this._animationState,!1));if(this._tweenTransform||this._tweenColor)b=(e-this._currentFramePosition)/this._currentFrameDuration,this._tweenEasing&&(b=c.getEaseValue(b,this._tweenEasing));this._tweenTransform&&(d=this._currentFrame.transform,e=this._currentFrame.pivot,this._animationState.blend?(this.transform.x=this._originTransform.x+
d.x+this._durationTransform.x*b,this.transform.y=this._originTransform.y+d.y+this._durationTransform.y*b,this.transform.skewX=this._originTransform.skewX+d.skewX+this._durationTransform.skewX*b,this.transform.skewY=this._originTransform.skewY+d.skewY+this._durationTransform.skewY*b,this.transform.scaleX=this._originTransform.scaleX+d.scaleX+this._durationTransform.scaleX*b,this.transform.scaleY=this._originTransform.scaleY+d.scaleY+this._durationTransform.scaleY*b,this.pivot.x=this._originPivot.x+
e.x+this._durationPivot.x*b,this.pivot.y=this._originPivot.y+e.y+this._durationPivot.y*b):(this.transform.x=d.x+this._durationTransform.x*b,this.transform.y=d.y+this._durationTransform.y*b,this.transform.skewX=d.skewX+this._durationTransform.skewX*b,this.transform.skewY=d.skewY+this._durationTransform.skewY*b,this.transform.scaleX=d.scaleX+this._durationTransform.scaleX*b,this.transform.scaleY=d.scaleY+this._durationTransform.scaleY*b,this.pivot.x=e.x+this._durationPivot.x*b,this.pivot.y=e.y+this._durationPivot.y*
b));this._tweenColor&&(this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset+this._durationColor.alphaOffset*b,this._currentFrame.color.redOffset+this._durationColor.redOffset*b,this._currentFrame.color.greenOffset+this._durationColor.greenOffset*b,this._currentFrame.color.blueOffset+this._durationColor.blueOffset*b,this._currentFrame.color.alphaMultiplier+this._durationColor.alphaMultiplier*b,this._currentFrame.color.redMultiplier+this._durationColor.redMultiplier*
b,this._currentFrame.color.greenMultiplier+this._durationColor.greenMultiplier*b,this._currentFrame.color.blueMultiplier+this._durationColor.blueMultiplier*b,!0):this._bone._updateColor(this._durationColor.alphaOffset*b,this._durationColor.redOffset*b,this._durationColor.greenOffset*b,this._durationColor.blueOffset*b,1+this._durationColor.alphaMultiplier*b,1+this._durationColor.redMultiplier*b,1+this._durationColor.greenMultiplier*b,1+this._durationColor.blueMultiplier*b,!0))}else this._updateState=
0,this._animationState.blend?(this.transform.copy(this._originTransform),this.pivot.x=this._originPivot.x,this.pivot.y=this._originPivot.y):(this.transform.x=this.transform.y=this.transform.skewX=this.transform.skewY=this.transform.scaleX=this.transform.scaleY=0,this.pivot.x=0,this.pivot.y=0),this._currentFrame=this._timeline.getFrameList()[0],this.tweenActive=0<=this._currentFrame.displayIndex,this._currentFrame.color?this._bone._updateColor(this._currentFrame.color.alphaOffset,this._currentFrame.color.redOffset,
this._currentFrame.color.greenOffset,this._currentFrame.color.blueOffset,this._currentFrame.color.alphaMultiplier,this._currentFrame.color.redMultiplier,this._currentFrame.color.greenMultiplier,this._currentFrame.color.blueMultiplier,!0):this._bone._updateColor(0,0,0,0,1,1,1,1,!1),this._bone._arriveAtFrame(this._currentFrame,this,this._animationState,!1)};c.prototype.clear=function(){this._updateState=0;this._originPivot=this._originTransform=this._currentFrame=this._timeline=this._animationState=
this._bone=null};c.HALF_PI=0.5*Math.PI;c._pool=[];return c}();c.TimelineState=g;g.prototype.__class__="dragonBones.animation.TimelineState";var k=function(){function a(){this.layer=this.loop=0;this._timelineStates={}}a._borrowObject=function(){return 0==a._pool.length?new a:a._pool.pop()};a._returnObject=function(b){0>a._pool.indexOf(b)&&(a._pool[a._pool.length]=b);b.clear()};a._clear=function(){for(var b=a._pool.length;b--;)a._pool[b].clear();a._pool.length=0};a.prototype.fadeIn=function(a,b,c,d,
e,f,g,k){this.layer=f;this.clip=b;this.name=this.clip.name;this.totalTime=this.clip.duration;this._armature=a;2>Math.round(this.clip.duration*this.clip.frameRate)||Infinity==d?(this.timeScale=1,this.currentTime=this.totalTime,this.loop=0<=this.loop?1:-1):(this.timeScale=d,this.currentTime=0,this.loop=e);this._pauseBeforeFadeInComplete=k;this._fadeInTime=c*this.timeScale;this._fadeState=1;this._fadeOutBeginTime=0;this._fadeOutWeight=-1;this._fadeWeight=0;this._fadeIn=!0;this._fadeOut=!1;this.loopCount=
-1;this.displayControl=g;this.isPlaying=!0;this.isComplete=!1;this.weight=1;this.tweenEnabled=this.enabled=this.blend=!0;this.updateTimelineStates()};a.prototype.fadeOut=function(a,b){"undefined"===typeof b&&(b=!1);if(this._armature&&!(0<=this._fadeOutWeight)){this._fadeState=-1;this._fadeOutWeight=this._fadeWeight;this._fadeOutTime=a*this.timeScale;this._fadeOutBeginTime=this.currentTime;this._fadeOut=!0;this.isPlaying=!b;this.displayControl=!1;for(var c in this._timelineStates)this._timelineStates[c].fadeOut();
this.enabled=!0}};a.prototype.play=function(){this.isPlaying=!0};a.prototype.stop=function(){this.isPlaying=!1};a.prototype.getMixingTransform=function(a){return this._mixingTransforms?Number(this._mixingTransforms[a]):-1};a.prototype.addMixingTransform=function(a,b,c){"undefined"===typeof b&&(b=2);"undefined"===typeof c&&(c=!0);if(this.clip&&this.clip.getTimeline(a)){this._mixingTransforms||(this._mixingTransforms={});if(c){c=this._armature._boneList.length;for(var d,e;c--;)d=this._armature._boneList[c],
d.name==a&&(e=d),e&&(e==d||e.contains(d))&&(this._mixingTransforms[d.name]=b)}else this._mixingTransforms[a]=b;this.updateTimelineStates()}else throw Error();};a.prototype.removeMixingTransform=function(a,b){"undefined"===typeof a&&(a=null);"undefined"===typeof b&&(b=!0);if(a){if(b)for(var c=this._armature._boneList.length,d,e;c--;)d=this._armature._boneList[c],d.name==a&&(e=d),e&&(e==d||e.contains(d))&&delete this._mixingTransforms[d.name];else delete this._mixingTransforms[a];for(var f in this._mixingTransforms){var g=
!0;break}g||(this._mixingTransforms=null)}else this._mixingTransforms=null;this.updateTimelineStates()};a.prototype.advanceTime=function(a){if(!this.enabled)return!1;var b,c;this._fadeIn&&(this._fadeIn=!1,this._armature.hasEventListener(f.AnimationEvent.FADE_IN)&&(b=new f.AnimationEvent(f.AnimationEvent.FADE_IN),b.animationState=this,this._armature._eventList.push(b)));this._fadeOut&&(this._fadeOut=!1,this._armature.hasEventListener(f.AnimationEvent.FADE_OUT)&&(b=new f.AnimationEvent(f.AnimationEvent.FADE_OUT),
b.animationState=this,this._armature._eventList.push(b)));this.currentTime+=a*this.timeScale;if(this.isPlaying&&!this.isComplete){var d;if(this._pauseBeforeFadeInComplete)this.isPlaying=this._pauseBeforeFadeInComplete=!1,a=0,d=Math.floor(a);else if(a=this.currentTime/this.totalTime,d=Math.floor(a),d!=this.loopCount&&(-1==this.loopCount&&this._armature.hasEventListener(f.AnimationEvent.START)&&(b=new f.AnimationEvent(f.AnimationEvent.START),b.animationState=this,this._armature._eventList.push(b)),
this.loopCount=d))this.loop&&this.loopCount*this.loopCount>=this.loop*this.loop-1?(c=!0,a=1,d=0,this._armature.hasEventListener(f.AnimationEvent.COMPLETE)&&(b=new f.AnimationEvent(f.AnimationEvent.COMPLETE),b.animationState=this,this._armature._eventList.push(b))):this._armature.hasEventListener(f.AnimationEvent.LOOP_COMPLETE)&&(b=new f.AnimationEvent(f.AnimationEvent.LOOP_COMPLETE),b.animationState=this,this._armature._eventList.push(b));for(var e in this._timelineStates)this._timelineStates[e].update(a);
b=this.clip.getFrameList();if(0<b.length){a=this.totalTime*(a-d);for(d=!1;!this._currentFrame||a>this._currentFrame.position+this._currentFrame.duration||a<this._currentFrame.position;)d&&this._armature._arriveAtFrame(this._currentFrame,null,this,!0),d=!0,this._currentFrame?(e=b.indexOf(this._currentFrame),e++,e>=b.length&&(e=0),this._currentFrame=b[e]):this._currentFrame=b[0];d&&this._armature._arriveAtFrame(this._currentFrame,null,this,!1)}}if(0<this._fadeState)0==this._fadeInTime?(this._fadeWeight=
1,this._fadeState=0,this.isPlaying=!0,this._armature.hasEventListener(f.AnimationEvent.FADE_IN_COMPLETE)&&(b=new f.AnimationEvent(f.AnimationEvent.FADE_IN_COMPLETE),b.animationState=this,this._armature._eventList.push(b))):(this._fadeWeight=this.currentTime/this._fadeInTime,1<=this._fadeWeight&&(this._fadeWeight=1,this._fadeState=0,this.isPlaying||(this.currentTime-=this._fadeInTime),this.isPlaying=!0,this._armature.hasEventListener(f.AnimationEvent.FADE_IN_COMPLETE)&&(b=new f.AnimationEvent(f.AnimationEvent.FADE_IN_COMPLETE),
b.animationState=this,this._armature._eventList.push(b))));else if(0>this._fadeState){if(0==this._fadeOutTime)return this._fadeState=this._fadeWeight=0,this._armature.hasEventListener(f.AnimationEvent.FADE_OUT_COMPLETE)&&(b=new f.AnimationEvent(f.AnimationEvent.FADE_OUT_COMPLETE),b.animationState=this,this._armature._eventList.push(b)),!0;this._fadeWeight=(1-(this.currentTime-this._fadeOutBeginTime)/this._fadeOutTime)*this._fadeOutWeight;if(0>=this._fadeWeight)return this._fadeState=this._fadeWeight=
0,this._armature.hasEventListener(f.AnimationEvent.FADE_OUT_COMPLETE)&&(b=new f.AnimationEvent(f.AnimationEvent.FADE_OUT_COMPLETE),b.animationState=this,this._armature._eventList.push(b)),!0}c&&(this.isComplete=!0,0>this.loop&&this.fadeOut((this._fadeOutWeight||this._fadeInTime)/this.timeScale,!0));return!1};a.prototype.updateTimelineStates=function(){if(this._mixingTransforms){for(var a in this._timelineStates)null==this._mixingTransforms[a]&&this.removeTimelineState(a);for(a in this._mixingTransforms)this._timelineStates[a]||
this.addTimelineState(a)}else for(a in this.clip.getTimelines())this._timelineStates[a]||this.addTimelineState(a)};a.prototype.addTimelineState=function(a){var b=this._armature.getBone(a);if(b){var c=g._borrowObject(),d=this.clip.getTimeline(a);c.fadeIn(b,this,d);this._timelineStates[a]=c}};a.prototype.removeTimelineState=function(a){g._returnObject(this._timelineStates[a]);delete this._timelineStates[a]};a.prototype.clear=function(){this.clip=null;this.enabled=!1;this._mixingTransforms=this._currentFrame=
this._armature=null;for(var a in this._timelineStates)this.removeTimelineState(a)};a._pool=[];return a}();c.AnimationState=k;k.prototype.__class__="dragonBones.animation.AnimationState";d=function(){function a(b){this._armature=b;this._animationLayer=[];this._isPlaying=!1;this.animationNameList=[];this.tweenEnabled=!0;this.timeScale=1}a.prototype.getLastAnimationName=function(){return this._lastAnimationState?this._lastAnimationState.name:null};a.prototype.getLastAnimationState=function(){return this._lastAnimationState};
a.prototype.getAnimationDataList=function(){return this._animationDataList};a.prototype.setAnimationDataList=function(a){this._animationDataList=a;this.animationNameList.length=0;for(var b in this._animationDataList)this.animationNameList[this.animationNameList.length]=this._animationDataList[b].name};a.prototype.getIsPlaying=function(){return this._isPlaying&&!this.getIsComplete()};a.prototype.getIsComplete=function(){if(this._lastAnimationState){if(!this._lastAnimationState.isComplete)return!1;
for(var a=this._animationLayer.length;a--;)for(var b=this._animationLayer[a],c=b.length;c--;)if(!b[c].isComplete)return!1;return!0}return!1};a.prototype.dispose=function(){if(this._armature){this.stop();for(var a=this._animationLayer.length;a--;){for(var b=this._animationLayer[a],c=b.length;c--;)k._returnObject(b[c]);b.length=0}this._animationLayer.length=0;this.animationNameList.length=0;this.animationNameList=this._animationDataList=this._animationLayer=this._armature=null}};a.prototype.gotoAndPlay=
function(b,c,d,e,f,g,h,q,n,m){"undefined"===typeof c&&(c=-1);"undefined"===typeof d&&(d=-1);"undefined"===typeof e&&(e=NaN);"undefined"===typeof f&&(f=0);"undefined"===typeof g&&(g=null);"undefined"===typeof h&&(h=a.SAME_LAYER_AND_GROUP);"undefined"===typeof q&&(q=!0);"undefined"===typeof n&&(n=!0);"undefined"===typeof m&&(m=!0);if(!this._animationDataList)return null;for(var l=this._animationDataList.length,B;l--;)if(this._animationDataList[l].name==b){B=this._animationDataList[l];break}if(!B)return null;
this._isPlaying=!0;c=0>c?0>B.fadeInTime?0.3:B.fadeInTime:c;d=0>d?0>B.scale?1:B.scale:d/B.duration;e=isNaN(e)?B.loop:e;f=this.addLayer(f);var v;switch(h){case a.NONE:break;case a.SAME_LAYER:v=this._animationLayer[f];for(l=v.length;l--;)h=v[l],h.fadeOut(c,n);break;case a.SAME_GROUP:for(G=this._animationLayer.length;G--;)for(v=this._animationLayer[G],l=v.length;l--;)h=v[l],h.group==g&&h.fadeOut(c,n);break;case a.ALL:for(var G=this._animationLayer.length;G--;)for(v=this._animationLayer[G],l=v.length;l--;)h=
v[l],h.fadeOut(c,n);break;default:for(v=this._animationLayer[f],l=v.length;l--;)h=v[l],h.group==g&&h.fadeOut(c,n)}this._lastAnimationState=k._borrowObject();this._lastAnimationState.group=g;this._lastAnimationState.tweenEnabled=this.tweenEnabled;this._lastAnimationState.fadeIn(this._armature,B,c,1/d,e,f,q,m);this.addState(this._lastAnimationState);e=this._armature._slotList;for(l=e.length;l--;)f=e[l],(f=f.getChildArmature())&&f.animation.gotoAndPlay(b,c);return this._lastAnimationState};a.prototype.play=
function(){this._animationDataList&&0!=this._animationDataList.length&&(this._lastAnimationState?this._isPlaying?this.gotoAndPlay(this._lastAnimationState.name):this._isPlaying=!0:this.gotoAndPlay(this._animationDataList[0].name))};a.prototype.stop=function(){this._isPlaying=!1};a.prototype.getState=function(a,b){"undefined"===typeof b&&(b=0);var c=this._animationLayer.length;if(0==c)return null;b>=c&&(b=c-1);c=this._animationLayer[b];if(!c)return null;for(var d=c.length;d--;)if(c[d].name==a)return c[d];
return null};a.prototype.hasAnimation=function(a){for(var b=this._animationDataList.length;b--;)if(this._animationDataList[b].name==a)return!0;return!1};a.prototype.advanceTime=function(a){if(this._isPlaying){a*=this.timeScale;var b=this._armature._boneList.length,c,d,e=b,f,g,k,h,n,q,m,l,s,r,I,H,K,M,L,R,O;for(b--;e--;){g=this._armature._boneList[e];k=g.name;h=1;H=I=r=s=l=m=q=n=0;for(c=this._animationLayer.length;c--;){K=0;M=this._animationLayer[c];f=M.length;for(d=0;d<f;d++)L=M[d],e==b&&L.advanceTime(a)?
(this.removeState(L),d--,f--):(R=L._timelineStates[k])&&R.tweenActive&&(L=L._fadeWeight*L.weight*h,O=R.transform,R=R.pivot,n+=O.x*L,q+=O.y*L,m+=O.skewX*L,l+=O.skewY*L,s+=O.scaleX*L,r+=O.scaleY*L,I+=R.x*L,H+=R.y*L,K+=L);if(K>=h)break;else h-=K}O=g.tween;R=g._tweenPivot;O.x=n;O.y=q;O.skewX=m;O.skewY=l;O.scaleX=s;O.scaleY=r;R.x=I;R.y=H}}};a.prototype.addLayer=function(a){a>=this._animationLayer.length&&(a=this._animationLayer.length,this._animationLayer[a]=[]);return a};a.prototype.addState=function(a){this._animationLayer[a.layer].push(a)};
a.prototype.removeState=function(a){var b=a.layer,c=this._animationLayer[b];c.splice(c.indexOf(a),1);k._returnObject(a);0==c.length&&b==this._animationLayer.length-1&&this._animationLayer.length--};a.NONE="none";a.SAME_LAYER="sameLayer";a.SAME_GROUP="sameGroup";a.SAME_LAYER_AND_GROUP="sameLayerAndGroup";a.ALL="all";return a}();c.Animation=d;d.prototype.__class__="dragonBones.animation.Animation"})(d.animation||(d.animation={}));var c=d.animation;(function(b){var c=function(){function a(){this.skewY=
this.skewX=this.y=this.x=0;this.scaleY=this.scaleX=1}a.prototype.getRotation=function(){return this.skewX};a.prototype.setRotation=function(a){this.skewX=this.skewY=a};a.prototype.copy=function(a){this.x=a.x;this.y=a.y;this.skewX=a.skewX;this.skewY=a.skewY;this.scaleX=a.scaleX;this.scaleY=a.scaleY};a.prototype.toString=function(){return"[DBTransform (x="+this.x+" y="+this.y+" skewX="+this.skewX+" skewY="+this.skewY+" scaleX="+this.scaleX+" scaleY="+this.scaleY+")]"};return a}();b.DBTransform=c;c.prototype.__class__=
"dragonBones.objects.DBTransform";var d=function(){function a(){this.duration=this.position=0}a.prototype.dispose=function(){};return a}();b.Frame=d;d.prototype.__class__="dragonBones.objects.Frame";var f=function(a){function b(){a.call(this);this.displayIndex=this.tweenRotate=this.tweenEasing=0;this.zOrder=NaN;this.visible=!0;this.global=new c;this.transform=new c;this.pivot=new e.Point}__extends(b,a);b.prototype.dispose=function(){a.prototype.dispose.call(this);this.color=this.pivot=this.transform=
this.global=null};return b}(d);b.TransformFrame=f;f.prototype.__class__="dragonBones.objects.TransformFrame";var g=function(){function a(){this._frameList=[];this.duration=0;this.scale=1}a.prototype.getFrameList=function(){return this._frameList};a.prototype.dispose=function(){for(var a=this._frameList.length;a--;)this._frameList[a].dispose();this._frameList.length=0;this._frameList=null};a.prototype.addFrame=function(a){if(!a)throw Error();if(0>this._frameList.indexOf(a))this._frameList[this._frameList.length]=
a;else throw Error();};return a}();b.Timeline=g;g.prototype.__class__="dragonBones.objects.Timeline";var k=function(a){function b(){a.call(this);this.originTransform=new c;this.originPivot=new e.Point;this.offset=0;this.transformed=!1}__extends(b,a);b.prototype.dispose=function(){this!=b.HIDE_TIMELINE&&(a.prototype.dispose.call(this),this.originPivot=this.originTransform=null)};b.HIDE_TIMELINE=new b;return b}(g);b.TransformTimeline=k;k.prototype.__class__="dragonBones.objects.TransformTimeline";var n=
function(a){function b(){a.call(this);this.loop=this.frameRate=0;this.tweenEasing=NaN;this.fadeInTime=0;this._timelines={}}__extends(b,a);b.prototype.getTimelines=function(){return this._timelines};b.prototype.dispose=function(){a.prototype.dispose.call(this);for(var b in this._timelines)this._timelines[b].dispose();this._timelines=null};b.prototype.getTimeline=function(a){return this._timelines[a]};b.prototype.addTimeline=function(a,b){if(!a)throw Error();this._timelines[b]=a};return b}(g);b.AnimationData=
n;n.prototype.__class__="dragonBones.objects.AnimationData";var l=function(){function a(){this.transform=new c}a.prototype.dispose=function(){this.pivot=this.transform=null};a.ARMATURE="armature";a.IMAGE="image";return a}();b.DisplayData=l;l.prototype.__class__="dragonBones.objects.DisplayData";var A=function(){function a(){this._displayDataList=[];this.zOrder=0;this.blendMode="normal"}a.prototype.getDisplayDataList=function(){return this._displayDataList};a.prototype.dispose=function(){for(var a=
this._displayDataList.length;a--;)this._displayDataList[a].dispose();this._displayDataList.length=0;this._displayDataList=null};a.prototype.addDisplayData=function(a){if(!a)throw Error();if(0>this._displayDataList.indexOf(a))this._displayDataList[this._displayDataList.length]=a;else throw Error();};a.prototype.getDisplayData=function(a){for(var b=this._displayDataList.length;b--;)if(this._displayDataList[b].name==a)return this._displayDataList[b];return null};return a}();b.SlotData=A;A.prototype.__class__=
"dragonBones.objects.SlotData";var y=function(){function a(){this.length=0;this.global=new c;this.transform=new c;this.scaleMode=1;this.fixedRotation=!1}a.prototype.dispose=function(){this.transform=this.global=null};return a}();b.BoneData=y;y.prototype.__class__="dragonBones.objects.BoneData";var C=function(){function a(){this._slotDataList=[]}a.prototype.getSlotDataList=function(){return this._slotDataList};a.prototype.dispose=function(){for(var a=this._slotDataList.length;a--;)this._slotDataList[a].dispose();
this._slotDataList.length=0;this._slotDataList=null};a.prototype.getSlotData=function(a){for(var b=this._slotDataList.length;b--;)if(this._slotDataList[b].name==a)return this._slotDataList[b];return null};a.prototype.addSlotData=function(a){if(!a)throw Error();if(0>this._slotDataList.indexOf(a))this._slotDataList[this._slotDataList.length]=a;else throw Error();};return a}();b.SkinData=C;C.prototype.__class__="dragonBones.objects.SkinData";var w=function(){function a(){this._boneDataList=[];this._skinDataList=
[];this._animationDataList=[]}a.prototype.getBoneDataList=function(){return this._boneDataList};a.prototype.getSkinDataList=function(){return this._skinDataList};a.prototype.getAnimationDataList=function(){return this._animationDataList};a.prototype.dispose=function(){for(var a=this._boneDataList.length;a--;)this._boneDataList[a].dispose();for(a=this._skinDataList.length;a--;)this._skinDataList[a].dispose();for(a=this._animationDataList.length;a--;)this._animationDataList[a].dispose();this._boneDataList.length=
0;this._skinDataList.length=0;this._animationDataList.length=0;this._animationDataList=this._skinDataList=this._boneDataList=null};a.prototype.getBoneData=function(a){for(var b=this._boneDataList.length;b--;)if(this._boneDataList[b].name==a)return this._boneDataList[b];return null};a.prototype.getSkinData=function(a){if(!a)return this._skinDataList[0];for(var b=this._skinDataList.length;b--;)if(this._skinDataList[b].name==a)return this._skinDataList[b];return null};a.prototype.getAnimationData=function(a){for(var b=
this._animationDataList.length;b--;)if(this._animationDataList[b].name==a)return this._animationDataList[b];return null};a.prototype.addBoneData=function(a){if(!a)throw Error();if(0>this._boneDataList.indexOf(a))this._boneDataList[this._boneDataList.length]=a;else throw Error();};a.prototype.addSkinData=function(a){if(!a)throw Error();if(0>this._skinDataList.indexOf(a))this._skinDataList[this._skinDataList.length]=a;else throw Error();};a.prototype.addAnimationData=function(a){if(!a)throw Error();
0>this._animationDataList.indexOf(a)&&(this._animationDataList[this._animationDataList.length]=a)};a.prototype.sortBoneDataList=function(){var a=this._boneDataList.length;if(0!=a){for(var b=[];a--;){for(var c=this._boneDataList[a],d=0,e=c;e&&e.parent;)d++,e=this.getBoneData(e.parent);b[a]={level:d,boneData:c}}b.sort(this.sortBoneData);for(a=b.length;a--;)this._boneDataList[a]=b[a].boneData}};a.prototype.sortBoneData=function(a,b){return a.level>b.level?1:-1};return a}();b.ArmatureData=w;w.prototype.__class__=
"dragonBones.objects.ArmatureData";var E=function(){function a(){this._armatureDataList=[];this._subTexturePivots={}}a.prototype.getArmatureNames=function(){var a=[],b;for(b in this._armatureDataList)a[a.length]=this._armatureDataList[b].name;return a};a.prototype.getArmatureDataList=function(){return this._armatureDataList};a.prototype.dispose=function(){for(var a in this._armatureDataList)this._armatureDataList[a].dispose();this._armatureDataList.length=0;this._subTexturePivots=this._armatureDataList=
null};a.prototype.getArmatureData=function(a){for(var b=this._armatureDataList.length;b--;)if(this._armatureDataList[b].name==a)return this._armatureDataList[b];return null};a.prototype.addArmatureData=function(a){if(!a)throw Error();if(0>this._armatureDataList.indexOf(a))this._armatureDataList[this._armatureDataList.length]=a;else throw Error();};a.prototype.removeArmatureData=function(a){a=this._armatureDataList.indexOf(a);0<=a&&this._armatureDataList.splice(a,1)};a.prototype.removeArmatureDataByName=
function(a){for(var b=this._armatureDataList.length;b--;)this._armatureDataList[b].name==a&&this._armatureDataList.splice(b,1)};a.prototype.getSubTexturePivot=function(a){return this._subTexturePivots[a]};a.prototype.addSubTexturePivot=function(a,b,c){var d=this._subTexturePivots[c];d?(d.x=a,d.y=b):this._subTexturePivots[c]=d=new e.Point(a,b);return d};a.prototype.removeSubTexturePivot=function(a){if(a)delete this._subTexturePivots[a];else for(a in this._subTexturePivots)delete this._subTexturePivots[a]};
return a}();b.SkeletonData=E;E.prototype.__class__="dragonBones.objects.SkeletonData";g=function(){function b(){}b.parseTextureAtlasData=function(b,c){"undefined"===typeof c&&(c=1);if(!b)throw Error();var d={};d.__name=b[a.ConstValues.A_NAME];var f=b[a.ConstValues.SUB_TEXTURE],g;for(g in f){var k=f[g],h=k[a.ConstValues.A_NAME],k=new e.Rectangle(Number(k[a.ConstValues.A_X])/c,Number(k[a.ConstValues.A_Y])/c,Number(k[a.ConstValues.A_WIDTH])/c,Number(k[a.ConstValues.A_HEIGHT])/c);d[h]=k}return d};b.parseSkeletonData=
function(c){if(!c)throw Error();var d=Number(c[a.ConstValues.A_FRAME_RATE]),e=new E;e.name=c[a.ConstValues.A_NAME];c=c[a.ConstValues.ARMATURE];for(var f in c)e.addArmatureData(b.parseArmatureData(c[f],e,d));return e};b.parseArmatureData=function(c,d,e){var f=new w;f.name=c[a.ConstValues.A_NAME];var g=c[a.ConstValues.BONE],k;for(k in g)f.addBoneData(b.parseBoneData(g[k]));g=c[a.ConstValues.SKIN];for(k in g)f.addSkinData(b.parseSkinData(g[k],d));a.DBDataUtil.transformArmatureData(f);f.sortBoneDataList();
c=c[a.ConstValues.ANIMATION];for(k in c)f.addAnimationData(b.parseAnimationData(c[k],f,e));return f};b.parseBoneData=function(c){var d=new y;d.name=c[a.ConstValues.A_NAME];d.parent=c[a.ConstValues.A_PARENT];d.length=Number(c[a.ConstValues.A_LENGTH])||0;var e=Number(c[a.ConstValues.A_SCALE_MODE]);!isNaN(e)&&e&&(d.scaleMode=e);if(e=c[a.ConstValues.A_FIXED_ROTATION])d.fixedRotation=e;b.parseTransform(c[a.ConstValues.TRANSFORM],d.global);d.transform.copy(d.global);return d};b.parseSkinData=function(c,
d){var e=new C;e.name=c[a.ConstValues.A_NAME];var f=c[a.ConstValues.SLOT],g;for(g in f)e.addSlotData(b.parseSlotData(f[g],d));return e};b.parseSlotData=function(c,d){var e=new A;e.name=c[a.ConstValues.A_NAME];e.parent=c[a.ConstValues.A_PARENT];e.zOrder=Number(c[a.ConstValues.A_Z_ORDER]);e.blendMode=c[a.ConstValues.A_BLENDMODE];e.blendMode||(e.blendMode="normal");var f=c[a.ConstValues.DISPLAY],g;for(g in f)e.addDisplayData(b.parseDisplayData(f[g],d));return e};b.parseDisplayData=function(c,d){var e=
new l;e.name=c[a.ConstValues.A_NAME];e.type=c[a.ConstValues.A_TYPE];e.pivot=d.addSubTexturePivot(0,0,e.name);b.parseTransform(c[a.ConstValues.TRANSFORM],e.transform,e.pivot);return e};b.parseAnimationData=function(c,d,e){var f=new n;f.name=c[a.ConstValues.A_NAME];f.frameRate=e;f.loop=Number(c[a.ConstValues.A_LOOP])||0;f.fadeInTime=Number(c[a.ConstValues.A_FADE_IN_TIME]);f.duration=Number(c[a.ConstValues.A_DURATION])/e;f.scale=Number(c[a.ConstValues.A_SCALE]);if(c.hasOwnProperty(a.ConstValues.A_TWEEN_EASING)){var g=
c[a.ConstValues.A_TWEEN_EASING];f.tweenEasing=void 0==g||null==g?NaN:Number(g)}else f.tweenEasing=NaN;b.parseTimeline(c,f,b.parseMainFrame,e);var k,g=c[a.ConstValues.TIMELINE],h;for(h in g)k=g[h],c=b.parseTransformTimeline(k,f.duration,e),k=k[a.ConstValues.A_NAME],f.addTimeline(c,k);a.DBDataUtil.addHideTimeline(f,d);a.DBDataUtil.transformAnimationData(f,d);return f};b.parseTimeline=function(b,c,d,e){var f=0,g;b=b[a.ConstValues.FRAME];for(var k in b)g=d(b[k],e),g.position=f,c.addFrame(g),f+=g.duration;
g&&(g.duration=c.duration-g.position)};b.parseTransformTimeline=function(c,d,e){var f=new k;f.duration=d;b.parseTimeline(c,f,b.parseTransformFrame,e);f.scale=Number(c[a.ConstValues.A_SCALE]);f.offset=Number(c[a.ConstValues.A_OFFSET]);return f};b.parseFrame=function(b,c,d){c.duration=Number(b[a.ConstValues.A_DURATION])/d;c.action=b[a.ConstValues.A_ACTION];c.event=b[a.ConstValues.A_EVENT];c.sound=b[a.ConstValues.A_SOUND]};b.parseMainFrame=function(a,c){var e=new d;b.parseFrame(a,e,c);return e};b.parseTransformFrame=
function(c,d){var g=new f;b.parseFrame(c,g,d);g.visible=1!=Number(c[a.ConstValues.A_HIDE]);if(c.hasOwnProperty(a.ConstValues.A_TWEEN_EASING)){var k=c[a.ConstValues.A_TWEEN_EASING];g.tweenEasing=void 0==k||null==k?NaN:Number(k)}else g.tweenEasing=0;g.tweenRotate=Number(c[a.ConstValues.A_TWEEN_ROTATE])||0;g.displayIndex=Number(c[a.ConstValues.A_DISPLAY_INDEX])||0;g.zOrder=Number(c[a.ConstValues.A_Z_ORDER])||0;b.parseTransform(c[a.ConstValues.TRANSFORM],g.global,g.pivot);g.transform.copy(g.global);if(k=
c[a.ConstValues.COLOR_TRANSFORM])g.color=new e.ColorTransform,g.color.alphaOffset=Number(k[a.ConstValues.A_ALPHA_OFFSET]),g.color.redOffset=Number(k[a.ConstValues.A_RED_OFFSET]),g.color.greenOffset=Number(k[a.ConstValues.A_GREEN_OFFSET]),g.color.blueOffset=Number(k[a.ConstValues.A_BLUE_OFFSET]),g.color.alphaMultiplier=0.01*Number(k[a.ConstValues.A_ALPHA_MULTIPLIER]),g.color.redMultiplier=0.01*Number(k[a.ConstValues.A_RED_MULTIPLIER]),g.color.greenMultiplier=0.01*Number(k[a.ConstValues.A_GREEN_MULTIPLIER]),
g.color.blueMultiplier=0.01*Number(k[a.ConstValues.A_BLUE_MULTIPLIER]);return g};b.parseTransform=function(b,c,d){"undefined"===typeof d&&(d=null);b&&(c&&(c.x=Number(b[a.ConstValues.A_X]),c.y=Number(b[a.ConstValues.A_Y]),c.skewX=Number(b[a.ConstValues.A_SKEW_X])*a.ConstValues.ANGLE_TO_RADIAN,c.skewY=Number(b[a.ConstValues.A_SKEW_Y])*a.ConstValues.ANGLE_TO_RADIAN,c.scaleX=Number(b[a.ConstValues.A_SCALE_X]),c.scaleY=Number(b[a.ConstValues.A_SCALE_Y])),d&&(d.x=Number(b[a.ConstValues.A_PIVOT_X]),d.y=
Number(b[a.ConstValues.A_PIVOT_Y])))};return b}();b.DataParser=g;g.prototype.__class__="dragonBones.objects.DataParser"})(d.objects||(d.objects={}));var b=d.objects;(function(a){var c=function(a){function c(){a.call(this);this._dataDic={};this._textureAtlasDic={};this._textureAtlasLoadingDic={}}__extends(c,a);c.prototype.getSkeletonData=function(a){return this._dataDic[a]};c.prototype.addSkeletonData=function(a,b){"undefined"===typeof b&&(b=null);if(!a)throw Error();b=b||a.name;if(!b)throw Error("Unnamed data!");
this._dataDic[b]=a};c.prototype.removeSkeletonData=function(a){delete this._dataDic[a]};c.prototype.getTextureAtlas=function(a){return this._textureAtlasDic[a]};c.prototype.addTextureAtlas=function(a,b){"undefined"===typeof b&&(b=null);if(!a)throw Error();b=b||a.name;if(!b)throw Error("Unnamed data!");this._textureAtlasDic[b]=a};c.prototype.removeTextureAtlas=function(a){delete this._textureAtlasDic[a]};c.prototype.dispose=function(a){"undefined"===typeof a&&(a=!0);if(a){for(var b in this._dataDic)this._dataDic[b].dispose();
for(b in this._textureAtlasDic)this._textureAtlasDic[b].dispose()}this._currentTextureAtlasName=this._currentDataName=this._textureAtlasLoadingDic=this._textureAtlasDic=this._dataDic=null};c.prototype.buildArmature=function(a,c,d,e,f){if(d){var g=this._dataDic[d];if(g)var k=g.getArmatureData(a)}else for(d in this._dataDic)if(g=this._dataDic[d],k=g.getArmatureData(a))break;if(!k)return null;this._currentDataName=d;this._currentTextureAtlasName=e||d;e=this._generateArmature();e.name=a;var h,q,m=k.getBoneDataList(),
l;for(l in m)q=m[l],h=new n,h.name=q.name,h.fixedRotation=q.fixedRotation,h.scaleMode=q.scaleMode,h.origin.copy(q.transform),k.getBoneData(q.parent)?e.addChild(h,q.parent):e.addChild(h,null);if(c&&c!=a){var s=g.getArmatureData(c);if(!s)for(d in this._dataDic)if(g=this._dataDic[d],s=g.getArmatureData(c))break}s?e.animation.setAnimationDataList(s.getAnimationDataList()):e.animation.setAnimationDataList(k.getAnimationDataList());h=k.getSkinData(f);if(!h)throw Error();a=[];d=h.getSlotDataList();for(l in d)if(g=
d[l],h=e.getBone(g.parent)){f=g.getDisplayDataList();c=this._generateSlot();c.name=g.name;c._blendMode=g.blendMode;c._originZOrder=g.zOrder;c._dislayDataList=f;a.length=0;for(g=f.length;g--;)switch(k=f[g],k.type){case b.DisplayData.ARMATURE:(k=this.buildArmature(k.name,null,this._currentDataName,this._currentTextureAtlasName,null))&&(a[g]=k);break;default:a[g]=this._generateDisplay(this._textureAtlasDic[this._currentTextureAtlasName],k.name,k.pivot.x,k.pivot.y)}c.setDisplayList(a);c._changeDisplay(0);
h.addChild(c)}e._slotsZOrderChanged=!0;e.advanceTime(0);return e};c.prototype.getTextureDisplay=function(a,b,c,d){if(b)var e=this._textureAtlasDic[b];if(!e&&!b)for(b in this._textureAtlasDic){e=this._textureAtlasDic[b];if(e.getRegion(a))break;e=null}if(e){if(isNaN(c)||isNaN(d))if(b=this._dataDic[b])if(b=b.getSubTexturePivot(a))c=b.x,d=b.y;return this._generateDisplay(e,a,c,d)}return null};c.prototype._generateArmature=function(){return null};c.prototype._generateSlot=function(){return null};c.prototype._generateDisplay=
function(a,b,c,d){return null};return c}(f.EventDispatcher);a.BaseFactory=c;c.prototype.__class__="dragonBones.factorys.BaseFactory"})(d.factorys||(d.factorys={}));(function(a){var d=function(){function a(){}a.ANGLE_TO_RADIAN=Math.PI/180;a.DRAGON_BONES="dragonBones";a.ARMATURE="armature";a.SKIN="skin";a.BONE="bone";a.SLOT="slot";a.DISPLAY="display";a.ANIMATION="animation";a.TIMELINE="timeline";a.FRAME="frame";a.TRANSFORM="transform";a.COLOR_TRANSFORM="colorTransform";a.TEXTURE_ATLAS="TextureAtlas";
a.SUB_TEXTURE="SubTexture";a.A_VERSION="version";a.A_IMAGE_PATH="imagePath";a.A_FRAME_RATE="frameRate";a.A_NAME="name";a.A_PARENT="parent";a.A_LENGTH="length";a.A_TYPE="type";a.A_FADE_IN_TIME="fadeInTime";a.A_DURATION="duration";a.A_SCALE="scale";a.A_OFFSET="offset";a.A_LOOP="loop";a.A_EVENT="event";a.A_SOUND="sound";a.A_ACTION="action";a.A_HIDE="hide";a.A_TWEEN_EASING="tweenEasing";a.A_TWEEN_ROTATE="tweenRotate";a.A_DISPLAY_INDEX="displayIndex";a.A_Z_ORDER="z";a.A_BLENDMODE="blendMode";a.A_WIDTH=
"width";a.A_HEIGHT="height";a.A_SCALE_MODE="scaleMode";a.A_FIXED_ROTATION="fixedRotation";a.A_X="x";a.A_Y="y";a.A_SKEW_X="skX";a.A_SKEW_Y="skY";a.A_SCALE_X="scX";a.A_SCALE_Y="scY";a.A_PIVOT_X="pX";a.A_PIVOT_Y="pY";a.A_ALPHA_OFFSET="aO";a.A_RED_OFFSET="rO";a.A_GREEN_OFFSET="gO";a.A_BLUE_OFFSET="bO";a.A_ALPHA_MULTIPLIER="aM";a.A_RED_MULTIPLIER="rM";a.A_GREEN_MULTIPLIER="gM";a.A_BLUE_MULTIPLIER="bM";return a}();a.ConstValues=d;d.prototype.__class__="dragonBones.utils.ConstValues";var f=function(){function a(){}
a.transformPointWithParent=function(b,c){var d=a._helpMatrix;a.transformToMatrix(c,d);d.invert();var e=b.x,f=b.y;b.x=d.a*e+d.c*f+d.tx;b.y=d.d*f+d.b*e+d.ty;b.skewX=a.formatRadian(b.skewX-c.skewX);b.skewY=a.formatRadian(b.skewY-c.skewY)};a.transformToMatrix=function(a,b){b.a=a.scaleX*Math.cos(a.skewY);b.b=a.scaleX*Math.sin(a.skewY);b.c=-a.scaleY*Math.sin(a.skewX);b.d=a.scaleY*Math.cos(a.skewX);b.tx=a.x;b.ty=a.y};a.formatRadian=function(b){b%=a.DOUBLE_PI;b>Math.PI&&(b-=a.DOUBLE_PI);b<-Math.PI&&(b+=a.DOUBLE_PI);
return b};a.DOUBLE_PI=2*Math.PI;a._helpMatrix=new e.Matrix;return a}();a.TransformUtil=f;f.prototype.__class__="dragonBones.utils.TransformUtil";d=function(){function a(){}a.transformArmatureData=function(a){for(var b=a.getBoneDataList(),c=b.length,d,e;c--;)if(d=b[c],d.parent&&(e=a.getBoneData(d.parent)))d.transform.copy(d.global),f.transformPointWithParent(d.transform,e.global)};a.transformArmatureDataAnimations=function(b){for(var c=b.getAnimationDataList(),d=c.length;d--;)a.transformAnimationData(c[d],
b)};a.transformAnimationData=function(b,c){for(var d=c.getSkinData(null),e=c.getBoneDataList(),d=d.getSlotDataList(),g=e.length,k,h,n,m,l,z,x,B,v,G;g--;)if(k=e[g],h=b.getTimeline(k.name)){n=null;for(var F in d)if(n=d[F],n.parent==k.name)break;m=k.parent?b.getTimeline(k.parent):null;l=h.getFrameList();B=x=z=null;G=l.length;for(var I=0;I<G;I++){v=l[I];m?(a._helpTransform1.copy(v.global),a.getTimelineTransform(m,v.position,a._helpTransform2),f.transformPointWithParent(a._helpTransform1,a._helpTransform2),
v.transform.copy(a._helpTransform1)):v.transform.copy(v.global);v.transform.x-=k.transform.x;v.transform.y-=k.transform.y;v.transform.skewX-=k.transform.skewX;v.transform.skewY-=k.transform.skewY;v.transform.scaleX-=k.transform.scaleX;v.transform.scaleY-=k.transform.scaleY;!h.transformed&&n&&(v.zOrder-=n.zOrder);z||(z=h.originTransform,z.copy(v.transform),z.skewX=f.formatRadian(z.skewX),z.skewY=f.formatRadian(z.skewY),x=h.originPivot,x.x=v.pivot.x,x.y=v.pivot.y);v.transform.x-=z.x;v.transform.y-=
z.y;v.transform.skewX=f.formatRadian(v.transform.skewX-z.skewX);v.transform.skewY=f.formatRadian(v.transform.skewY-z.skewY);v.transform.scaleX-=z.scaleX;v.transform.scaleY-=z.scaleY;h.transformed||(v.pivot.x-=x.x,v.pivot.y-=x.y);if(B){var H=v.transform.skewX-B.transform.skewX;B.tweenRotate?0<B.tweenRotate?(0>H&&(v.transform.skewX+=2*Math.PI,v.transform.skewY+=2*Math.PI),1<B.tweenRotate&&(v.transform.skewX+=2*Math.PI*(B.tweenRotate-1),v.transform.skewY+=2*Math.PI*(B.tweenRotate-1))):(0<H&&(v.transform.skewX-=
2*Math.PI,v.transform.skewY-=2*Math.PI),1>B.tweenRotate&&(v.transform.skewX+=2*Math.PI*(B.tweenRotate+1),v.transform.skewY+=2*Math.PI*(B.tweenRotate+1))):(v.transform.skewX=B.transform.skewX+f.formatRadian(v.transform.skewX-B.transform.skewX),v.transform.skewY=B.transform.skewY+f.formatRadian(v.transform.skewY-B.transform.skewY))}B=v}h.transformed=!0}};a.getTimelineTransform=function(a,b,d){for(var e=a.getFrameList(),g=e.length,k;g--;)if(a=e[g],a.position<=b&&a.position+a.duration>b){k=a.tweenEasing;
g==e.length-1||isNaN(k)||b==a.position?d.copy(a.global):(b=(b-a.position)/a.duration,k&&(b=c.TimelineState.getEaseValue(b,k)),e=e[g+1],d.x=a.global.x+(e.global.x-a.global.x)*b,d.y=a.global.y+(e.global.y-a.global.y)*b,d.skewX=f.formatRadian(a.global.skewX+(e.global.skewX-a.global.skewX)*b),d.skewY=f.formatRadian(a.global.skewY+(e.global.skewY-a.global.skewY)*b),d.scaleX=a.global.scaleX+(e.global.scaleX-a.global.scaleX)*b,d.scaleY=a.global.scaleY+(e.global.scaleY-a.global.scaleY)*b);break}};a.addHideTimeline=
function(a,c){for(var d=c.getBoneDataList(),e=d.length,f;e--;)f=d[e],f=f.name,a.getTimeline(f)||a.addTimeline(b.TransformTimeline.HIDE_TIMELINE,f)};a._helpTransform1=new b.DBTransform;a._helpTransform2=new b.DBTransform;return a}();a.DBDataUtil=d;d.prototype.__class__="dragonBones.utils.DBDataUtil"})(d.utils||(d.utils={}));var a=d.utils,g=function(){function a(){this.global=new b.DBTransform;this.origin=new b.DBTransform;this.offset=new b.DBTransform;this.tween=new b.DBTransform;this.tween.scaleX=
this.tween.scaleY=0;this._globalTransformMatrix=new e.Matrix;this._visible=!0;this._isDisplayOnStage=this._isColorChanged=!1;this._scaleType=0;this.fixedRotation=!1}a.prototype.getVisible=function(){return this._visible};a.prototype.setVisible=function(a){this._visible=a};a.prototype._setParent=function(a){this.parent=a};a.prototype._setArmature=function(a){this.armature&&this.armature._removeDBObject(this);(this.armature=a)&&this.armature._addDBObject(this)};a.prototype.dispose=function(){this._globalTransformMatrix=
this.tween=this.offset=this.origin=this.global=this.armature=this.parent=null};a.prototype._update=function(){this.global.scaleX=(this.origin.scaleX+this.tween.scaleX)*this.offset.scaleX;this.global.scaleY=(this.origin.scaleY+this.tween.scaleY)*this.offset.scaleY;if(this.parent){var a=this.origin.x+this.offset.x+this.tween.x,b=this.origin.y+this.offset.y+this.tween.y,c=this.parent._globalTransformMatrix;this._globalTransformMatrix.tx=this.global.x=c.a*a+c.c*b+c.tx;this._globalTransformMatrix.ty=this.global.y=
c.d*b+c.b*a+c.ty;this.fixedRotation?(this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY):(this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX+this.parent.global.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY+this.parent.global.skewY);this.parent.scaleMode>=this._scaleType&&(this.global.scaleX*=this.parent.global.scaleX,this.global.scaleY*=this.parent.global.scaleY)}else this._globalTransformMatrix.tx=
this.global.x=this.origin.x+this.offset.x+this.tween.x,this._globalTransformMatrix.ty=this.global.y=this.origin.y+this.offset.y+this.tween.y,this.global.skewX=this.origin.skewX+this.offset.skewX+this.tween.skewX,this.global.skewY=this.origin.skewY+this.offset.skewY+this.tween.skewY;this._globalTransformMatrix.a=this.global.scaleX*Math.cos(this.global.skewY);this._globalTransformMatrix.b=this.global.scaleX*Math.sin(this.global.skewY);this._globalTransformMatrix.c=-this.global.scaleY*Math.sin(this.global.skewX);
this._globalTransformMatrix.d=this.global.scaleY*Math.cos(this.global.skewX)};return a}();d.DBObject=g;g.prototype.__class__="dragonBones.DBObject";var k=function(a){function b(c){a.call(this);this._displayBridge=c;this._displayList=[];this._displayIndex=-1;this._scaleType=1;this._offsetZOrder=this._tweenZorder=this._originZOrder=0;this._isHideDisplay=this._isDisplayOnStage=!1;this._blendMode="normal";this._displayBridge.updateBlendMode(this._blendMode)}__extends(b,a);b.prototype.getZOrder=function(){return this._originZOrder+
this._tweenZorder+this._offsetZOrder};b.prototype.setZOrder=function(a){this.getZOrder()!=a&&(this._offsetZOrder=a-this._originZOrder-this._tweenZorder,this.armature&&(this.armature._slotsZOrderChanged=!0))};b.prototype.getDisplay=function(){var a=this._displayList[this._displayIndex];return a instanceof l?a.getDisplay():a};b.prototype.setDisplay=function(a){this._displayList[this._displayIndex]=a;this._setDisplay(a)};b.prototype.getBlendMode=function(){return this._blendMode};b.prototype.setBlendMode=
function(a){this._blendMode!=a&&(this._blendMode=a,this._displayBridge.getDisplay()&&this._displayBridge.updateBlendMode(this._blendMode))};b.prototype.getChildArmature=function(){var a=this._displayList[this._displayIndex];return a instanceof l?a:null};b.prototype.setChildArmature=function(a){(this._displayList[this._displayIndex]=a)&&this._setDisplay(a.getDisplay())};b.prototype.getDisplayList=function(){return this._displayList};b.prototype.setDisplayList=function(a){if(!a)throw Error();for(var b=
this._displayList.length=a.length;b--;)this._displayList[b]=a[b];0<=this._displayIndex&&(a=this._displayIndex,this._displayIndex=-1,this._changeDisplay(a))};b.prototype._setDisplay=function(a){this._displayBridge.getDisplay()?this._displayBridge.setDisplay(a):(this._displayBridge.setDisplay(a),this.armature&&(this._displayBridge.addDisplay(this.armature.getDisplay(),-1),this.armature._slotsZOrderChanged=!0));this.updateChildArmatureAnimation();a&&this._displayBridge.updateBlendMode(this._blendMode);
!this._isHideDisplay&&this._displayBridge.getDisplay()?this._isDisplayOnStage=!0:this._isDisplayOnStage=!1};b.prototype._changeDisplay=function(a){if(0>a)this._isHideDisplay||(this._isHideDisplay=!0,this._displayBridge.removeDisplay(),this.updateChildArmatureAnimation());else{if(this._isHideDisplay){this._isHideDisplay=!1;var b=!0;this.armature&&(this._displayBridge.addDisplay(this.armature.getDisplay(),-1),this.armature._slotsZOrderChanged=!0)}var c=this._displayList.length;a>=c&&0<c&&(a=c-1);this._displayIndex!=
a?(this._displayIndex=a,a=this._displayList[this._displayIndex],a instanceof l?this._setDisplay(a.getDisplay()):this._setDisplay(a),this._dislayDataList&&this._displayIndex<=this._dislayDataList.length&&this.origin.copy(this._dislayDataList[this._displayIndex].transform)):b&&this.updateChildArmatureAnimation()}!this._isHideDisplay&&this._displayBridge.getDisplay()?this._isDisplayOnStage=!0:this._isDisplayOnStage=!1};b.prototype.setVisible=function(a){a!=this._visible&&(this._visible=a,this._updateVisible(this._visible))};
b.prototype._setArmature=function(b){a.prototype._setArmature.call(this,b);this.armature?(this.armature._slotsZOrderChanged=!0,this._displayBridge.addDisplay(this.armature.getDisplay(),-1)):this._displayBridge.removeDisplay()};b.prototype.dispose=function(){this._displayBridge&&(a.prototype.dispose.call(this),this._displayBridge.dispose(),this._displayList.length=0,this._dislayDataList=this._displayList=this._displayBridge=null)};b.prototype._update=function(){a.prototype._update.call(this);if(this._isDisplayOnStage){var b=
this.parent._tweenPivot.x,c=this.parent._tweenPivot.y;if(b||c){var d=this.parent._globalTransformMatrix;this._globalTransformMatrix.tx+=d.a*b+d.c*c;this._globalTransformMatrix.ty+=d.b*b+d.d*c}this._displayBridge.updateTransform(this._globalTransformMatrix,this.global)}};b.prototype._updateVisible=function(a){this._displayBridge.setVisible(this.parent.getVisible()&&this._visible&&a)};b.prototype.updateChildArmatureAnimation=function(){var a=this.getChildArmature();if(a)if(this._isHideDisplay)a.animation.stop(),
a.animation._lastAnimationState=null;else{var b=this.armature?this.armature.animation.getLastAnimationName():null;b&&a.animation.hasAnimation(b)?a.animation.gotoAndPlay(b):a.animation.play()}};return b}(g);d.Slot=k;k.prototype.__class__="dragonBones.Slot";var n=function(a){function b(){a.call(this);this._children=[];this._scaleType=2;this._tweenPivot=new e.Point;this.scaleMode=1}__extends(b,a);b.prototype.setVisible=function(a){if(this._visible!=a)for(this._visible=a,a=this._children.length;a--;){var b=
this._children[a];b instanceof k&&b._updateVisible(this._visible)}};b.prototype._setArmature=function(b){a.prototype._setArmature.call(this,b);for(b=this._children.length;b--;)this._children[b]._setArmature(this.armature)};b.prototype.dispose=function(){if(this._children){a.prototype.dispose.call(this);for(var b=this._children.length;b--;)this._children[b].dispose();this._children.length=0;this.slot=this._tweenPivot=this._children=null}};b.prototype.contains=function(a){if(!a)throw Error();if(a==
this)return!1;for(;a!=this&&null!=a;)a=a.parent;return a==this};b.prototype.addChild=function(a){if(!a)throw Error();if(a==this||a instanceof b&&a.contains(this))throw Error("An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)");a.parent&&a.parent.removeChild(a);this._children[this._children.length]=a;a._setParent(this);a._setArmature(this.armature);!this.slot&&a instanceof k&&(this.slot=a)};b.prototype.removeChild=function(a){if(!a)throw Error();var b=
this._children.indexOf(a);if(0<=b)this._children.splice(b,1),a._setParent(null),a._setArmature(null),a==this.slot&&(this.slot=null);else throw Error();};b.prototype.getSlots=function(){for(var a=[],b=this._children.length;b--;)this._children[b]instanceof k&&a.unshift(this._children[b]);return a};b.prototype._arriveAtFrame=function(a,c,d,e){if(a){if(c=d.getMixingTransform(this.name),!d.displayControl||2!=c&&-1!=c||this.displayController&&this.displayController!=d.name||!this.slot||(c=a.displayIndex,
0<=c&&!isNaN(a.zOrder)&&a.zOrder!=this.slot._tweenZorder&&(this.slot._tweenZorder=a.zOrder,this.armature._slotsZOrderChanged=!0),this.slot._changeDisplay(c),this.slot._updateVisible(a.visible)),a.event&&this.armature.hasEventListener(f.FrameEvent.BONE_FRAME_EVENT)&&(c=new f.FrameEvent(f.FrameEvent.BONE_FRAME_EVENT),c.bone=this,c.animationState=d,c.frameLabel=a.event,this.armature._eventList.push(c)),a.sound&&b._soundManager.hasEventListener(f.SoundEvent.SOUND)&&(c=new f.SoundEvent(f.SoundEvent.SOUND),
c.armature=this.armature,c.animationState=d,c.sound=a.sound,b._soundManager.dispatchEvent(c)),a.action)for(var g in this._children)this._children[g]instanceof k&&(d=this._children[g].getChildArmature())&&d.animation.gotoAndPlay(a.action)}else this.slot&&this.slot._changeDisplay(-1)};b.prototype._updateColor=function(a,b,c,d,e,f,g,k,n){(n||this._isColorChanged)&&this.slot._displayBridge.updateColor(a,b,c,d,e,f,g,k);this._isColorChanged=n};b._soundManager=f.SoundEventManager.getInstance();return b}(g);
d.Bone=n;n.prototype.__class__="dragonBones.Bone";var l=function(a){function b(d){a.call(this);this.animation=new c.Animation(this);this._display=d;this._slotsZOrderChanged=!1;this._slotList=[];this._boneList=[];this._eventList=[]}__extends(b,a);b.prototype.getDisplay=function(){return this._display};b.prototype.dispose=function(){if(this.animation){this.animation.dispose();for(var a=this._slotList.length;a--;)this._slotList[a].dispose();for(a=this._boneList.length;a--;)this._boneList[a].dispose();
this._slotList.length=0;this._boneList.length=0;this._eventList.length=0;this.animation=this._display=this._eventList=this._boneList=this._slotList=null}};b.prototype.advanceTime=function(a){this.animation.advanceTime(a);a*=this.animation.timeScale;for(var b=this._boneList.length;b--;)this._boneList[b]._update();for(var b=this._slotList.length,c;b--;)c=this._slotList[b],c._update(),c._isDisplayOnStage&&(c=c.getChildArmature())&&c.advanceTime(a);this._slotsZOrderChanged&&(this.updateSlotsZOrder(),
this.hasEventListener(f.ArmatureEvent.Z_ORDER_UPDATED)&&this.dispatchEvent(new f.ArmatureEvent(f.ArmatureEvent.Z_ORDER_UPDATED)));if(this._eventList.length){a=this._eventList.length;for(b=0;b<a;b++)this.dispatchEvent(this._eventList[b]);this._eventList.length=0}};b.prototype.getSlots=function(a){"undefined"===typeof a&&(a=!0);return a?this._slotList.concat():this._slotList};b.prototype.getBones=function(a){"undefined"===typeof a&&(a=!0);return a?this._boneList.concat():this._boneList};b.prototype.getSlot=
function(a){for(var b=this._slotList.length;b--;)if(this._slotList[b].name==a)return this._slotList[b];return null};b.prototype.getSlotByDisplay=function(a){if(a)for(var b=this._slotList.length;b--;)if(this._slotList[b].getDisplay()==a)return this._slotList[b];return null};b.prototype.removeSlot=function(a){if(!a)throw Error();if(0<=this._slotList.indexOf(a))a.parent.removeChild(a);else throw Error();};b.prototype.removeSlotByName=function(a){a&&(a=this.getSlot(a))&&this.removeSlot(a)};b.prototype.getBone=
function(a){for(var b=this._boneList.length;b--;)if(this._boneList[b].name==a)return this._boneList[b];return null};b.prototype.getBoneByDisplay=function(a){return(a=this.getSlotByDisplay(a))?a.parent:null};b.prototype.removeBone=function(a){if(!a)throw Error();if(0<=this._boneList.indexOf(a))a.parent?a.parent.removeChild(a):a._setArmature(null);else throw Error();};b.prototype.removeBoneByName=function(a){a&&(a=this.getBone(a))&&this.removeBone(a)};b.prototype.addChild=function(a,b){if(!a)throw Error();
if(b){var c=this.getBone(b);if(c)c.addChild(a);else throw Error();}else a.parent&&a.parent.removeChild(a),a._setArmature(this)};b.prototype.updateSlotsZOrder=function(){this._slotList.sort(this.sortSlot);for(var a=this._slotList.length,b;a--;)b=this._slotList[a],b._isDisplayOnStage&&b._displayBridge.addDisplay(this._display,-1);this._slotsZOrderChanged=!1};b.prototype._addDBObject=function(a){a instanceof k?0>this._slotList.indexOf(a)&&(this._slotList[this._slotList.length]=a):a instanceof n&&0>this._boneList.indexOf(a)&&
(this._boneList[this._boneList.length]=a,this._sortBoneList())};b.prototype._removeDBObject=function(a){a instanceof k?(a=this._slotList.indexOf(a),0<=a&&this._slotList.splice(a,1)):a instanceof n&&(a=this._boneList.indexOf(a),0<=a&&this._boneList.splice(a,1))};b.prototype._sortBoneList=function(){var a=this._boneList.length;if(0!=a){for(var b=[],c,d,e;a--;){c=0;for(e=d=this._boneList[a];e;)c++,e=e.parent;b[a]={level:c,bone:d}}b.sort(this.sortBone);for(a=b.length;a--;)this._boneList[a]=b[a].bone}};
b.prototype._arriveAtFrame=function(a,c,d,e){a.event&&this.hasEventListener(f.FrameEvent.ANIMATION_FRAME_EVENT)&&(c=new f.FrameEvent(f.FrameEvent.ANIMATION_FRAME_EVENT),c.animationState=d,c.frameLabel=a.event,this._eventList.push(c));a.sound&&b._soundManager.hasEventListener(f.SoundEvent.SOUND)&&(c=new f.SoundEvent(f.SoundEvent.SOUND),c.armature=this,c.animationState=d,c.sound=a.sound,b._soundManager.dispatchEvent(c));a.action&&d.isPlaying&&this.animation.gotoAndPlay(a.action)};b.prototype.sortSlot=
function(a,b){return a.getZOrder()<b.getZOrder()?1:-1};b.prototype.sortBone=function(a,b){return a.level<b.level?1:-1};b._soundManager=f.SoundEventManager.getInstance();return b}(f.EventDispatcher);d.Armature=l;l.prototype.__class__="dragonBones.Armature"})(dragonBones||(dragonBones={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){(function(d){var c=function(){function b(){}b.prototype.getVisible=function(){return this._display?this._display.visible:!1};b.prototype.setVisible=function(a){this._display&&(this._display.visible=a)};b.prototype.getDisplay=function(){return this._display};b.prototype.setDisplay=function(a){if(this._display!=a){if(this._display){var b=this._display.parent;if(b)var c=b.getChildIndex(this._display);this.removeDisplay()}this._display=a;this.addDisplay(b,c)}};b.prototype.dispose=function(){this._display=
null};b.prototype.updateTransform=function(a,c){this._display._x=a.tx;this._display._y=a.ty;this._display._skewX=c.skewX*b.RADIAN_TO_ANGLE;this._display._skewY=c.skewY*b.RADIAN_TO_ANGLE;this._display._scaleX=c.scaleX;this._display._scaleY=c.scaleY;this._display._setSizeDirty()};b.prototype.updateColor=function(a,b,c,d,e,f,m,q){this._display&&(this._display._alpha=e)};b.prototype.updateBlendMode=function(a){this._display&&a&&(this._display.blendMode=a)};b.prototype.addDisplay=function(a,b){a&&this._display&&
(this._display._parent&&this._display._parent.removeChild(this._display),0>b?a.addChild(this._display):a.addChildAt(this._display,Math.min(b,a.numChildren)))};b.prototype.removeDisplay=function(){this._display&&this._display._parent&&this._display._parent.removeChild(this._display)};b.RADIAN_TO_ANGLE=180/Math.PI;return b}();d.DragonBonesEgretBridge=c;c.prototype.__class__="dragonBones.display.DragonBonesEgretBridge"})(d.display||(d.display={}));var e=d.display;(function(e){var c=function(){function b(a,
b,c){"undefined"===typeof c&&(c=1);this.texture=a;this.textureAtlasRawData=b;this._textureData={};this.scale=c;this.name=b[d.utils.ConstValues.A_NAME];this.parseData(b);this.spriteSheet=new egret.SpriteSheet(a)}b.prototype.getTexture=function(a){var b=this.spriteSheet.getTexture(a);b||(b=this._textureData[a],b=this.spriteSheet.createTexture(a,b.x,b.y,b.width,b.height));return b};b.prototype.dispose=function(){this.texture=null};b.prototype.getRegion=function(a){throw Error("error");};b.prototype.parseData=
function(a){for(var b=a.SubTexture.length,c=0;c<b;c++){var d=a.SubTexture[c];this._textureData[d.name]=d}};return b}();e.EgretTextureAtlas=c;c.prototype.__class__="dragonBones.textures.EgretTextureAtlas"})(d.textures||(d.textures={}));(function(f){var c=function(b){function a(){b.call(this)}__extends(a,b);a.prototype._generateArmature=function(){return new d.Armature(new egret.DisplayObjectContainer)};a.prototype._generateSlot=function(){return new d.Slot(new e.DragonBonesEgretBridge)};a.prototype._generateDisplay=
function(a,b,c,d){var e=new egret.Bitmap;e.texture=a.getTexture(b);e.anchorOffsetX=c;e.anchorOffsetY=d;return e};return a}(f.BaseFactory);f.EgretFactory=c;c.prototype.__class__="dragonBones.factorys.EgretFactory"})(d.factorys||(d.factorys={}))})(dragonBones||(dragonBones={}));
(function(d){var e=function(){function e(){}e.TRACE_RENDER_LOOP=function(c){"undefined"===typeof c&&(c=0);var b=d.Ticker.getInstance(),a=d.MainContext.instance;switch(c){case 0:b.unregister(a.renderLoop,a);break;case 1:a.renderLoop();break;case 2:b.register(a.renderLoop,a)}};e.DRAW_IMAGE=!0;e.ADD_EVENT_LISTENER=!0;e.SCALE_BITMAP_SET_SCALE_GRID=!0;return e}();d.DEBUG=e})(egret||(egret={}));
(function(d){var e=function(){function d(){}d.isNumber=function(c){return"number"===typeof c&&!isNaN(c)};return d}();d.NumberUtils=e;e.prototype.__class__="egret.NumberUtils"})(egret||(egret={}));var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},RES;
(function(d){var e=function(d){function c(b,a,c){"undefined"===typeof a&&(a=!1);"undefined"===typeof c&&(c=!1);d.call(this,b,a,c);this.itemsTotal=this.itemsLoaded=0}__extends(c,d);c.dispatchResourceEvent=function(b,a,d,e,f,l){"undefined"===typeof d&&(d="");"undefined"===typeof e&&(e=null);"undefined"===typeof f&&(f=0);"undefined"===typeof l&&(l=0);var h=egret.Event._getPropertyData(c);h.groupName=d;h.resItem=e;h.itemsLoaded=f;h.itemsTotal=l;egret.Event._dispatchByTarget(c,b,a,h)};c.ITEM_LOAD_ERROR=
"itemLoadError";c.CONFIG_COMPLETE="configComplete";c.GROUP_PROGRESS="groupProgress";c.GROUP_COMPLETE="groupComplete";return c}(egret.Event);d.ResourceEvent=e;e.prototype.__class__="RES.ResourceEvent"})(RES||(RES={}));
(function(d){var e=function(){function d(c,b,a){this._loaded=!1;this.name=c;this.url=b;this.type=a}Object.defineProperty(d.prototype,"loaded",{get:function(){return this.data?this.data.loaded:this._loaded},set:function(c){this.data&&(this.data.loaded=c);this._loaded=c},enumerable:!0,configurable:!0});d.prototype.toString=function(){return'[ResourceItem name="'+this.name+'" url="'+this.url+'" type="'+this.type+'"]'};d.TYPE_XML="xml";d.TYPE_IMAGE="image";d.TYPE_BIN="bin";d.TYPE_TEXT="text";d.TYPE_JSON=
"json";d.TYPE_SHEET="sheet";d.TYPE_FONT="font";d.TYPE_SOUND="sound";return d}();d.ResourceItem=e;e.prototype.__class__="RES.ResourceItem"})(RES||(RES={}));
(function(d){var e=function(){function e(){this.keyMap={};this.groupDic={}}e.prototype.getGroupByName=function(c){var b=[];if(!this.groupDic[c])return b;c=this.groupDic[c];for(var a=c.length,d=0;d<a;d++)b.push(this.parseResourceItem(c[d]));return b};e.prototype.getRawGroupByName=function(c){return this.groupDic[c]?this.groupDic[c]:[]};e.prototype.createGroup=function(c,b,a){"undefined"===typeof a&&(a=!1);if(!a&&this.groupDic[c]||!b||0==b.length)return!1;a=this.groupDic;for(var d=[],e=b.length,f=0;f<
e;f++){var l=b[f],h=a[l];if(h)for(var l=h.length,m=0;m<l;m++){var q=h[m];-1==d.indexOf(q)&&d.push(q)}else(q=this.keyMap[l])&&-1==d.indexOf(q)&&d.push(q)}if(0==d.length)return!1;this.groupDic[c]=d;return!0};e.prototype.parseConfig=function(c,b){if(c){var a=c.resources;if(a)for(var d=a.length,e=0;e<d;e++){var f=a[e];f.url=b+f.url;this.keyMap[f.name]||(this.keyMap[f.name]=f)}if(a=c.groups)for(d=a.length,e=0;e<d;e++){for(var l=a[e],h=[],m=l.keys.split(","),q=m.length,s=0;s<q;s++)f=m[s].trim(),(f=this.keyMap[f])&&
-1==h.indexOf(f)&&h.push(f);this.groupDic[l.name]=h}}};e.prototype.getType=function(c){return(c=this.keyMap[c])?c.type:""};e.prototype.getRawResourceItem=function(c){return this.keyMap[c]};e.prototype.getResourceItem=function(c){return(c=this.keyMap[c])?this.parseResourceItem(c):null};e.prototype.parseResourceItem=function(c){var b=new d.ResourceItem(c.name,c.url,c.type);b.data=c;return b};return e}();d.ResourceConfig=e;e.prototype.__class__="RES.ResourceConfig"})(RES||(RES={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this.groupTotalDic={};this.numLoadedDic={};this.itemListDic={};this.priorityQueue={};this.lazyLoadList=[];this.analyzerDic={};this.queueIndex=0}__extends(c,e);c.prototype.isGroupInLoading=function(b){return void 0!==this.itemListDic[b]};c.prototype.loadGroup=function(b,a,c){"undefined"===typeof c&&(c=0);if(!this.itemListDic[a]&&a)if(b&&0!=b.length){this.priorityQueue[c]?this.priorityQueue[c].push(a):this.priorityQueue[c]=[a];this.itemListDic[a]=
b;c=b.length;for(var e=0;e<c;e++)b[e].groupName=a;this.groupTotalDic[a]=b.length;this.numLoadedDic[a]=0;this.next()}else b=new d.ResourceEvent(d.ResourceEvent.GROUP_COMPLETE),b.groupName=a,this.dispatchEvent(b)};c.prototype.loadItem=function(b){this.lazyLoadList.push(b);b.groupName="";this.next()};c.prototype.next=function(){var b=this.getOneResourceItem();if(b)if(b.loaded)this.onItemComplete(b);else{var a=this.analyzerDic[b.type];a||(a=this.analyzerDic[b.type]=egret.Injector.getInstance(d.AnalyzerBase,
b.type));a.loadFile(b,this.onItemComplete,this)}};c.prototype.getOneResourceItem=function(){var b=Number.NEGATIVE_INFINITY,a;for(a in this.priorityQueue)b=Math.max(b,a);b=this.priorityQueue[b];if(!b||0==b.length)return 0==this.lazyLoadList.length?null:this.lazyLoadList.pop();a=b.length;for(var c,d=0;d<a;d++){this.queueIndex>=a&&(this.queueIndex=0);c=this.itemListDic[b[this.queueIndex]];if(0<c.length)break;this.queueIndex++}return 0==c.length?null:c.shift()};c.prototype.onItemComplete=function(b){var a=
b.groupName;b.loaded||d.ResourceEvent.dispatchResourceEvent(this.resInstance,d.ResourceEvent.ITEM_LOAD_ERROR,a,b);if(a){this.numLoadedDic[a]++;var c=this.numLoadedDic[a],e=this.groupTotalDic[a];d.ResourceEvent.dispatchResourceEvent(this.resInstance,d.ResourceEvent.GROUP_PROGRESS,a,b,c,e);c==e&&(this.removeGroupName(a),delete this.groupTotalDic[a],delete this.numLoadedDic[a],delete this.itemListDic[a],d.ResourceEvent.dispatchResourceEvent(this,d.ResourceEvent.GROUP_COMPLETE,a))}else this.callBack.call(this.resInstance,
b);this.next()};c.prototype.removeGroupName=function(b){for(var a in this.priorityQueue){for(var c=this.priorityQueue[a],d=c.length,e=0,f=!1,d=c.length,h=0;h<d;h++){if(c[h]==b){c.splice(e,1);f=!0;break}e++}if(f){0==c.length&&delete this.priorityQueue[a];break}}};return c}(egret.EventDispatcher);d.ResourceLoader=e;e.prototype.__class__="RES.ResourceLoader"})(RES||(RES={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(){d.call(this)}__extends(c,d);c.prototype.loadFile=function(b,a,c){};c.prototype.getRes=function(b){};c.prototype.destroyRes=function(b){return!1};c.getStringPrefix=function(b){if(!b)return"";var a=b.indexOf(".");return-1!=a?b.substring(0,a):""};c.getStringTail=function(b){if(!b)return"";var a=b.indexOf(".");return-1!=a?b.substring(a+1):""};return c}(egret.HashObject);d.AnalyzerBase=e;e.prototype.__class__="RES.AnalyzerBase"})(RES||(RES={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(){d.call(this);this.fileDic={};this.resItemDic=[];this._dataFormat=egret.URLLoaderDataFormat.BINARY;this.recycler=new egret.Recycler}__extends(c,d);c.prototype.loadFile=function(b,a,c){if(this.fileDic[b.name])a.call(c,b);else{var d=this.getLoader();this.resItemDic[d.hashCode]={item:b,func:a,thisObject:c};d.load(new egret.URLRequest(b.url))}};c.prototype.getLoader=function(){var b=this.recycler.pop();b||(b=new egret.URLLoader,b.addEventListener(egret.Event.COMPLETE,
this.onLoadFinish,this),b.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadFinish,this));b.dataFormat=this._dataFormat;return b};c.prototype.onLoadFinish=function(b){var a=b.target,c=this.resItemDic[a.hashCode];delete this.resItemDic[a.hashCode];this.recycler.push(a);var d=c.item,e=c.func;d.loaded=b.type==egret.Event.COMPLETE;d.loaded&&this.analyzeData(d,a.data);e.call(c.thisObject,d)};c.prototype.analyzeData=function(b,a){var c=b.name;!this.fileDic[c]&&a&&(this.fileDic[c]=a)};c.prototype.getRes=
function(b){return this.fileDic[b]};c.prototype.hasRes=function(b){return null!=this.getRes(b)};c.prototype.destroyRes=function(b){return this.fileDic[b]?(delete this.fileDic[b],!0):!1};return c}(d.AnalyzerBase);d.BinAnalyzer=e;e.prototype.__class__="RES.BinAnalyzer"})(RES||(RES={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(){d.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXTURE}__extends(c,d);c.prototype.analyzeData=function(b,a){var c=b.name;!this.fileDic[c]&&a&&(this.fileDic[c]=a,(c=b.data)&&c.scale9grid&&(c=c.scale9grid.split(","),a.scale9Grid=new egret.Rectangle(parseInt(c[0]),parseInt(c[1]),parseInt(c[2]),parseInt(c[3]))))};return c}(d.BinAnalyzer);d.ImageAnalyzer=e;e.prototype.__class__="RES.ImageAnalyzer"})(RES||(RES={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(){d.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(c,d);c.prototype.analyzeData=function(b,a){var c=b.name;if(!this.fileDic[c]&&a)try{this.fileDic[c]=JSON.parse(a)}catch(d){egret.Logger.warning("JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: "+b.url)}};return c}(d.BinAnalyzer);d.JsonAnalyzer=e;e.prototype.__class__="RES.JsonAnalyzer"})(RES||(RES={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};(function(d){var e=function(d){function c(){d.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(c,d);return c}(d.BinAnalyzer);d.TextAnalyzer=e;e.prototype.__class__="RES.TextAnalyzer"})(RES||(RES={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this.sheetMap={};this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(c,e);c.prototype.getRes=function(b){var a=this.fileDic[b];!a&&(a=d.AnalyzerBase.getStringPrefix(b),a=this.fileDic[a])&&(b=d.AnalyzerBase.getStringTail(b),a=a.getTexture(b));return a};c.prototype.onLoadFinish=function(b){var a=b.target,c=this.resItemDic[a.hashCode];delete this.resItemDic[a.hashCode];this.recycler.push(a);var d=c.item,e=c.func;d.loaded=b.type==egret.Event.COMPLETE;
d.loaded&&this.analyzeData(d,a.data);"string"==typeof a.data?(this._dataFormat=egret.URLLoaderDataFormat.TEXTURE,this.loadFile(d,e,c.thisObject),this._dataFormat=egret.URLLoaderDataFormat.TEXT):e.call(c.thisObject,d)};c.prototype.analyzeData=function(b,a){var c=b.name;if(!this.fileDic[c]&&a){var d;if("string"==typeof a){try{d=JSON.parse(a)}catch(e){egret.Logger.warning("JSON\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e: "+b.url)}d&&(this.sheetMap[c]=d,b.loaded=!1,b.url=this.getRelativePath(b.url,d.file))}else d=
this.sheetMap[c],delete this.sheetMap[c],a&&(d=this.parseSpriteSheet(a,d),this.fileDic[c]=d)}};c.prototype.getRelativePath=function(b,a){b=b.split("\\").join("/");var c=b.lastIndexOf("/");return b=-1!=c?b.substring(0,c+1)+a:a};c.prototype.parseSpriteSheet=function(b,a){var c=a.frames;if(!c)return null;var d=new egret.SpriteSheet(b),e;for(e in c){var f=c[e];d.createTexture(e,f.x,f.y,f.w,f.h,f.offX,f.offY,f.sourceW,f.sourceH)}return d};return c}(d.BinAnalyzer);d.SheetAnalyzer=e;e.prototype.__class__=
"RES.SheetAnalyzer"})(RES||(RES={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(){d.call(this)}__extends(c,d);c.prototype.analyzeData=function(b,a){var c=b.name;if(!this.fileDic[c]&&a){var d;"string"==typeof a?(d=a,this.sheetMap[c]=d,b.loaded=!1,b.url=this.getTexturePath(b.url,d)):(d=this.sheetMap[c],delete this.sheetMap[c],a&&(d=new egret.BitmapTextSpriteSheet(a,d),this.fileDic[c]=d))}};c.prototype.getTexturePath=function(b,a){var c="",d=a.split("\n")[2],e=d.indexOf('file="');-1!=e&&(d=d.substring(e+6),e=d.indexOf('"'),c=d.substring(0,
e));b=b.split("\\").join("/");e=b.lastIndexOf("/");return b=-1!=e?b.substring(0,e+1)+c:c};return c}(d.SheetAnalyzer);d.FontAnalyzer=e;e.prototype.__class__="RES.FontAnalyzer"})(RES||(RES={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(){d.call(this);this._dataFormat=egret.URLLoaderDataFormat.SOUND}__extends(c,d);return c}(d.BinAnalyzer);d.SoundAnalyzer=e;e.prototype.__class__="RES.SoundAnalyzer"})(RES||(RES={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(d){function c(){d.call(this);this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(c,d);c.prototype.analyzeData=function(b,a){var c=b.name;if(!this.fileDic[c]&&a)try{var d=egret.XML.parse(a);this.fileDic[c]=d}catch(e){}};return c}(d.BinAnalyzer);d.XMLAnalyzer=e;e.prototype.__class__="RES.XMLAnalyzer"})(RES||(RES={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){d.loadConfig=function(c,b){"undefined"===typeof b&&(b="");f.loadConfig(c,b)};d.loadGroup=function(c,b){"undefined"===typeof b&&(b=0);f.loadGroup(c,b)};d.isGroupLoaded=function(c){return f.isGroupLoaded(c)};d.getGroupByName=function(c){return f.getGroupByName(c)};d.createGroup=function(c,b,a){"undefined"===typeof a&&(a=!1);return f.createGroup(c,b,a)};d.hasRes=function(c){return f.hasRes(c)};d.getRes=function(c){return f.getRes(c)};d.getResAsync=function(c,b,a){f.getResAsync(c,b,a)};d.getResByUrl=
function(c,b,a,d){"undefined"===typeof d&&(d="");f.getResByUrl(c,b,a,d)};d.destroyRes=function(c){return f.destroyRes(c)};d.addEventListener=function(c,b,a,d,e){"undefined"===typeof d&&(d=!1);"undefined"===typeof e&&(e=0);f.addEventListener(c,b,a,d,e)};d.removeEventListener=function(c,b,a,d){"undefined"===typeof d&&(d=!1);f.removeEventListener(c,b,a,d)};var e=function(c){function b(){c.call(this);this.analyzerDic={};this.configComplete=!1;this.loadedGroups=[];this.groupNameList=[];this.asyncDic={};
this.init()}__extends(b,c);b.prototype.getAnalyzerByType=function(a){var b=this.analyzerDic[a];b||(b=this.analyzerDic[a]=egret.Injector.getInstance(d.AnalyzerBase,a));return b};b.prototype.init=function(){egret.Injector.hasMapRule(d.AnalyzerBase,d.ResourceItem.TYPE_BIN)||egret.Injector.mapClass(d.AnalyzerBase,d.BinAnalyzer,d.ResourceItem.TYPE_BIN);egret.Injector.hasMapRule(d.AnalyzerBase,d.ResourceItem.TYPE_IMAGE)||egret.Injector.mapClass(d.AnalyzerBase,d.ImageAnalyzer,d.ResourceItem.TYPE_IMAGE);
egret.Injector.hasMapRule(d.AnalyzerBase,d.ResourceItem.TYPE_TEXT)||egret.Injector.mapClass(d.AnalyzerBase,d.TextAnalyzer,d.ResourceItem.TYPE_TEXT);egret.Injector.hasMapRule(d.AnalyzerBase,d.ResourceItem.TYPE_JSON)||egret.Injector.mapClass(d.AnalyzerBase,d.JsonAnalyzer,d.ResourceItem.TYPE_JSON);egret.Injector.hasMapRule(d.AnalyzerBase,d.ResourceItem.TYPE_SHEET)||egret.Injector.mapClass(d.AnalyzerBase,d.SheetAnalyzer,d.ResourceItem.TYPE_SHEET);egret.Injector.hasMapRule(d.AnalyzerBase,d.ResourceItem.TYPE_FONT)||
egret.Injector.mapClass(d.AnalyzerBase,d.FontAnalyzer,d.ResourceItem.TYPE_FONT);egret.Injector.hasMapRule(d.AnalyzerBase,d.ResourceItem.TYPE_SOUND)||egret.Injector.mapClass(d.AnalyzerBase,d.SoundAnalyzer,d.ResourceItem.TYPE_SOUND);egret.Injector.hasMapRule(d.AnalyzerBase,d.ResourceItem.TYPE_XML)||egret.Injector.mapClass(d.AnalyzerBase,d.XMLAnalyzer,d.ResourceItem.TYPE_XML);this.resConfig=new d.ResourceConfig;this.resLoader=new d.ResourceLoader;this.resLoader.callBack=this.onResourceItemComp;this.resLoader.resInstance=
this;this.resLoader.addEventListener(d.ResourceEvent.GROUP_COMPLETE,this.onGroupComp,this)};b.prototype.loadConfig=function(a,c){this.configURL=a;this.resourceRoot=c;var e=[new d.ResourceItem(a,a,d.ResourceItem.TYPE_JSON)];this.resLoader.loadGroup(e,b.GROUP_CONFIG,Number.MAX_VALUE)};b.prototype.isGroupLoaded=function(a){return-1!=this.loadedGroups.indexOf(a)};b.prototype.getGroupByName=function(a){return this.resConfig.getGroupByName(a)};b.prototype.loadGroup=function(a,b){"undefined"===typeof b&&
(b=0);if(-1==this.loadedGroups.indexOf(a)&&!this.resLoader.isGroupInLoading(a))if(this.configComplete){var c=this.resConfig.getGroupByName(a);this.resLoader.loadGroup(c,a,b)}else this.groupNameList.push({name:a,priority:b})};b.prototype.createGroup=function(a,b,c){"undefined"===typeof c&&(c=!1);return this.resConfig.createGroup(a,b,c)};b.prototype.onGroupComp=function(a){if(a.groupName==b.GROUP_CONFIG){a=this.getAnalyzerByType(d.ResourceItem.TYPE_JSON);var c=a.getRes(this.configURL);a.destroyRes(this.configURL);
this.resConfig.parseConfig(c,this.resourceRoot);this.configComplete=!0;d.ResourceEvent.dispatchResourceEvent(this,d.ResourceEvent.CONFIG_COMPLETE);a=this.groupNameList;for(var c=a.length,e=0;e<c;e++){var f=a[e];this.loadGroup(f.name,f.priority)}this.groupNameList=[]}else this.loadedGroups.push(a.groupName),this.dispatchEvent(a)};b.prototype.hasRes=function(a){var b=this.resConfig.getType(a);return""==b&&(a=d.AnalyzerBase.getStringPrefix(a),b=this.resConfig.getType(a),""==b)?!1:!0};b.prototype.getRes=
function(a){var b=this.resConfig.getType(a);return""==b&&(b=d.AnalyzerBase.getStringPrefix(a),b=this.resConfig.getType(b),""==b)?null:this.getAnalyzerByType(b).getRes(a)};b.prototype.getResAsync=function(a,b,c){var e=this.resConfig.getType(a),f=a;if(""==e&&(f=d.AnalyzerBase.getStringPrefix(a),e=this.resConfig.getType(f),""==e)){b.call(c,null);return}(e=this.getAnalyzerByType(e).getRes(a))?b.call(c,e):(a={name:a,compFunc:b,thisObject:c},this.asyncDic[f]?this.asyncDic[f].push(a):(this.asyncDic[f]=[a],
f=this.resConfig.getResourceItem(f),this.resLoader.loadItem(f)))};b.prototype.getResByUrl=function(a,b,c,e){"undefined"===typeof e&&(e="");if(a){e||(e=this.getTypeByUrl(a));var f=this.getAnalyzerByType(e).getRes(a);f?b.call(c,f):(b={name:a,compFunc:b,thisObject:c},this.asyncDic[a]?this.asyncDic[a].push(b):(this.asyncDic[a]=[b],a=new d.ResourceItem(a,a,e),this.resLoader.loadItem(a)))}else b.call(c,null)};b.prototype.getTypeByUrl=function(a){a=a.substr(a.lastIndexOf(".")+1);switch(a){case d.ResourceItem.TYPE_XML:case d.ResourceItem.TYPE_JSON:case d.ResourceItem.TYPE_SHEET:break;
case "png":case "jpg":case "gif":a=d.ResourceItem.TYPE_IMAGE;break;case "fnt":a=d.ResourceItem.TYPE_FONT;break;case "txt":a=d.ResourceItem.TYPE_TEXT;break;default:a=d.ResourceItem.TYPE_BIN}return a};b.prototype.onResourceItemComp=function(a){var b=this.asyncDic[a.name];delete this.asyncDic[a.name];a=this.getAnalyzerByType(a.type);for(var c=b.length,d=0;d<c;d++){var e=b[d],f=a.getRes(e.name);e.compFunc.call(e.thisObject,f)}};b.prototype.destroyRes=function(a){var b=this.resConfig.getRawGroupByName(a);
if(b){var c=this.loadedGroups.indexOf(a);-1!=c&&this.loadedGroups.splice(c,1);a=b.length;for(var d=0;d<a;d++){c=b[d];c.loaded=!1;var e=this.getAnalyzerByType(c.type);e.destroyRes(c.name)}return!0}b=this.resConfig.getType(a);if(""==b)return!1;c=this.resConfig.getRawResourceItem(a);c.loaded=!1;e=this.getAnalyzerByType(b);return e.destroyRes(a)};b.GROUP_CONFIG="RES__CONFIG";return b}(egret.EventDispatcher);e.prototype.__class__="Resource";var f=new e})(RES||(RES={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b){"undefined"===typeof b&&(b=60);e.call(this);this.frameRate=b;this._time=0;60==b&&(c.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,c.cancelAnimationFrame=window.cancelAnimationFrame||window.msCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||window.cancelRequestAnimationFrame||
window.msCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame);c.requestAnimationFrame||(c.requestAnimationFrame=function(a){return window.setTimeout(a,1E3/b)});c.cancelAnimationFrame||(c.cancelAnimationFrame=function(a){return window.clearTimeout(a)});c.instance=this;this.registerListener()}__extends(c,e);c.prototype.enterFrame=function(){var b=c.instance,a=c._thisObject,e=c._callback,f=d.getTimer();e.call(a,
f-b._time);b._time=f;b._requestAnimationId=c.requestAnimationFrame.call(window,c.prototype.enterFrame)};c.prototype.executeMainLoop=function(b,a){c._callback=b;c._thisObject=a;this.enterFrame()};c.prototype.reset=function(){var b=c.instance;b._requestAnimationId&&(b._time=d.getTimer(),c.cancelAnimationFrame.call(window,b._requestAnimationId),b.enterFrame())};c.prototype.registerListener=function(){var b=function(){c.instance.reset()},a=function(){document[d]||b()};window.onfocus=b;window.onblur=function(){};
var d,e;"undefined"!==typeof document.hidden?(d="hidden",e="visibilitychange"):"undefined"!==typeof document.mozHidden?(d="mozHidden",e="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(d="msHidden",e="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(d="webkitHidden",e="webkitvisibilitychange");"onpageshow"in window&&"onpagehide"in window&&window.addEventListener("pageshow",b,!1);d&&e&&document.addEventListener(e,a,!1)};return c}(d.DeviceContext);d.HTML5DeviceContext=
e;e.prototype.__class__="egret.HTML5DeviceContext"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b){this.canvas=b;this.canvasContext=b.getContext("2d");var a=this.canvasContext.setTransform,c=this;this.canvasContext.setTransform=function(b,d,e,f,m,q){c._matrixA=b;c._matrixB=d;c._matrixC=e;c._matrixD=f;c._matrixTx=m;c._matrixTy=q;a.call(c.canvasContext,b,d,e,f,m,q)};this._matrixA=1;this._matrixC=this._matrixB=0;this._matrixD=1;this._transformTy=this._transformTx=this._matrixTy=this._matrixTx=0;e.call(this)}__extends(c,e);c.prototype.clearScreen=function(){this.setTransform(d.Matrix.identity.identity());
for(var b=d.RenderFilter.getInstance().getDrawAreaList(),a=0,c=b.length;a<c;a++){var e=b[a];this.clearRect(e.x+this._transformTx,e.y+this._transformTy,e.width,e.height)}this.renderCost=0};c.prototype.clearRect=function(b,a,c,d){this.canvasContext.clearRect(b,a,c,d)};c.prototype.drawImage=function(b,a,c,k,n,l,h,m,q){a/=d.MainContext.instance.rendererContext.texture_scale_factor;c/=d.MainContext.instance.rendererContext.texture_scale_factor;k/=d.MainContext.instance.rendererContext.texture_scale_factor;
n/=d.MainContext.instance.rendererContext.texture_scale_factor;b=b._bitmapData;l+=this._transformTx;h+=this._transformTy;var s=d.getTimer();this.canvasContext.drawImage(b,a,c,k,n,l,h,m,q);e.prototype.drawImage.call(this,b,a,c,k,n,l,h,m,q);this.renderCost+=d.getTimer()-s};c.prototype.setTransform=function(b){1==b.a&&0==b.b&&0==b.c&&1==b.d&&1==this._matrixA&&0==this._matrixB&&0==this._matrixC&&1==this._matrixD?(this._transformTx=b.tx-this._matrixTx,this._transformTy=b.ty-this._matrixTy):(this._transformTx=
this._transformTy=0,this._matrixA==b.a&&this._matrixB==b.b&&this._matrixC==b.c&&this._matrixD==b.d&&this._matrixTx==b.tx&&this._matrixTy==b.ty||this.canvasContext.setTransform(b.a,b.b,b.c,b.d,b.tx,b.ty))};c.prototype.setAlpha=function(b,a){b!=this.canvasContext.globalAlpha&&(this.canvasContext.globalAlpha=b);a?(this.blendValue=a,this.canvasContext.globalCompositeOperation=a):this.blendValue!=d.BlendMode.NORMAL&&(this.blendValue=d.BlendMode.NORMAL,this.canvasContext.globalCompositeOperation=d.BlendMode.NORMAL)};
c.prototype.setupFont=function(b){var a=this.canvasContext,c=b.italic?"italic ":"normal ",c=c+(b.bold?"bold ":"normal "),c=c+(b.size+"px "+b.fontFamily);a.font=c;a.textAlign="left";a.textBaseline="middle"};c.prototype.measureText=function(b){return this.canvasContext.measureText(b).width};c.prototype.drawText=function(b,a,c,d,n){var l=b._strokeColorString,h=b.stroke,m=this.canvasContext;m.fillStyle=b._textColorString;m.strokeStyle=l;h&&(m.lineWidth=2*h,m.strokeText(a,c+this._transformTx,d+this._transformTy,
n||65535));m.fillText(a,c+this._transformTx,d+this._transformTy,n||65535);e.prototype.drawText.call(this,b,a,c,d,n)};c.prototype.strokeRect=function(b,a,c,d,e){this.canvasContext.strokeStyle=e;this.canvasContext.strokeRect(b,a,c,d)};c.prototype.pushMask=function(b){this.canvasContext.save();this.canvasContext.beginPath();this.canvasContext.rect(b.x+this._transformTx,b.y+this._transformTy,b.width,b.height);this.canvasContext.clip();this.canvasContext.closePath()};c.prototype.popMask=function(){this.canvasContext.restore();
this.canvasContext.setTransform(1,0,0,1,0,0)};return c}(d.RendererContext);d.HTML5CanvasRenderer=e;e.prototype.__class__="egret.HTML5CanvasRenderer"})(egret||(egret={}));var egret_h5_graphics;
(function(d){d.beginFill=function(d,c){"undefined"===typeof c&&(c=1);var b="rgba("+(d>>16)+","+((d&65280)>>8)+","+(d&255)+","+c+")";this.fillStyleColor=b;this.commandQueue.push(new e(this._setStyle,this,[b]))};d.drawRect=function(d,c,b,a){this.commandQueue.push(new e(function(a,b,c,d){var e=this.renderContext;this.canvasContext.beginPath();this.canvasContext.rect(e._transformTx+a,e._transformTy+b,c,d);this.canvasContext.closePath()},this,[d,c,b,a]));this._fill()};d.drawCircle=function(d,c,b){this.commandQueue.push(new e(function(a,
b,c){var d=this.renderContext;this.canvasContext.beginPath();this.canvasContext.arc(d._transformTx+a,d._transformTy+b,c,0,2*Math.PI);this.canvasContext.closePath()},this,[d,c,b]));this._fill()};d.lineStyle=function(d,c,b,a,g,k,n,l){"undefined"===typeof d&&(d=NaN);"undefined"===typeof c&&(c=0);"undefined"===typeof b&&(b=1);"undefined"===typeof a&&(a=!1);"undefined"===typeof g&&(g="normal");"undefined"===typeof k&&(k=null);"undefined"===typeof n&&(n=null);"undefined"===typeof l&&(l=3);this.strokeStyleColor&&
(this.createEndLineCommand(),this.commandQueue.push(this.endLineCommand));this.strokeStyleColor=c="rgba("+(c>>16)+","+((c&65280)>>8)+","+(c&255)+","+b+")";this.commandQueue.push(new e(function(a,b){this.canvasContext.lineWidth=a;this.canvasContext.strokeStyle=b;this.canvasContext.beginPath()},this,[d,c]));"undefined"===typeof this.lineX&&(this.lineY=this.lineX=0);this.moveTo(this.lineX,this.lineY)};d.lineTo=function(d,c){this.commandQueue.push(new e(function(b,a){var c=this.renderContext;this.canvasContext.lineTo(c._transformTx+
b,c._transformTy+a)},this,[d,c]));this.lineX=d;this.lineY=c};d.curveTo=function(d,c,b,a){this.commandQueue.push(new e(function(a,b,c,d){var e=this.renderContext;this.canvasContext.quadraticCurveTo(e._transformTx+a,e._transformTy+b,c,d)},this,[d,c,b,a]));this.lineX=b;this.lineY=a};d.moveTo=function(d,c){this.commandQueue.push(new e(function(b,a){var c=this.renderContext;this.canvasContext.moveTo(c._transformTx+b,c._transformTy+a)},this,[d,c]))};d.clear=function(){this.lineY=this.lineX=this.commandQueue.length=
0;this.fillStyleColor=this.strokeStyleColor=null};d.createEndFillCommand=function(){this.endFillCommand||(this.endFillCommand=new e(function(){this.canvasContext.fill();this.canvasContext.closePath()},this,null))};d.endFill=function(){null!=this.fillStyleColor&&this._fill();this.fillStyleColor=null};d._fill=function(){this.fillStyleColor&&(this.createEndFillCommand(),this.commandQueue.push(this.endFillCommand))};d.createEndLineCommand=function(){this.endLineCommand||(this.endLineCommand=new e(function(){this.canvasContext.stroke();
this.canvasContext.closePath()},this,null))};d._draw=function(d){this.renderContext=d;d=this.canvasContext=this.renderContext.canvasContext;d.save();var c=this.commandQueue.length;this.strokeStyleColor&&0<c&&this.commandQueue[c-1]!=this.endLineCommand&&(this.createEndLineCommand(),this.commandQueue.push(this.endLineCommand));for(var b=0;b<c;b++){var a=this.commandQueue[b];a.method.apply(a.thisObject,a.args)}d.restore()};var e=function(){return function(d,c,b){this.method=d;this.thisObject=c;this.args=
b}}();e.prototype.__class__="Command";d._setStyle=function(d){this.canvasContext.fillStyle=d;this.canvasContext.beginPath()};d.init=function(){for(var e in d)egret.Graphics.prototype[e]=d[e];egret.RendererContext.createRendererContext=function(c){return new egret.HTML5CanvasRenderer(c)}}})(egret_h5_graphics||(egret_h5_graphics={}));egret_h5_graphics.init();
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b){e.call(this);this.size=2E3;this.vertSize=6;this.contextLost=!1;this.glContextId=0;this.currentBlendMode="";this.currentBaseTexture=null;this.currentBatchSize=0;this.maskList=[];this.maskDataFreeList=[];this.canvasContext=document.createElement("canvas").getContext("2d");console.log("\u4f7f\u7528WebGL\u6a21\u5f0f");this.canvas=b;b.addEventListener("webglcontextlost",this.handleContextLost.bind(this),!1);b.addEventListener("webglcontextrestored",this.handleContextRestored.bind(this),
!1);this.projectionX=b.width/2;this.projectionY=-b.height/2;b=6*this.size;this.vertices=new Float32Array(4*this.size*this.vertSize);this.indices=new Uint16Array(b);for(var a=0,c=0;a<b;a+=6,c+=4)this.indices[a+0]=c+0,this.indices[a+1]=c+1,this.indices[a+2]=c+2,this.indices[a+3]=c+0,this.indices[a+4]=c+2,this.indices[a+5]=c+3;this.initWebGL();this.shaderManager=new d.WebGLShaderManager(this.gl);this.worldTransform=new d.Matrix;this.initBlendMode();d.MainContext.instance.addEventListener(d.Event.FINISH_RENDER,
this._draw,this);d.TextField.prototype._draw=function(a){this.getDirty()&&(this.cacheAsBitmap=!0);d.DisplayObject.prototype._draw.call(this,a)}}__extends(c,e);c.prototype.handleContextLost=function(){this.contextLost=!0};c.prototype.handleContextRestored=function(){this.initWebGL();this.shaderManager.setContext(this.gl);this.contextLost=!1};c.prototype.initWebGL=function(){for(var b={stencil:!0},a,c=["experimental-webgl","webgl"],d=0;d<c.length;d++){try{a=this.canvas.getContext(c[d],b)}catch(e){}if(a)break}if(!a)throw Error("\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301webgl");
this.setContext(a)};c.prototype.setContext=function(b){this.gl=b;b.id=this.glContextId++;this.vertexBuffer=b.createBuffer();this.indexBuffer=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.indexBuffer);b.bufferData(b.ELEMENT_ARRAY_BUFFER,this.indices,b.STATIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,this.vertexBuffer);b.bufferData(b.ARRAY_BUFFER,this.vertices,b.DYNAMIC_DRAW);b.disable(b.DEPTH_TEST);b.disable(b.CULL_FACE);b.enable(b.BLEND);b.colorMask(!0,!0,!0,!0)};c.prototype.initBlendMode=function(){c.blendModesWebGL[d.BlendMode.NORMAL]=
[this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA];c.blendModesWebGL[d.BlendMode.ADD]=[this.gl.SRC_ALPHA,this.gl.DST_ALPHA]};c.prototype.start=function(){if(!this.contextLost){var b=this.gl;b.activeTexture(b.TEXTURE0);b.bindBuffer(b.ARRAY_BUFFER,this.vertexBuffer);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var a=this.shaderManager.defaultShader;b.uniform2f(a.projectionVector,this.projectionX,this.projectionY);var c=4*this.vertSize;b.vertexAttribPointer(a.aVertexPosition,2,b.FLOAT,!1,c,0);b.vertexAttribPointer(a.aTextureCoord,
2,b.FLOAT,!1,c,8);b.vertexAttribPointer(a.colorAttribute,2,b.FLOAT,!1,c,16);this.setBlendMode(d.BlendMode.NORMAL)}};c.prototype.clearScreen=function(){var b=this.gl;b.colorMask(!0,!0,!0,!0);for(var a=d.RenderFilter.getInstance().getDrawAreaList(),c=0,e=a.length;c<e;c++){var f=a[c];b.viewport(f.x,f.y,f.width,f.height);b.bindFramebuffer(b.FRAMEBUFFER,null);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT)}this.renderCost=0};c.prototype.setBlendMode=function(b){this.currentBlendMode!=b&&(this.currentBlendMode=
b,b=c.blendModesWebGL[this.currentBlendMode],this.gl.blendFunc(b[0],b[1]))};c.prototype.drawImage=function(b,a,c,e,f,l,h,m,q){if(!this.contextLost){var s=d.MainContext.instance.rendererContext.texture_scale_factor;a/=s;c/=s;e/=s;f/=s;this.createWebGLTexture(b);if(b.webGLTexture!==this.currentBaseTexture||this.currentBatchSize>=this.size)this._draw(),this.currentBaseTexture=b.webGLTexture;var r=this.worldTransform,p=r.a,t=r.b,D=r.c,A=r.d,y=r.tx,C=r.ty;0==l&&0==h||r.append(1,0,0,1,l,h);1==e/m&&1==f/
q||r.append(m/e,0,0,q/f,0,0);l=r.a;h=r.b;m=r.c;q=r.d;var s=r.tx,w=r.ty;r.a=p;r.b=t;r.c=D;r.d=A;r.tx=y;r.ty=C;p=b._sourceWidth;t=b._sourceHeight;b=e;r=f;a/=p;c/=t;e/=p;f/=t;p=this.vertices;t=4*this.currentBatchSize*this.vertSize;D=this.worldAlpha;p[t++]=s;p[t++]=w;p[t++]=a;p[t++]=c;p[t++]=D;p[t++]=16777215;p[t++]=l*b+s;p[t++]=h*b+w;p[t++]=e+a;p[t++]=c;p[t++]=D;p[t++]=16777215;p[t++]=l*b+m*r+s;p[t++]=q*r+h*b+w;p[t++]=e+a;p[t++]=f+c;p[t++]=D;p[t++]=16777215;p[t++]=m*r+s;p[t++]=q*r+w;p[t++]=a;p[t++]=
f+c;p[t++]=D;p[t++]=16777215;this.currentBatchSize++}};c.prototype._draw=function(){if(0!=this.currentBatchSize&&!this.contextLost){var b=d.getTimer();this.start();var a=this.gl;a.bindTexture(a.TEXTURE_2D,this.currentBaseTexture);var c=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize);a.bufferSubData(a.ARRAY_BUFFER,0,c);a.drawElements(a.TRIANGLES,6*this.currentBatchSize,a.UNSIGNED_SHORT,0);this.currentBatchSize=0;this.renderCost+=d.getTimer()-b;d.Profiler.getInstance().onDrawImage()}};
c.prototype.setTransform=function(b){var a=this.worldTransform;a.a=b.a;a.b=b.b;a.c=b.c;a.d=b.d;a.tx=b.tx;a.ty=b.ty};c.prototype.setAlpha=function(b,a){this.worldAlpha=b;a&&this.setBlendMode(a)};c.prototype.createWebGLTexture=function(b){if(!b.webGLTexture){var a=this.gl;b.webGLTexture=a.createTexture();a.bindTexture(a.TEXTURE_2D,b.webGLTexture);a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b._bitmapData);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,
a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.bindTexture(a.TEXTURE_2D,null)}};c.prototype.pushMask=function(b){this._draw();var a=this.gl;0==this.maskList.length&&(a.enable(a.STENCIL_TEST),a.stencilFunc(a.ALWAYS,1,1));var c=this.maskDataFreeList.pop();c?(c.x=b.x,c.y=b.y,c.w=b.width,c.h=b.height):c={x:b.x,y:b.y,w:b.width,h:b.height};this.maskList.push(c);
a.colorMask(!1,!1,!1,!1);a.stencilOp(a.KEEP,a.KEEP,a.INCR);this.renderGraphics(c);a.colorMask(!0,!0,!0,!0);a.stencilFunc(a.NOTEQUAL,0,this.maskList.length);a.stencilOp(a.KEEP,a.KEEP,a.KEEP)};c.prototype.popMask=function(){this._draw();var b=this.gl,a=this.maskList.pop();a&&(b.colorMask(!1,!1,!1,!1),b.stencilOp(b.KEEP,b.KEEP,b.DECR),this.renderGraphics(a),b.colorMask(!0,!0,!0,!0),b.stencilFunc(b.NOTEQUAL,0,this.maskList.length),b.stencilOp(b.KEEP,b.KEEP,b.KEEP),this.maskDataFreeList.push(a));0==this.maskList.length&&
b.disable(b.STENCIL_TEST)};c.prototype.setupFont=function(b){var a=this.canvasContext,c=b.italic?"italic ":"normal ",c=c+(b.bold?"bold ":"normal "),c=c+(b.size+"px "+b.fontFamily);a.font=c;a.textAlign="left";a.textBaseline="middle"};c.prototype.measureText=function(b){return this.canvasContext.measureText(b).width};c.prototype.renderGraphics=function(b){var a=this.gl,c=this.shaderManager.primitiveShader;this.graphicsPoints?(this.graphicsPoints.length=0,this.graphicsIndices.length=0):(this.graphicsPoints=
[],this.graphicsIndices=[],this.graphicsBuffer=a.createBuffer(),this.graphicsIndexBuffer=a.createBuffer());this.updateGraphics(b);this.shaderManager.activateShader(c);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.uniformMatrix3fv(c.translationMatrix,!1,this.worldTransform.toArray(!0));a.uniform2f(c.projectionVector,this.projectionX,-this.projectionY);a.uniform2f(c.offsetVector,0,0);a.uniform3fv(c.tintColor,[1,1,1]);a.uniform1f(c.alpha,this.worldAlpha);a.bindBuffer(a.ARRAY_BUFFER,this.graphicsBuffer);
a.vertexAttribPointer(c.aVertexPosition,2,a.FLOAT,!1,24,0);a.vertexAttribPointer(c.colorAttribute,4,a.FLOAT,!1,24,8);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.graphicsIndexBuffer);a.drawElements(a.TRIANGLE_STRIP,this.graphicsIndices.length,a.UNSIGNED_SHORT,0);this.shaderManager.activateShader(this.shaderManager.defaultShader)};c.prototype.updateGraphics=function(b){var a=this.gl;this.buildRectangle(b);a.bindBuffer(a.ARRAY_BUFFER,this.graphicsBuffer);a.bufferData(a.ARRAY_BUFFER,new Float32Array(this.graphicsPoints),
a.STATIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.graphicsIndexBuffer);a.bufferData(a.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.graphicsIndices),a.STATIC_DRAW)};c.prototype.buildRectangle=function(b){var a=b.x,c=b.y,d=b.w;b=b.h;var e=this.graphicsPoints,f=this.graphicsIndices,h=e.length/6;e.push(a,c);e.push(0,0,0,1);e.push(a+d,c);e.push(0,0,0,1);e.push(a,c+b);e.push(0,0,0,1);e.push(a+d,c+b);e.push(0,0,0,1);f.push(h,h,h+1,h+2,h+3,h+3)};c.blendModesWebGL={};return c}(d.RendererContext);d.WebGLRenderer=
e;e.prototype.__class__="egret.WebGLRenderer"})(egret||(egret={}));
(function(d){var e=function(){function d(){}d.compileProgram=function(c,b,a){a=d.compileFragmentShader(c,a);b=d.compileVertexShader(c,b);var e=c.createProgram();c.attachShader(e,b);c.attachShader(e,a);c.linkProgram(e);c.getProgramParameter(e,c.LINK_STATUS)||console.log("\u65e0\u6cd5\u521d\u59cb\u5316\u7740\u8272\u5668");return e};d.compileFragmentShader=function(c,b){return d._compileShader(c,b,c.FRAGMENT_SHADER)};d.compileVertexShader=function(c,b){return d._compileShader(c,b,c.VERTEX_SHADER)};d._compileShader=
function(c,b,a){a=c.createShader(a);c.shaderSource(a,b);c.compileShader(a);return c.getShaderParameter(a,c.COMPILE_STATUS)?a:(console.log(c.getShaderInfoLog(a)),null)};d.checkCanUseWebGL=function(){if(void 0==d.canUseWebGL)try{var c=document.createElement("canvas");d.canUseWebGL=!!window.WebGLRenderingContext&&!(!c.getContext("webgl")&&!c.getContext("experimental-webgl"))}catch(b){d.canUseWebGL=!1}return d.canUseWebGL};return d}();d.WebGLUtils=e;e.prototype.__class__="egret.WebGLUtils"})(egret||(egret=
{}));
(function(d){var e=function(){function b(a){this.maxAttibs=10;this.attribState=[];this.tempAttribState=[];for(var b=0;b<this.maxAttibs;b++)this.attribState[b]=!1;this.setContext(a)}b.prototype.setContext=function(a){this.gl=a;this.primitiveShader=new c(a);this.defaultShader=new f(a);this.activateShader(this.defaultShader)};b.prototype.activateShader=function(a){this.gl.useProgram(a.program);this.setAttribs(a.attributes)};b.prototype.setAttribs=function(a){var b,c;c=this.tempAttribState.length;for(b=
0;b<c;b++)this.tempAttribState[b]=!1;c=a.length;for(b=0;b<c;b++)this.tempAttribState[a[b]]=!0;a=this.gl;c=this.attribState.length;for(b=0;b<c;b++)this.attribState[b]!==this.tempAttribState[b]&&(this.attribState[b]=this.tempAttribState[b],this.tempAttribState[b]?a.enableVertexAttribArray(b):a.disableVertexAttribArray(b))};return b}();d.WebGLShaderManager=e;e.prototype.__class__="egret.WebGLShaderManager";var f=function(){function b(a){this.defaultVertexSrc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec2 aColor;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nconst vec2 center = vec2(-1.0, 1.0);\nvoid main(void) {\n   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;\n   vColor = vec4(color * aColor.x, aColor.x);\n}";
this.program=null;this.fragmentSrc="precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void) {\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}";this.gl=a;this.init()}b.prototype.init=function(){var a=this.gl,b=d.WebGLUtils.compileProgram(a,this.defaultVertexSrc,this.fragmentSrc);a.useProgram(b);this.uSampler=a.getUniformLocation(b,"uSampler");this.projectionVector=a.getUniformLocation(b,"projectionVector");this.offsetVector=
a.getUniformLocation(b,"offsetVector");this.dimensions=a.getUniformLocation(b,"dimensions");this.aVertexPosition=a.getAttribLocation(b,"aVertexPosition");this.aTextureCoord=a.getAttribLocation(b,"aTextureCoord");this.colorAttribute=a.getAttribLocation(b,"aColor");-1===this.colorAttribute&&(this.colorAttribute=2);this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute];this.program=b};return b}();d.EgretShader=f;f.prototype.__class__="egret.EgretShader";var c=function(){function b(a){this.alpha=
this.translationMatrix=this.attributes=this.colorAttribute=this.aVertexPosition=this.tintColor=this.offsetVector=this.projectionVector=this.program=null;this.fragmentSrc="precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n   gl_FragColor = vColor;\n}";this.vertexSrc="attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nuniform float alpha;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void) {\n   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);\n   v -= offsetVector.xyx;\n   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}";
this.gl=a;this.init()}b.prototype.init=function(){var a=this.gl,b=d.WebGLUtils.compileProgram(a,this.vertexSrc,this.fragmentSrc);a.useProgram(b);this.projectionVector=a.getUniformLocation(b,"projectionVector");this.offsetVector=a.getUniformLocation(b,"offsetVector");this.tintColor=a.getUniformLocation(b,"tint");this.aVertexPosition=a.getAttribLocation(b,"aVertexPosition");this.colorAttribute=a.getAttribLocation(b,"aColor");this.attributes=[this.aVertexPosition,this.colorAttribute];this.translationMatrix=
a.getUniformLocation(b,"translationMatrix");this.alpha=a.getUniformLocation(b,"alpha");this.program=b};return b}();d.PrimitiveShader=c;c.prototype.__class__="egret.PrimitiveShader"})(egret||(egret={}));__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this)}__extends(c,e);c.prototype.proceed=function(b){function a(a){d.IOErrorEvent.dispatchIOErrorEvent(b)}function c(a){switch(b.dataFormat){case d.URLLoaderDataFormat.TEXT:b.data=f.responseText;break;case d.URLLoaderDataFormat.VARIABLES:b.data=new d.URLVariables(f.responseText);break;case d.URLLoaderDataFormat.BINARY:b.data=f.response;break;default:b.data=f.responseText}d.callLater(d.Event.dispatchEvent,d.Event,b,d.Event.COMPLETE)}if(b.dataFormat==
d.URLLoaderDataFormat.TEXTURE)this.loadTexture(b);else if(b.dataFormat==d.URLLoaderDataFormat.SOUND)this.loadSound(b);else{var e=b._request,f=this.getXHR();f.onerror=a;f.onload=c;f.open(e.method,e.url,!0);this.setResponseType(f,b.dataFormat);e.method!=d.URLRequestMethod.GET&&e.data?e.data instanceof d.URLVariables?(f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(e.data.toString())):(f.setRequestHeader("Content-Type","multipart/form-data"),f.send(e.data)):f.send()}};c.prototype.loadSound=
function(b){function a(f){window.clearTimeout(e.__timeoutId);e.removeEventListener("canplaythrough",a,!1);e.removeEventListener("error",c,!1);f=new d.Sound;f.audio=e;b.data=f;d.callLater(d.Event.dispatchEvent,d.Event,b,d.Event.COMPLETE)}function c(f){window.clearTimeout(e.__timeoutId);e.removeEventListener("canplaythrough",a,!1);e.removeEventListener("error",c,!1);d.IOErrorEvent.dispatchIOErrorEvent(b)}var e=new Audio(b._request.url);e.__timeoutId=window.setTimeout(a,100);e.addEventListener("canplaythrough",
a,!1);e.addEventListener("error",c,!1);e.load()};c.prototype.getXHR=function(){return window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP")};c.prototype.setResponseType=function(b,a){switch(a){case d.URLLoaderDataFormat.TEXT:case d.URLLoaderDataFormat.VARIABLES:b.responseType=d.URLLoaderDataFormat.TEXT;break;case d.URLLoaderDataFormat.BINARY:b.responseType="arraybuffer";break;default:b.responseType=a}};c.prototype.loadTexture=function(b){var a=b._request,c=new Image;
c.crossOrigin="Anonymous";c.onload=function(a){c.onerror=null;c.onload=null;a=new d.Texture;a._setBitmapData(c);b.data=a;d.callLater(d.Event.dispatchEvent,d.Event,b,d.Event.COMPLETE)};c.onerror=function(a){c.onerror=null;c.onload=null;d.IOErrorEvent.dispatchIOErrorEvent(b)};c.src=a.url};return c}(d.NetContext);d.HTML5NetContext=e;e.prototype.__class__="egret.HTML5NetContext"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(b){e.call(this);this.canvas=b;this._isTouchDown=!1}__extends(c,e);c.prototype.run=function(){var b=this;window.navigator.msPointerEnabled?(this.canvas.addEventListener("MSPointerDown",function(a){b._onTouchBegin(a);a.stopPropagation();a.preventDefault()},!1),this.canvas.addEventListener("MSPointerMove",function(a){b._onTouchMove(a);a.stopPropagation();a.preventDefault()},!1),this.canvas.addEventListener("MSPointerUp",function(a){b._onTouchEnd(a);a.stopPropagation();
a.preventDefault()},!1)):d.MainContext.deviceType==d.MainContext.DEVICE_MOBILE?this.addTouchListener():d.MainContext.deviceType==d.MainContext.DEVICE_PC&&(this.addTouchListener(),this.addMouseListener());window.addEventListener("mousedown",function(a){b.inOutOfCanvas(a)?b.dispatchLeaveStageEvent():b._isTouchDown=!0});window.addEventListener("mouseup",function(a){b._isTouchDown&&b.inOutOfCanvas(a)&&b.dispatchLeaveStageEvent();b._isTouchDown=!1})};c.prototype.addMouseListener=function(){var b=this;
this.canvas.addEventListener("mousedown",function(a){b._onTouchBegin(a)});this.canvas.addEventListener("mousemove",function(a){b._onTouchMove(a)});this.canvas.addEventListener("mouseup",function(a){b._onTouchEnd(a)})};c.prototype.addTouchListener=function(){var b=this;this.canvas.addEventListener("touchstart",function(a){for(var c=a.changedTouches.length,d=0;d<c&&d<b.maxTouches;d++)b._onTouchBegin(a.changedTouches[d]);a.stopPropagation();a.preventDefault()},!1);this.canvas.addEventListener("touchmove",
function(a){for(var c=a.changedTouches.length,d=0;d<c&&d<b.maxTouches;d++)b._onTouchMove(a.changedTouches[d]);a.stopPropagation();a.preventDefault()},!1);this.canvas.addEventListener("touchend",function(a){for(var c=a.changedTouches.length,d=0;d<c&&d<b.maxTouches;d++)b._onTouchEnd(a.changedTouches[d]);a.stopPropagation();a.preventDefault()},!1);this.canvas.addEventListener("touchcancel",function(a){for(var c=a.changedTouches.length,d=0;d<c&&d<b.maxTouches;d++)b._onTouchEnd(a.changedTouches[d]);a.stopPropagation();
a.preventDefault()},!1)};c.prototype.inOutOfCanvas=function(b){b=this.getLocation(this.canvas,b);return 0>b.x||0>b.y||b.x>this.canvas.width||b.y>this.canvas.height?!0:!1};c.prototype.dispatchLeaveStageEvent=function(){d.MainContext.instance.stage.dispatchEventWith(d.Event.LEAVE_STAGE)};c.prototype._onTouchBegin=function(b){var a=this.getLocation(this.canvas,b),c=-1;b.hasOwnProperty("identifier")&&(c=b.identifier);this.onTouchBegan(a.x,a.y,c)};c.prototype._onTouchMove=function(b){var a=this.getLocation(this.canvas,
b),c=-1;b.hasOwnProperty("identifier")&&(c=b.identifier);this.onTouchMove(a.x,a.y,c)};c.prototype._onTouchEnd=function(b){var a=this.getLocation(this.canvas,b),c=-1;b.hasOwnProperty("identifier")&&(c=b.identifier);this.onTouchEnd(a.x,a.y,c)};c.prototype.getLocation=function(b,a){var c=document.documentElement,e=window,f,l;"function"===typeof b.getBoundingClientRect?(l=b.getBoundingClientRect(),f=l.left,l=l.top):l=f=0;f+=e.pageXOffset-c.clientLeft;l+=e.pageYOffset-c.clientTop;null!=a.pageX?(c=a.pageX,
e=a.pageY):(f-=document.body.scrollLeft,l-=document.body.scrollTop,c=a.clientX,e=a.clientY);var h=d.Point.identity;h.x=(c-f)/d.StageDelegate.getInstance().getScaleX();h.y=(e-l)/d.StageDelegate.getInstance().getScaleY();return h};return c}(d.TouchContext);d.HTML5TouchContext=e;e.prototype.__class__="egret.HTML5TouchContext"})(egret||(egret={}));
__extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f};
(function(d){var e=function(e){function c(){e.call(this);this._isSupportDOMParser=this._xmlDict=this._parser=null;this._xmlDict={};window.DOMParser?(this._isSupportDOMParser=!0,this._parser=new DOMParser):this._isSupportDOMParser=!1}__extends(c,e);c.getInstance=function(){c._instance||(c._instance=new c);return c._instance};c.prototype.parserXML=function(b){for(var a=0;"\n"==b.charAt(a)||"\t"==b.charAt(a)||"\r"==b.charAt(a)||" "==b.charAt(a);)a++;0!=a&&(b=b.substring(a,b.length));this._isSupportDOMParser?
a=this._parser.parseFromString(b,"text/xml"):(a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(b));null==a&&d.Logger.info("xml not found!");return a};c._instance=null;return c}(d.HashObject);d.SAXParser=e;e.prototype.__class__="egret.SAXParser"})(egret||(egret={}));
var Utils=function(){function d(){}d.getStageWidth=function(){return egret.MainContext.instance.stage.stageWidth};d.getStageHeight=function(){return egret.MainContext.instance.stage.stageHeight};d.setResult=function(d){this._result=d};d.getResult=function(){return this._result};d.createBitmapByImageName=function(d){var f=new egret.Bitmap;d=RES.getRes(d);f.texture=d;return f};d.createBitmapBySheetName=function(d,f){var c=new egret.Bitmap,b=f.getTexture(d);c.texture=b;return c};d.isWeiXin=function(){return"MicroMessenger"==
navigator.userAgent.toString().match(/MicroMessenger/i)?!0:!1};d.isMobile=function(){return egret.MainContext.deviceType==egret.MainContext.DEVICE_MOBILE?!0:!1};return d}();Utils.prototype.__class__="Utils";
var Data=function(){function d(){}d.getZ=function(d){return 5<=d%10&&9>=d%10?0:1};d.isTop=function(d){switch(d){case 0:case 10:case 20:case 30:return!0}return!1};d.isDown=function(d){switch(d){case 9:case 19:case 29:return!0}return!1};Object.defineProperty(d,"sheetButtRes",{get:function(){return this._sheetButtRes},set:function(d){this._sheetButtRes=d},enumerable:!0,configurable:!0});Object.defineProperty(d,"sheetGameRes",{get:function(){return this._sheetGameRes},set:function(d){this._sheetGameRes=
d},enumerable:!0,configurable:!0});Object.defineProperty(d,"sheetOverRes",{get:function(){return this._sheetOverRes},set:function(d){this._sheetOverRes=d},enumerable:!0,configurable:!0});d.getTaskArray=function(){for(var d=this.gameBase.task.length,f=0;f<d;f++)if(this.deleteGemsNum<=this.gameBase.task[f].num)return this.gameBase.task[f];return this.deleteGemsNum>this.gameBase.task[d-1].num?this.gameBase.task[d-1]:null};d.getComboNickName=function(){for(var d=this.gameBase.combo.length,f=0;f<d;f++)if(this.comboNum<=
this.gameBase.combo[f].num_qiang)return this.gameBase.combo[f].des_qiang;return this.comboNum>this.gameBase.combo[d-1].num_qiang?this.gameBase.combo[d-1].des_qiang:null};d.getShareWord=function(){var d=Math.floor(4*Math.random());3<d&&(d=3);switch(d){case 0:this.shareString="\u80a5\u718a\u53c8\u5728\u5077\u5403\u8702\u871c\uff01Fighting\uff0c\u5c0f\u871c\u8702\u513f\uff0c\u6211\u53ee\u4e86"+this.deleteGemsNum+"\u4e2a\u5305\uff01";break;case 1:this.shareString="\u9762\u5bf9\u80a5\u718a\uff0c\u4eca\u5929\u6211\u5c04\u4e86"+
this.comboNum+"\u6b21\uff0c\u563f\u563f\uff0c\u4f60\u5462\uff1f";break;case 2:this.shareString="\u4e00\u53ea\u718a\u4e0e\u4e00\u7fa4\u871c\u8702\u7684\u60e8\u75db\u6545\u4e8b\uff0c\u6211\u7684\u60e8\u75db\u6307\u6570"+this.deleteGemsNum+"\uff01";break;case 3:this.shareString="\u4e00\u53e3\u8702\u871c\u5bfc\u81f4\u7684\u201c\u8840\u6848\u201d\uff0c\u54fc\u54fc\uff0c\u6211\u7684\u8840\u6848\u6307\u6570"+this.deleteGemsNum+"\uff0c\u4f60\u5462\uff1f"} console.dir(this.shareString);return this.shareString};d.deleteGemsNum=0;d.comboNum=
0;return d}();Data.prototype.__class__="Data";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},BeesAi=function(d){function e(e){d.call(this);this.bees=null;this.bees=Utils.createBitmapBySheetName("bees_"+(e+1),Data.sheetGameRes);this.addChild(this.bees);this.tweenRun()}__extends(e,d);e.prototype.tweenRun=function(){egret.Tween.get(this.bees,{loop:!0}).to({y:this.bees.y+10},800).to({y:this.bees.y},800)};return e}(egret.Sprite);
BeesAi.prototype.__class__="BeesAi";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},AnimationDragon=function(d){function e(e){d.call(this);this.armature=null;var c=RES.getRes(e+"_skeleton_json"),b=RES.getRes(e+"_json"),a=RES.getRes(e+"_png"),g=new dragonBones.factorys.EgretFactory;g.addSkeletonData(dragonBones.objects.DataParser.parseSkeletonData(c));g.addTextureAtlas(new dragonBones.textures.EgretTextureAtlas(a,b));
this.armature=g.buildArmature(e);e=this.armature.getDisplay();dragonBones.animation.WorldClock.clock.add(this.armature);this.addChild(e);e.x=this.x;e.y=this.y;egret.Ticker.getInstance().register(function(a){dragonBones.animation.WorldClock.clock.advanceTime(a/1E3)},this)}__extends(e,d);e.prototype.setPlayTo=function(d){this.armature&&this.armature.animation.gotoAndPlay(d)};return e}(egret.DisplayObjectContainer);AnimationDragon.prototype.__class__="AnimationDragon";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},MyButton=function(d){function e(e){d.call(this);this.buttSkin=Utils.createBitmapBySheetName(e,Data.sheetButtRes);this.addChild(this.buttSkin);this.anchorX=this.anchorY=0.5;this.buttSkin.touchEnabled=!0;this.buttSkin.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)}__extends(e,d);e.prototype.setTexture=function(d){this.buttSkin.texture=
Data.sheetButtRes.getTexture(d)};e.prototype.onTouchBegin=function(d){this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this);this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this);this.buttSkin.scaleY=0.9};e.prototype.onTouchMove=function(d){this.buttSkin.scaleY=1};e.prototype.onTouchEnd=function(d){this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this);this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this);this.buttSkin.scaleY=
1;d=new egret.Event("butt");this.dispatchEvent(d)};return e}(egret.Sprite);MyButton.prototype.__class__="MyButton";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},FlySprite=function(d){function e(e,c,b){d.call(this);this.change=this.flyTypeImg=null;this._type=0;this.maxNum=1;this.timerNum=0;this._toPos=b;this._type=e;this.flyTypeImg=Utils.createBitmapBySheetName("cell_"+e,Data.sheetGameRes);this.flyTypeImg.anchorX=this.flyTypeImg.anchorY=0.5;this.flyTypeImg.scaleX=this.flyTypeImg.scaleY=1.5;this.flyTypeImg.x=
c.x;this.flyTypeImg.y=c.y;this.addChild(this.flyTypeImg);this.tweenRun(this.flyTypeImg,1)}__extends(e,d);e.prototype.turn=function(){var d=new egret.Event("hit");this.dispatchEvent(d);this.flyTypeImg.visible=!1;this.change=Utils.createBitmapBySheetName("cell"+this._type,Data.sheetGameRes);this.change.anchorX=this.change.anchorY=0.5;this.change.scaleX=this.change.scaleY=1.5;this.change.x=this.flyTypeImg.x;this.change.y=this.flyTypeImg.y;this.change.alpha=0.8;this.addChild(this.change);egret.Tween.get(this.change,
{loop:!1}).to({alpha:0},200).call(this.removeThis,this)};e.prototype.removeThis=function(){this.flyTypeImg.parent.removeChild(this.flyTypeImg);this.flyTypeImg=null;this.change.parent.removeChild(this.change);this.change=null;this.parent.removeChild(this)};e.prototype.tweenRun=function(d,c){var b=this,a=function(){if(b.timerNum<b.maxNum){var e=[d,c],k=Math.floor(200*Math.random())-100;TweenMax.to(d,0.5,{bezier:[{x:d.x-k,y:d.y-k},{x:d.x-2*k,y:d.y-2*k},{x:b._toPos.x,y:b._toPos.y}],ease:Sine.easeIn,delay:0,
onComplete:a,onCompleteParams:e})}else b.turn();b.timerNum++};a()};return e}(egret.Sprite);FlySprite.prototype.__class__="FlySprite";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},GemCell=function(d){function e(e){d.call(this);this.rand=this._lock=this._index=this._type=0;this.index=e;this.cell=Utils.createBitmapBySheetName("baoshi1",Data.sheetGameRes);this.addChild(this.cell);this.setRandomGemTexture(0)}__extends(e,d);e.prototype.setRandomGemTexture=function(d){this.rand=d;0==d&&(this.rand=Math.floor(4*Math.random()+
1));this.type=this.rand;this.cell.texture=Data.sheetGameRes.getTexture("baoshi"+this.rand)};Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(d){this._index=d},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(d){this._type=d},enumerable:!0,configurable:!0});return e}(egret.DisplayObjectContainer);GemCell.prototype.__class__="GemCell";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},HitNotice=function(d){function e(e){d.call(this);var c=Utils.createBitmapBySheetName("comboImg",Data.sheetGameRes);c.anchorY=0.5;this.addChild(c);var b=RES.getRes("comboFont"),a=new egret.BitmapText;a.spriteSheet=b;a.text=e.toString();a.anchorY=0.5;a.scaleX=a.scaleY=0.5;this.addChild(a);a.x=this.x-(c.width+a.width/2)/2;c.x=a.x+a.width/
2}__extends(e,d);e.prototype.setEffect=function(){egret.Tween.get(this,{loop:!1}).to({scaleX:1.3,scaleY:1.3},100).to({scaleX:1,scaleY:1},100).wait(300).to({y:this.y-100,alpha:0},200).wait(500).call(this.removeThis,this)};e.prototype.removeThis=function(){this.removeChildren();this.parent=null};return e}(egret.Sprite);HitNotice.prototype.__class__="HitNotice";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},GameStage=function(d){function e(){d.call(this);this.maxPlayTimes=0;this.bear=null;this.bearY=0;this.bees=[];this.addTime=0;this.gemCell=[];this.gamePanel=null;this.selectGem=[];this.curDeleteTimes=1;this.maxPlayTimes=Data.gameBase.maxPlayTimes;this.gemPosMeta=Data.gameBase.pos;this.downBox=Utils.createBitmapByImageName("downBg");this.downBox.x=
0;this.downBox.y=Utils.getStageHeight()-this.downBox.height;var e=Utils.createBitmapByImageName("upBg");e.x=0;e.y=this.downBox.y-e.height;this.addChild(e);var c=this.downBox.y;c>e.height&&(e.y-=c-e.height,e.height=c);this.bear=new AnimationDragon("bear");this.bear.x=Utils.getStageWidth()/2;this.bear.y=this.downBox.y+3+(1.5>Utils.getStageHeight()/Utils.getStageWidth()?80:0);this.bear.setPlayTo("play01");this.addChild(this.bear);this.bearY=this.bear.y;this.toPoint=new egret.Point(this.bear.x,this.bear.y-
100);this.addChild(this.downBox);this.timePanel=new egret.Sprite;this.addChild(this.timePanel);for(e=0;2>e;e++)this.bees[e]=new BeesAi(e),this.bees[e].anchorX=this.bees[e].anchorY=0.5,this.bees[e].x=Utils.getStageWidth()/6+e*(Utils.getStageWidth()/6)*4,this.bees[e].y=this.downBox.y/2,this.timePanel.addChild(this.bees[e]);this.timeBar=Utils.createBitmapBySheetName("xiaoguo_07",Data.sheetGameRes);this.timeBar.anchorX=0.5;this.timeBar.x=Utils.getStageWidth()/2;this.timeBar.y=this.downBox.y;this.timePanel.addChild(this.timeBar);
c=Utils.createBitmapBySheetName("xiaoguo_04",Data.sheetGameRes);c.anchorY=0.5;c.y=this.timeBar.y+this.timeBar.height/2;this.timePanel.addChild(c);e=Utils.createBitmapBySheetName("xiaoguo_05",Data.sheetGameRes);e.anchorX=e.anchorY=0.5;e.x=Utils.getStageWidth()/2-8;e.y=c.y;this.timePanel.addChild(e);c=RES.getRes("fontGreen");this.timeFont=new egret.BitmapText;this.timeFont.spriteSheet=c;this.timeFont.text=this.maxPlayTimes.toString();this.timeFont.anchorX=this.timeFont.anchorY=0.5;this.timeFont.x=e.x+
10;this.timeFont.y=e.y;this.timePanel.addChild(this.timeFont);this.openCurtain();this.gameTimer=new egret.Timer(1E3,this.maxPlayTimes);this.gameTimer.addEventListener(egret.TimerEvent.TIMER,this.onTimerStart,this);this.gameTimer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onTimerEnd,this)}__extends(e,d);e.prototype.openCurtain=function(){this.curtain=new egret.Sprite;this.curtain.graphics.beginFill(0,0.5);this.curtain.graphics.drawRect(0,0,Utils.getStageWidth(),Utils.getStageHeight());this.curtain.graphics.endFill();
this.addChild(this.curtain);var d=new MyButton("start");d.x=Utils.getStageWidth()/2;d.y=Utils.getStageHeight()-d.height;this.curtain.addChild(d);d.addEventListener("butt",this.onBeginGame,this);var c=new egret.TextField;c.bold=!0;c.text="\u8bf7\u70b9\u51fb\u4efb\u610f\u4e09\u4e2a\u540c\u8272\u76f8\u8fde\u65b9\u5757";c.anchorX=0.5;c.x=d.x;c.y=d.y-0.9*d.height;this.curtain.addChild(c);this.bear.setPlayTo("play01")};e.prototype.onBeginGame=function(){this.curtain&&(this.curtain.parent.removeChild(this.curtain),
this.curtain=null);Data.deleteGemsNum=0;this.addTime=Data.comboNum=0;this.timeBar.scaleX=1;this.curDeleteTimes=0;this.timeFont.scaleX=this.timeFont.scaleY=1;this.timeFont.alpha=1;this.timeFont.text=this.maxPlayTimes.toString();if(null==this.gamePanel)this.gemCellLogic();else for(var d=0;35>d;d++)this.gemCell[d].setRandomGemTexture(0),this.gemCell[d].alpha=1,this.gemCell[d].touchEnabled=!0,egret.Tween.get(this.gemCell[d],{loop:!1}).to({scaleX:0},0).to({scaleX:1},10*d);this.gameTimer.start()};e.prototype.shakeTimePanel=
function(){1==this.timePanel.alpha&&egret.Tween.get(this.timePanel,{loop:!1}).to({alpha:0.9},0).to({x:this.timePanel.x+10,y:this.timePanel.y+10},30).to({x:this.timePanel.x-10,y:this.timePanel.y-10},60).to({x:this.timePanel.x,y:this.timePanel.y},30).to({alpha:1},0)};e.prototype.toBeat01Action=function(){1==this.bees[0].alpha&&(egret.Tween.get(this.bees[0],{loop:!1}).to({alpha:0.9},0).to({rotation:-60,x:this.bees[0].x+30,y:this.bees[0].y+60},50).to({rotation:0,x:this.bees[0].x,y:this.bees[0].y},500).to({alpha:1},
0),egret.Tween.get(this.bees[1],{loop:!1}).to({rotation:90,x:this.bees[1].x-30,y:this.bees[1].y+60},50).to({rotation:0,x:this.bees[1].x,y:this.bees[1].y},400));egret.Tween.get(this.bear,{loop:!1}).to({x:this.bear.x+10},50).to({x:this.bear.x-10},100).to({x:Utils.getStageWidth()/2},50).to({y:this.bear.y+30},100).to({y:this.bearY},300);9<=Data.comboNum?this.bear.setPlayTo("play04"):6<=Data.comboNum&&9>Data.comboNum?this.bear.setPlayTo("play03"):3<=Data.comboNum&&6>Data.comboNum?this.bear.setPlayTo("play02"):
3>Data.comboNum&&this.bear.setPlayTo("play01")};e.prototype.onTimerStart=function(){this.addTime=this.gameTimer.currentCount();var d=this.maxPlayTimes-this.addTime;0<=d&&(this.timeFont.text=d.toString(),egret.Tween.get(this.timeBar,{loop:!1}).to({scaleX:1-this.timeBar.width/(this.maxPlayTimes-1)*this.addTime/this.timeBar.width},1E3));egret.Tween.get(this.timeFont,{loop:!1}).to({scaleX:1,scaleY:1,alpha:1},0).wait(200).to({scaleX:1.5,scaleY:1.5,alpha:0},700)};e.prototype.onTimerEnd=function(){this.setGemTouch(!1);
egret.setTimeout(this.waitLastShakeOk,this,100)};e.prototype.waitLastShakeOk=function(){for(var d=0;35>d;d++){var c=600*Math.random();egret.Tween.get(this.gemCell[d],{loop:!1}).wait(c).to({y:this.gemCell[d].y+20},50).to({y:this.gemCell[d].y-10},100).to({y:this.gemCell[d].y},20).wait(200).to({y:this.gemCell[d].y+Utils.getStageHeight()},300).to({alpha:0},0).to({y:this.gemCell[d].y},0)}egret.setTimeout(this.sendCLoseMessage,this,500)};e.prototype.sendCLoseMessage=function(){var d=new egret.Event("over");
this.dispatchEvent(d)};e.prototype.gemCellLogic=function(){this.gamePanel=new egret.Sprite;this.addChild(this.gamePanel);for(var d=this.downBox.y+45,c=this.downBox.x+25,b=0;35>b;b++)this.gemCell[b]=new GemCell(b),this.gemCell[b].anchorX=this.gemCell[b].anchorY=0.5,this.gemCell[b].x=c+this.gemCell[b].width/2+0.79*this.gemPosMeta[b][0]*this.gemCell[b].width,this.gemCell[b].y=d+this.gemCell[b].height/2+1.02*this.gemPosMeta[b][1]*this.gemCell[b].height+(1==Math.floor(b/5)%2?0.51*this.gemCell[b].height:
0),this.gamePanel.addChild(this.gemCell[b]),this.gemCell[b].touchEnabled=!0,this.gemCell[b].addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchGem,this),egret.Tween.get(this.gemCell[b],{loop:!1}).to({scaleX:0},0).to({scaleX:1},10*b)};e.prototype.onTouchGem=function(d){d=d.target;d._lock=1;try{this.selectGem=[],this.curDeleteTimes<Data.gameBase.deleteAllSameMaxTimes?(this.lookingForSameType(d),this.selectGem.push(d)):(this.curDeleteTimes=0,this.lookingForAllSameType(d))}catch(c){}d=this.selectGem.length;
if(3<=d){for(var b=0;b<d;b++)egret.Tween.get(this.selectGem[b],{loop:!1}).to({alpha:0,scaleX:1.5,scaleY:1.5},20).wait(80).to({alpha:1,scaleX:1,scaleY:1},0);Data.deleteGemsNum+=d;Data.comboNum+=1;this.curDeleteTimes+=1;d=new HitNotice(Data.comboNum);d.x=Utils.getStageWidth()-d.width/2;d.y=this.downBox.y-d.height/2;this.addChild(d);d.setEffect();egret.setTimeout(this.gemDropDown,this,100)}else{for(b=0;b<d;b++)this.selectGem[b]._lock=0,egret.Tween.get(this.selectGem[b],{loop:!1}).to({scaleX:0},100).to({scaleX:1},
200);this.shakeTimePanel();this.gameTimer._currentCount+=1}};e.prototype.gemDropDown=function(){this.shakeArray=[];this.replaceArray=[];for(var d=0;35>d;d++)this.replaceArray.push(this.gemCell[d]._lock);for(var c=0;35>c;c++)if(this.replaceArray[c]){var b=new egret.Point(this.gemCell[c].x,this.gemCell[c].y),b=new FlySprite(this.gemCell[c].type,b,this.toPoint);this.addChild(b);b.addEventListener("hit",this.toBeat01Action,this);var b=c%5+5*Math.floor(c/5),a=b-5*Math.floor(c/5);0==a&&(this.gemCell[b].setRandomGemTexture(-1),
this.gemCell[b]._lock=0,this.shakeArray.push(this.gemCell[b]));for(d=0;d<a;d++)this.gemCell[b-d].setRandomGemTexture(this.gemCell[b-d-1].type),this.gemCell[b-d-1].setRandomGemTexture(-1),this.gemCell[b-d].alpha=1,this.gemCell[b-d]._lock=0,this.shakeArray.push(this.gemCell[b-d]);for(d=0;d<a+1;d++)-1==this.gemCell[b-d].type&&(this.gemCell[b-d].setRandomGemTexture(0),this.gemCell[b-d].alpha=1,this.shakeArray.push(this.gemCell[b-d]))}c=this.shakeArray.length;for(b=0;b<c;b++)this.shakeArray[b]._lock=1,
egret.Tween.get(this.shakeArray[b],{loop:!1}).to({color:0},0).to({y:this.shakeArray[b].y+20},10).to({y:this.shakeArray[b].y-10},10).to({y:this.shakeArray[b].y},10).to({color:16777215},0);egret.setTimeout(this.setGemLock,this,30)};e.prototype.setGemLock=function(d){d=this.shakeArray.length;for(var c=0;c<d;c++)this.shakeArray[c]._lock=0};e.prototype.setGemTouch=function(d){"undefined"===typeof d&&(d=!0);this.gameTimer.currentCount()>=this.maxPlayTimes&&(d=!1);for(var c=0;35>c;c++)this.gemCell[c].touchEnabled=
d};e.prototype.lookingForAllSameType=function(d){for(var c=0;35>c;c++)this.gemCell[c].type==d.type&&(this.gemCell[c]._lock=1,this.selectGem.push(this.gemCell[c]))};e.prototype.lookingForSameType=function(d){this.lookForArray=[];var c=d.index,b=c-1;-1<b&&9!=b%10&&4!=b%10&&this.gemCell[b]&&0==this.gemCell[b]._lock&&this.gemCell[b].type==d.type&&(this.gemCell[b]._lock=1,this.lookForArray.push(this.gemCell[b]));b=c-(5+Data.getZ(c));!Data.isTop(c)&&0<=b&&this.gemCell[b]&&0==this.gemCell[b]._lock&&this.gemCell[b].type==
d.type&&(this.gemCell[b]._lock=1,this.lookForArray.push(this.gemCell[b]));b=c-(4+Data.getZ(c));!Data.isDown(c)&&0<=b&&this.gemCell[b]&&0==this.gemCell[b]._lock&&this.gemCell[b].type==d.type&&(this.gemCell[b]._lock=1,this.lookForArray.push(this.gemCell[b]));b=c+(5-Data.getZ(c));!Data.isTop(c)&&34>=b&&this.gemCell[b]&&0==this.gemCell[b]._lock&&this.gemCell[b].type==d.type&&(this.gemCell[b]._lock=1,this.lookForArray.push(this.gemCell[b]));b=c+(6-Data.getZ(c));!Data.isDown(c)&&34>=b&&this.gemCell[b]&&
0==this.gemCell[b]._lock&&this.gemCell[b].type==d.type&&(this.gemCell[b]._lock=1,this.lookForArray.push(this.gemCell[b]));b=c+1;4!=c%10&&9!=c%10&&this.gemCell[b]&&0==this.gemCell[b]._lock&&this.gemCell[b].type==d.type&&(this.gemCell[b]._lock=1,this.lookForArray.push(this.gemCell[b]));d=this.lookForArray.length;if(0!=d){for(c=0;c<d;c++)this.selectGem.push(this.lookForArray[c]);d=this.selectGem.length;for(c=0;c<d;c++)this.lookingForSameType(this.selectGem[c])}return!1};return e}(egret.DisplayObjectContainer);
GameStage.prototype.__class__="GameStage";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},OverScene=function(d){function e(){d.call(this);this.guidePanel=null;var e=new egret.Sprite;e.graphics.beginFill(0,0.5);e.graphics.drawRect(0,0,Utils.getStageWidth(),Utils.getStageHeight());e.graphics.endFill();this.addChild(e);this.panel=new egret.Sprite;this.addChild(this.panel);e=Utils.createBitmapBySheetName("play_window",Data.sheetOverRes);
e.anchorX=e.anchorY=0.5;e.x=Utils.getStageWidth()/2;e.y=Utils.getStageHeight()/4;this.panel.addChild(e);var c=new egret.TextField;c.text=Data.comboNum+Data.gameBase.overWords[0]+Data.deleteGemsNum+Data.gameBase.overWords[1]+"\n";dp_share(Data.comboNum+Data.gameBase.overWords[0]+Data.deleteGemsNum+Data.gameBase.overWords[1]+Data.getTaskArray().content+Data.getComboNickName()+Data.getTaskArray().des);c.size=30;c.bold=!0;c.anchorX=c.anchorY=0.5;c.x=e.x;c.y=e.y+0.1*e.height;this.panel.addChild(c);var b=new egret.TextField;b.text=Data.getTaskArray().content+Data.getComboNickName()+Data.getTaskArray().des;b.size=30;b.bold=!0;b.anchorX=b.anchorY=0.5;b.x=e.x;b.y=c.y+c.height/
2;this.panel.addChild(b);c=new MyButton("share_button");c.anchorX=c.anchorY=0.5;c.x=Utils.getStageWidth()/2-Utils.getStageWidth()/4;c.y=e.y+e.height/2+c.height/2;this.panel.addChild(c);Utils.isWeiXin()||c.setTexture("forward_button");c.addEventListener("butt",this.shareButt,this);b=new MyButton("next_button");b.anchorX=b.anchorY=0.5;b.x=Utils.getStageWidth()/2+Utils.getStageWidth()/4;b.y=c.y;this.panel.addChild(b);b.addEventListener("butt",this.againButt,this);e=new MyButton("down_button");e.anchorX=
b.anchorY=0.5;e.x=Utils.getStageWidth()/2;e.y=Utils.getStageHeight()-1.3*e.height;this.panel.addChild(e);e.addEventListener("butt",this.downloadButt,this);c=Utils.createBitmapBySheetName("hand",Data.sheetOverRes);c.x=e.x+e.width/4;c.y=e.y;this.panel.addChild(c);egret.Tween.get(c,{loop:!0}).to({scaleX:0.7,scaleY:0.7},300).wait(500).to({alpha:0},500).wait(400).to({scaleX:1,scaleY:1},0);c=new egret.TextField;c.text="";
c.bold=!0;c.size=25;c.anchorX=c.anchorY=0.5;c.x=e.x;c.y=e.y-e.height/2-c.height/2;this.panel.addChild(c);this.alpha=0;this.y=-Utils.getStageHeight();egret.Tween.get(this,{loop:!1}).to({y:0,alpha:1},500);}__extends(e,d);e.prototype.shareButt=function(){showshare();};e.prototype.againButt=function(){egret.Tween.get(this,{loop:!1}).to({y:-Utils.getStageHeight(),
alpha:0},700).call(this.removeThis,this);var d=new egret.Event("again");this.dispatchEvent(d)};e.prototype.removeThis=function(){this.parent.removeChild(this)};e.prototype.downloadButt=function(){clickMore();};e.prototype.shareGuideInfor=function(){showshare();};e.prototype.removeGuideInfor=function(){this.guidePanel.parent.removeChild(this.guidePanel);
this.guidePanel=null;egret.Tween.get(this.panel,{loop:!1}).to({rotation:0,alpha:1},200)};return e}(egret.DisplayObjectContainer);OverScene.prototype.__class__="OverScene";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},LoadingUI=function(d){function e(){d.call(this);this.isFirst=!1}__extends(e,d);e.prototype.createView=function(){this.isFirst||(this.loadBg=Utils.createBitmapByImageName("loadBg"),Utils.getStageHeight()>this.loadBg.height&&(this.loadBg.width=Utils.getStageWidth(),this.loadBg.height=Utils.getStageHeight()),this.addChild(this.loadBg),
this.loadBar=Utils.createBitmapByImageName("loadBar"),this.loadBar.x=(Utils.getStageWidth()-this.loadBar.width)/2,this.loadBar.y=Utils.getStageHeight()-Utils.getStageHeight()/5,this.addChild(this.loadBar),this.loading=Utils.createBitmapByImageName("loadLine"),this.loading.x=this.loadBar.x+38,this.loading.y=this.loadBar.y+14,this.addChild(this.loading),this.setLoadMask(0),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.width=Utils.getStageWidth(),this.textField.height=
100,this.textField.y=this.loadBar.y-this.textField.size,this.textField.bold=!0,this.textField.italic=!0,this.textField.textAlign="center",this.isFirst=!0)};e.prototype.setLoadMask=function(d){this.loading&&(this.loading.mask=new egret.Rectangle(0,0,d,50))};e.prototype.setProgress=function(d,c){this.setLoadMask(this.loading.width/c*d);this.textField.text="\u6e38\u620f\u52a0\u8f7d\u4e2d..."+d+"/"+c};return e}(egret.Sprite);LoadingUI.prototype.__class__="LoadingUI";
var MainPanel=function(){function d(d){this.game=null;this._stage=d}d.prototype.startGame=function(){this.game=new GameStage;this._stage.addChild(this.game);this.game.addEventListener("over",this.overGame,this)};d.prototype.overGame=function(){var d=new OverScene;this._stage.addChild(d);d.addEventListener("again",this.restartGame,this)};d.prototype.restartGame=function(){this.game.openCurtain()};return d}();MainPanel.prototype.__class__="MainPanel";
var __extends=this.__extends||function(d,e){function f(){this.constructor=d}for(var c in e)e.hasOwnProperty(c)&&(d[c]=e[c]);f.prototype=e.prototype;d.prototype=new f},GameApp=function(d){function e(){d.call(this);this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,d);e.prototype.onAddToStage=function(d){this.loadingView=new LoadingUI;this.stage.addChild(this.loadingView);RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);RES.loadConfig("resource/resource.json",
"resource/")};e.prototype.onConfigComplete=function(d){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this);RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this);RES.loadGroup("loading",1);RES.loadGroup("preload")};e.prototype.onResourceLoadComplete=function(d){"preload"==d.groupName&&(this.stage.removeChild(this.loadingView),RES.destroyRes("loading"),
RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createGameScene())};e.prototype.onResourceProgress=function(d){"preload"==d.groupName&&(this.loadingView.createView(),this.loadingView.setProgress(d.itemsLoaded,d.itemsTotal))};e.prototype.createGameScene=function(){Data.sheetButtRes=RES.getRes("buttJson");Data.sheetGameRes=RES.getRes("gameJson");Data.sheetOverRes=RES.getRes("overJson");
RES.getResAsync("gameBase",Utils.setResult,Utils);Data.gameBase=Utils.getResult();this.mainPanel=new MainPanel(this);this.mainPanel.startGame();};return e}(egret.DisplayObjectContainer);GameApp.prototype.__class__="GameApp";
